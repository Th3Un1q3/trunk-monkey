{
  "commits": [
    {
      "author": "mikhail.gubenko",
      "date": "2024-07-06 17:10:20 +0200",
      "message": "fix markup in deletion",
      "diff": "diff --git a/README.md b/README.md\nindex a420ab935..3158bc0ab 100644\n--- a/README.md\n+++ b/README.md\n@@ -231,7 +231,7 @@ Local test accounts:\n ### 12. Teardown and cleanup\n \n - pnpm: To clean up packages installed by pnpm, you can run pnpm store prune to remove unused packages from the store. To remove all packages for a specific project, navigate to the project directory and run pnpm recursive uninstall to uninstall all dependencies in the project and its subdirectories.\n-- - direnv: To stop direnv from automatically loading the environment, you can simply delete the .envrc/ file in the project directory or run direnv deny in the project directory. To uninstall direnv, use the package manager you installed it with (e.g., brew uninstall direnv for macOS).\n+- direnv: To stop direnv from automatically loading the environment, you can simply delete the .envrc/ file in the project directory or run direnv deny in the project directory. To uninstall direnv, use the package manager you installed it with (e.g., brew uninstall direnv for macOS).\n - Nix: If you want to remove the Nix package manager and all packages installed through it, you can run sudo rm -rf /nix to delete the Nix store. To uninstall Nix completely, follow the [official Nix documentation for uninstallation](https://nix.dev/manual/nix/2.22/installation/uninstall) instructions.\n \n "
    },
    {
      "author": "mikhail.gubenko",
      "date": "2024-07-06 17:09:32 +0200",
      "message": "add teardown instructions",
      "diff": "diff --git a/README.md b/README.md\nindex e5a146a25..a420ab935 100644\n--- a/README.md\n+++ b/README.md\n@@ -228,6 +228,13 @@ Local test accounts:\n \n ### 11. Architecture and Design documentation\n \n+### 12. Teardown and cleanup\n+\n+- pnpm: To clean up packages installed by pnpm, you can run pnpm store prune to remove unused packages from the store. To remove all packages for a specific project, navigate to the project directory and run pnpm recursive uninstall to uninstall all dependencies in the project and its subdirectories.\n+- - direnv: To stop direnv from automatically loading the environment, you can simply delete the .envrc/ file in the project directory or run direnv deny in the project directory. To uninstall direnv, use the package manager you installed it with (e.g., brew uninstall direnv for macOS).\n+- Nix: If you want to remove the Nix package manager and all packages installed through it, you can run sudo rm -rf /nix to delete the Nix store. To uninstall Nix completely, follow the [official Nix documentation for uninstallation](https://nix.dev/manual/nix/2.22/installation/uninstall) instructions.\n+\n+\n [Miro board](https://miro.com/app/board/uXjVNNaWVeA=/?share_link_id=753160038592)\n \n ## How to Contribute"
    },
    {
      "author": "Terry Yin",
      "date": "2024-07-06 16:59:16 +0200",
      "message": "rephrase again",
      "diff": "diff --git a/e2e_test/features/ai_generated_content/note_details_completion.feature b/e2e_test/features/ai_generated_content/note_details_completion.feature\nindex 5dbd178ea..2eb692d6c 100644\n--- a/e2e_test/features/ai_generated_content/note_details_completion.feature\n+++ b/e2e_test/features/ai_generated_content/note_details_completion.feature\n@@ -4,7 +4,7 @@ Feature: Note details completion\n \n   Background:\n     Given I am logged in as an existing user\n-    And current user has a notebook with head note \"Taiwan\" and notes:\n+    And I have a notebook with head note \"Taiwan\" and notes:\n       | Topic            | Details    | Parent Topic|\n       | Taipei           | It is a    | Taiwan      |\n       | Weather          | It rains a | Taipei      |\ndiff --git a/e2e_test/features/ai_generated_content/notebook_assistant.feature b/e2e_test/features/ai_generated_content/notebook_assistant.feature\nindex 052b56bfd..3b8563c0d 100644\n--- a/e2e_test/features/ai_generated_content/notebook_assistant.feature\n+++ b/e2e_test/features/ai_generated_content/notebook_assistant.feature\n@@ -7,7 +7,7 @@ Feature: Notebook assistant\n \n   Background:\n     Given I am logged in as an admin\n-    And current user has a notebook with head note \"Vertical farming\" and notes:\n+    And I have a notebook with head note \"Vertical farming\" and notes:\n       | Topic       | Parent Topic     |\n       | Acquaponics | Vertical farming |\n \ndiff --git a/e2e_test/features/assessment/assessment_history.feature b/e2e_test/features/assessment/assessment_history.feature\nindex ab51cce35..87ad15399 100644\n--- a/e2e_test/features/assessment/assessment_history.feature\n+++ b/e2e_test/features/assessment/assessment_history.feature\n@@ -10,9 +10,7 @@ Feature: Assessment History\n \n   Scenario: \"View assessment history\"\n     Given I am logged in as an existing user\n-    And there are some notes for the current user:\n-      | Topic            | Parent Topic|\n-      | Countries        |             |\n+    And I have a notebook with the head note \"Countries\"\n     And notebook \"Countries\" is shared to the Bazaar\n     And there are questions for the note:\n       | noteTopic | question                           | answer  | oneWrongChoice | approved |\ndiff --git a/e2e_test/features/assessment/self_assessment.feature b/e2e_test/features/assessment/self_assessment.feature\nindex 81b35d92b..b64ea5f49 100644\n--- a/e2e_test/features/assessment/self_assessment.feature\n+++ b/e2e_test/features/assessment/self_assessment.feature\n@@ -4,7 +4,7 @@ Feature: Self assessment\n \n   Background:\n     Given I am logged in as an existing user\n-    And current user has a notebook with head note \"Countries\" and notes:\n+    And I have a notebook with head note \"Countries\" and notes:\n       | Topic     | Parent Topic |\n       | Singapore | Countries    |\n       | Vietnam   | Countries    |\ndiff --git a/e2e_test/features/bazaar/sharing.feature b/e2e_test/features/bazaar/sharing.feature\nindex 5826b5a90..d1144dbe3 100644\n--- a/e2e_test/features/bazaar/sharing.feature\n+++ b/e2e_test/features/bazaar/sharing.feature\n@@ -6,11 +6,10 @@ Feature: Bazaar sharing\n     Given I am logged in as an existing user\n \n   Scenario: Contributing To Bazaar\n-    Given there are some notes for the current user:\n-      | Topic            | Details                   | Parent Topic|\n-      | Shape            | The form of something     |             |\n-      | Square           | four equal straight sides | Shape       |\n-      | Triangle         | three sides shape         | Shape       |\n+    Given I have a notebook with head note \"Shape\" and notes:\n+      | Topic    | Details                   | Parent Topic |\n+      | Square   | four equal straight sides | Shape        |\n+      | Triangle | three sides shape         | Shape        |\n     When I choose to share my notebook \"Shape\"\n     Then I should see \"Shape\" shared in the Bazaar\n \ndiff --git a/e2e_test/step_definitions/note.ts b/e2e_test/step_definitions/note.ts\nindex 85910b3fc..af472626f 100644\n--- a/e2e_test/step_definitions/note.ts\n+++ b/e2e_test/step_definitions/note.ts\n@@ -22,7 +22,7 @@ defineParameterType({\n })\n \n Given(\n-  \"current user has a notebook with head note {string} and notes:\",\n+  \"I have a notebook with head note {string} and notes:\",\n   (notebookTopic: string, data: DataTable) => {\n     const notes = data.hashes()\n     notes.unshift({ Topic: notebookTopic })"
    },
    {
      "author": "Terry Yin",
      "date": "2024-07-06 16:55:55 +0200",
      "message": "remove double column",
      "diff": "diff --git a/e2e_test/features/ai_generated_content/note_details_completion.feature b/e2e_test/features/ai_generated_content/note_details_completion.feature\nindex a57d1f802..5dbd178ea 100644\n--- a/e2e_test/features/ai_generated_content/note_details_completion.feature\n+++ b/e2e_test/features/ai_generated_content/note_details_completion.feature\n@@ -4,7 +4,7 @@ Feature: Note details completion\n \n   Background:\n     Given I am logged in as an existing user\n-    And current user has a notebook with head note \"Taiwan\" and notes::\n+    And current user has a notebook with head note \"Taiwan\" and notes:\n       | Topic            | Details    | Parent Topic|\n       | Taipei           | It is a    | Taiwan      |\n       | Weather          | It rains a | Taipei      |\ndiff --git a/e2e_test/features/ai_generated_content/notebook_assistant.feature b/e2e_test/features/ai_generated_content/notebook_assistant.feature\nindex be052f508..052b56bfd 100644\n--- a/e2e_test/features/ai_generated_content/notebook_assistant.feature\n+++ b/e2e_test/features/ai_generated_content/notebook_assistant.feature\n@@ -7,7 +7,7 @@ Feature: Notebook assistant\n \n   Background:\n     Given I am logged in as an admin\n-    And current user has a notebook with head note \"Vertical farming\" and notes::\n+    And current user has a notebook with head note \"Vertical farming\" and notes:\n       | Topic       | Parent Topic     |\n       | Acquaponics | Vertical farming |\n \ndiff --git a/e2e_test/features/assessment/self_assessment.feature b/e2e_test/features/assessment/self_assessment.feature\nindex aafc9e3b6..81b35d92b 100644\n--- a/e2e_test/features/assessment/self_assessment.feature\n+++ b/e2e_test/features/assessment/self_assessment.feature\n@@ -4,7 +4,7 @@ Feature: Self assessment\n \n   Background:\n     Given I am logged in as an existing user\n-    And current user has a notebook with head note \"Countries\" and notes::\n+    And current user has a notebook with head note \"Countries\" and notes:\n       | Topic     | Parent Topic |\n       | Singapore | Countries    |\n       | Vietnam   | Countries    |\ndiff --git a/e2e_test/step_definitions/note.ts b/e2e_test/step_definitions/note.ts\nindex 893b18120..85910b3fc 100644\n--- a/e2e_test/step_definitions/note.ts\n+++ b/e2e_test/step_definitions/note.ts\n@@ -22,7 +22,7 @@ defineParameterType({\n })\n \n Given(\n-  \"current user has a notebook with head note {string} and notes::\",\n+  \"current user has a notebook with head note {string} and notes:\",\n   (notebookTopic: string, data: DataTable) => {\n     const notes = data.hashes()\n     notes.unshift({ Topic: notebookTopic })"
    },
    {
      "author": "Terry Yin",
      "date": "2024-07-06 16:55:11 +0200",
      "message": "rephrase",
      "diff": "diff --git a/e2e_test/features/ai_generated_content/note_details_completion.feature b/e2e_test/features/ai_generated_content/note_details_completion.feature\nindex d4ee0a917..a57d1f802 100644\n--- a/e2e_test/features/ai_generated_content/note_details_completion.feature\n+++ b/e2e_test/features/ai_generated_content/note_details_completion.feature\n@@ -4,7 +4,7 @@ Feature: Note details completion\n \n   Background:\n     Given I am logged in as an existing user\n-    And a notebook with head note \"Taiwan\" exists with the following sub notes:\n+    And current user has a notebook with head note \"Taiwan\" and notes::\n       | Topic            | Details    | Parent Topic|\n       | Taipei           | It is a    | Taiwan      |\n       | Weather          | It rains a | Taipei      |\ndiff --git a/e2e_test/features/ai_generated_content/notebook_assistant.feature b/e2e_test/features/ai_generated_content/notebook_assistant.feature\nindex f9a658f11..be052f508 100644\n--- a/e2e_test/features/ai_generated_content/notebook_assistant.feature\n+++ b/e2e_test/features/ai_generated_content/notebook_assistant.feature\n@@ -7,7 +7,7 @@ Feature: Notebook assistant\n \n   Background:\n     Given I am logged in as an admin\n-    And a notebook with head note \"Vertical farming\" exists with the following sub notes:\n+    And current user has a notebook with head note \"Vertical farming\" and notes::\n       | Topic       | Parent Topic     |\n       | Acquaponics | Vertical farming |\n \ndiff --git a/e2e_test/features/assessment/self_assessment.feature b/e2e_test/features/assessment/self_assessment.feature\nindex ce007f02a..aafc9e3b6 100644\n--- a/e2e_test/features/assessment/self_assessment.feature\n+++ b/e2e_test/features/assessment/self_assessment.feature\n@@ -4,7 +4,7 @@ Feature: Self assessment\n \n   Background:\n     Given I am logged in as an existing user\n-    And a notebook with head note \"Countries\" exists with the following sub notes:\n+    And current user has a notebook with head note \"Countries\" and notes::\n       | Topic     | Parent Topic |\n       | Singapore | Countries    |\n       | Vietnam   | Countries    |\ndiff --git a/e2e_test/step_definitions/note.ts b/e2e_test/step_definitions/note.ts\nindex e0f0ab36e..893b18120 100644\n--- a/e2e_test/step_definitions/note.ts\n+++ b/e2e_test/step_definitions/note.ts\n@@ -22,7 +22,7 @@ defineParameterType({\n })\n \n Given(\n-  \"a notebook with head note {string} exists with the following sub notes:\",\n+  \"current user has a notebook with head note {string} and notes::\",\n   (notebookTopic: string, data: DataTable) => {\n     const notes = data.hashes()\n     notes.unshift({ Topic: notebookTopic })"
    },
    {
      "author": "Terry Yin",
      "date": "2024-07-06 10:24:27 +0200",
      "message": "For clarity",
      "diff": "diff --git a/e2e_test/features/ai_generated_content/chat_about_a_note.feature b/e2e_test/features/ai_generated_content/chat_about_a_note.feature\nindex 2646b30ac..6070229df 100644\n--- a/e2e_test/features/ai_generated_content/chat_about_a_note.feature\n+++ b/e2e_test/features/ai_generated_content/chat_about_a_note.feature\n@@ -6,7 +6,7 @@ Feature: Chat about a note with AI\n \n   Background:\n     Given I am logged in as an existing user\n-    And I have a note with the topic \"There are 42 prefectures in Japan\"\n+    And I have a notebook with the head note \"There are 42 prefectures in Japan\"\n \n \n   Scenario: The users can chat with AI about the current note\ndiff --git a/e2e_test/features/ai_generated_content/image_generation.feature b/e2e_test/features/ai_generated_content/image_generation.feature\nindex d6c3486bc..e4ad6198e 100644\n--- a/e2e_test/features/ai_generated_content/image_generation.feature\n+++ b/e2e_test/features/ai_generated_content/image_generation.feature\n@@ -3,7 +3,7 @@ Feature: Generate image\n \n   Background:\n     Given I am logged in as an existing user\n-    And I have a note with the topic \"Animals\"\n+    And I have a notebook with the head note \"Animals\"\n \n   @usingMockedOpenAiService\n   Scenario: get an image for a note based on its topic\ndiff --git a/e2e_test/features/assessment/quiz_questions_management.feature b/e2e_test/features/assessment/quiz_questions_management.feature\nindex 066d0d066..67e75944c 100644\n--- a/e2e_test/features/assessment/quiz_questions_management.feature\n+++ b/e2e_test/features/assessment/quiz_questions_management.feature\n@@ -4,7 +4,7 @@ Feature: Quiz Question Management\n \n   Background:\n     Given I am logged in as an existing user\n-    And I have a note with the topic \"The cow joke\"\n+    And I have a notebook with the head note \"The cow joke\"\n     And there are questions for the note:\n       | noteTopic    | question             | answer | oneWrongChoice |\n       | The cow joke | What does a cow say? | moo    | woo            |\ndiff --git a/e2e_test/features/bazaar/add_to_learning.feature b/e2e_test/features/bazaar/add_to_learning.feature\nindex c71884bee..319391929 100644\n--- a/e2e_test/features/bazaar/add_to_learning.feature\n+++ b/e2e_test/features/bazaar/add_to_learning.feature\n@@ -23,7 +23,7 @@ Feature: Bazaar subscription\n   @mockBrowserTime\n   Scenario: subscribe to a note and review\n     Given I am logged in as an existing user\n-    And I have a note with the topic \"My memo\"\n+    And I have a notebook with the head note \"My memo\"\n     And my daily new notes to review is set to 2\n     When I subscribe to notebook \"Shape\" in the bazaar, with target of learning 1 notes per day\n     Then On day 1 I should have \"2/4\" note for initial review and \"0/0\" for repeat\ndiff --git a/e2e_test/features/notes/note_edit_accessories.feature b/e2e_test/features/notes/note_edit_accessories.feature\nindex 6dce9aa99..9fd07008c 100644\n--- a/e2e_test/features/notes/note_edit_accessories.feature\n+++ b/e2e_test/features/notes/note_edit_accessories.feature\n@@ -3,7 +3,7 @@ Feature: Note Edit Accessories\n \n   Background:\n     Given I am logged in as an existing user\n-    And I have a note with the topic \"lunar\"\n+    And I have a notebook with the head note \"lunar\"\n \n   Scenario: Edit a note\n     When I update note accessories of \"lunar\" to become:\ndiff --git a/e2e_test/features/notes/note_edit_upload_audio_file.feature b/e2e_test/features/notes/note_edit_upload_audio_file.feature\nindex 9bd1b3303..7f65cec56 100644\n--- a/e2e_test/features/notes/note_edit_upload_audio_file.feature\n+++ b/e2e_test/features/notes/note_edit_upload_audio_file.feature\n@@ -3,7 +3,7 @@ Feature: Note Upload Audio File\n \n     Background:\n         Given I am logged in as an existing user\n-        And I have a note with the topic \"podcast\"\n+        And I have a notebook with the head note \"podcast\"\n \n \n     Scenario: Upload audio into a note\ndiff --git a/e2e_test/features/wikidata/associate_wikidata.feature b/e2e_test/features/wikidata/associate_wikidata.feature\nindex e536257fc..7f71aeb29 100644\n--- a/e2e_test/features/wikidata/associate_wikidata.feature\n+++ b/e2e_test/features/wikidata/associate_wikidata.feature\n@@ -6,7 +6,7 @@ Feature: associate wikidata ID to note\n \n   Background:\n     Given I am logged in as an existing user\n-    And I have a note with the topic \"TDD\"\n+    And I have a notebook with the head note \"TDD\"\n \n   @usingMockedWikidataService\n   Scenario: Associate note to wikidata when the service is not available\ndiff --git a/e2e_test/features/wikidata/associate_wikidata_book_entries.feature b/e2e_test/features/wikidata/associate_wikidata_book_entries.feature\nindex 512a8c46d..a678e77ac 100644\n--- a/e2e_test/features/wikidata/associate_wikidata_book_entries.feature\n+++ b/e2e_test/features/wikidata/associate_wikidata_book_entries.feature\n@@ -2,7 +2,7 @@ Feature: Note creation for a book\n \n   Background:\n     Given I am logged in as an existing user\n-    And I have a note with the topic \"My Favourite Books\"\n+    And I have a notebook with the head note \"My Favourite Books\"\n \n   @usingMockedWikidataService\n   Scenario: Create a new book note with multiple authors as children notes\ndiff --git a/e2e_test/features/wikidata/associate_wikidata_location_entries.feature b/e2e_test/features/wikidata/associate_wikidata_location_entries.feature\nindex 4f75e3883..1068aa709 100644\n--- a/e2e_test/features/wikidata/associate_wikidata_location_entries.feature\n+++ b/e2e_test/features/wikidata/associate_wikidata_location_entries.feature\n@@ -5,7 +5,7 @@ Feature: Note creation/edit for a location\n \n   Background:\n     Given I am logged in as an existing user\n-    And I have a note with the topic \"places\"\n+    And I have a notebook with the head note \"places\"\n     And Wikidata.org has an entity \"Q334\" with label \"Singapore\"\n     And Wikidata.org entity \"Q334\" is a location at 1.3, 103.8\n \ndiff --git a/e2e_test/step_definitions/note.ts b/e2e_test/step_definitions/note.ts\nindex ce514442d..e0f0ab36e 100644\n--- a/e2e_test/step_definitions/note.ts\n+++ b/e2e_test/step_definitions/note.ts\n@@ -34,11 +34,7 @@ Given(\"there are some notes for the current user:\", (data: DataTable) => {\n   start.testability().injectNotes(data.hashes())\n })\n \n-Given(\"there are questions for the note:\", (data: DataTable) => {\n-  start.testability().injectQuizQuestions(data.hashes())\n-})\n-\n-Given(\"I have a note with the topic {string}\", (noteTopic: string) => {\n+Given(\"I have a notebook with the head note {string}\", (noteTopic: string) => {\n   start.testability().injectNotes([{ Topic: noteTopic }])\n })\n \n@@ -61,6 +57,10 @@ Given(\n   }\n )\n \n+Given(\"there are questions for the note:\", (data: DataTable) => {\n+  start.testability().injectQuizQuestions(data.hashes())\n+})\n+\n Given(\n   \"I add the following question for the note {string}:\",\n   (noteTopic: string, data: DataTable) => {"
    },
    {
      "author": "Terry Yin",
      "date": "2024-07-06 10:22:14 +0200",
      "message": "replace 2 of many",
      "diff": "diff --git a/e2e_test/features/ai_generated_content/note_details_completion.feature b/e2e_test/features/ai_generated_content/note_details_completion.feature\nindex df0671bcb..d4ee0a917 100644\n--- a/e2e_test/features/ai_generated_content/note_details_completion.feature\n+++ b/e2e_test/features/ai_generated_content/note_details_completion.feature\n@@ -4,9 +4,8 @@ Feature: Note details completion\n \n   Background:\n     Given I am logged in as an existing user\n-    And there are some notes for the current user:\n+    And a notebook with head note \"Taiwan\" exists with the following sub notes:\n       | Topic            | Details    | Parent Topic|\n-      | Taiwan           |            |             |\n       | Taipei           | It is a    | Taiwan      |\n       | Weather          | It rains a | Taipei      |\n \ndiff --git a/e2e_test/features/ai_generated_content/notebook_assistant.feature b/e2e_test/features/ai_generated_content/notebook_assistant.feature\nindex 5f30813c4..f9a658f11 100644\n--- a/e2e_test/features/ai_generated_content/notebook_assistant.feature\n+++ b/e2e_test/features/ai_generated_content/notebook_assistant.feature\n@@ -7,10 +7,9 @@ Feature: Notebook assistant\n \n   Background:\n     Given I am logged in as an admin\n-    And there are some notes for the current user:\n-      | Topic            | Details | Parent Topic     |\n-      | Vertical farming |         |                  |\n-      | Acquaponics      |         | Vertical farming |\n+    And a notebook with head note \"Vertical farming\" exists with the following sub notes:\n+      | Topic       | Parent Topic     |\n+      | Acquaponics | Vertical farming |\n \n \n   Scenario: The users will use the notebook assistant if exist"
    },
    {
      "author": "Terry Yin",
      "date": "2024-07-06 10:19:39 +0200",
      "message": "a new bridge under construction",
      "diff": "diff --git a/e2e_test/features/assessment/self_assessment.feature b/e2e_test/features/assessment/self_assessment.feature\nindex a49a76a46..ce007f02a 100644\n--- a/e2e_test/features/assessment/self_assessment.feature\n+++ b/e2e_test/features/assessment/self_assessment.feature\n@@ -4,9 +4,8 @@ Feature: Self assessment\n \n   Background:\n     Given I am logged in as an existing user\n-    And there are some notes for the current user:\n+    And a notebook with head note \"Countries\" exists with the following sub notes:\n       | Topic     | Parent Topic |\n-      | Countries |              |\n       | Singapore | Countries    |\n       | Vietnam   | Countries    |\n       | Japan     | Countries    |\ndiff --git a/e2e_test/step_definitions/note.ts b/e2e_test/step_definitions/note.ts\nindex 82c5eba83..ce514442d 100644\n--- a/e2e_test/step_definitions/note.ts\n+++ b/e2e_test/step_definitions/note.ts\n@@ -21,6 +21,15 @@ defineParameterType({\n   },\n })\n \n+Given(\n+  \"a notebook with head note {string} exists with the following sub notes:\",\n+  (notebookTopic: string, data: DataTable) => {\n+    const notes = data.hashes()\n+    notes.unshift({ Topic: notebookTopic })\n+    start.testability().injectNotes(notes)\n+  }\n+)\n+\n Given(\"there are some notes for the current user:\", (data: DataTable) => {\n   start.testability().injectNotes(data.hashes())\n })"
    },
    {
      "author": "Terry Yin",
      "date": "2024-07-06 10:12:39 +0200",
      "message": "wikidata id",
      "diff": "diff --git a/backend/src/main/java/com/odde/doughnut/testability/TestabilityRestController.java b/backend/src/main/java/com/odde/doughnut/testability/TestabilityRestController.java\nindex 3716c665c..17211d498 100644\n--- a/backend/src/main/java/com/odde/doughnut/testability/TestabilityRestController.java\n+++ b/backend/src/main/java/com/odde/doughnut/testability/TestabilityRestController.java\n@@ -96,6 +96,10 @@ class TestabilityRestController {\n     @Setter\n     private String imageMask;\n \n+    @JsonProperty(\"Wikidata Id\")\n+    @Setter\n+    private String wikidataId;\n+\n     private Note buildNote(User user, Timestamp currentUTCTimestamp) {\n       Note note =\n           new NoteConstructionService(user, currentUTCTimestamp, null).createNote(null, topic);\n@@ -110,6 +114,7 @@ class TestabilityRestController {\n       content.setImageMask(imageMask);\n       content.setImageUrl(imageUrl);\n \n+      note.setWikidataId(wikidataId);\n       note.setUpdatedAt(currentUTCTimestamp);\n       return note;\n     }\ndiff --git a/e2e_test/features/wikidata/associate_wikidata.feature b/e2e_test/features/wikidata/associate_wikidata.feature\nindex 27f54728b..e536257fc 100644\n--- a/e2e_test/features/wikidata/associate_wikidata.feature\n+++ b/e2e_test/features/wikidata/associate_wikidata.feature\n@@ -47,7 +47,7 @@ Feature: associate wikidata ID to note\n   @usingMockedWikidataService @mockBrowserTime\n   Scenario: Associate a new note with exisitng wikidata id\n     Given there are some notes for the current user:\n-      | Topic            | wikidataId | Parent Topic|\n+      | Topic            | Wikidata Id| Parent Topic|\n       | Animals          |            |             |\n       | Dog              | Q123       | Animals     |\n       | Canine           | Q456       | Animals     |\ndiff --git a/e2e_test/features/wikidata/associate_wikidata_person_entries.feature b/e2e_test/features/wikidata/associate_wikidata_person_entries.feature\nindex 1ca6b92bc..c6396e1e5 100644\n--- a/e2e_test/features/wikidata/associate_wikidata_person_entries.feature\n+++ b/e2e_test/features/wikidata/associate_wikidata_person_entries.feature\n@@ -11,21 +11,21 @@ Feature: Note creation should have details if wikidata is a person\n     And Wikidata.org entity \"Q706446\" is a person from \"Q22502\" and birthday is \"+1980-03-31T00:00:00Z\"\n     And Wikidata.org entity \"Q4604\" is a person from \"Q736936\" and birthday is \"-0552-10-09T00:00:00Z\"\n     And there are some notes for the current user:\n-      | Topic            | Parent Topic| wikidataId |\n-      | People           |             |            |\n-      | Taiwan           | People      | Q22502     |\n+      | Topic  | Parent Topic | Wikidata Id |\n+      | People |              |             |\n+      | Taiwan | People       | Q22502      |\n \n   @usingMockedWikidataService\n   Scenario Outline: Create a note for a person with wikidata should auto fill the details\n     When I create a note belonging to \"People\":\n-      | Topic         | Wikidata Id  |\n-      | <person name> | <wikidataId> |\n+      | Topic         | Wikidata Id   |\n+      | <person name> | <Wikidata Id> |\n     Then the note details on the current page should be \"<expected details>\"\n \n     Examples:\n-      | person name     | wikidataId | expected details         |\n-      | Wang Chien-ming | Q706446    | Taiwan, 31 March 1980    |\n-      | Confucius       | Q4604      | Lu, 09 October 0552 B.C. |\n+      | person name     | Wikidata Id | expected details         |\n+      | Wang Chien-ming | Q706446     | Taiwan, 31 March 1980    |\n+      | Confucius       | Q4604       | Lu, 09 October 0552 B.C. |\n \n \n   @usingMockedWikidataService\ndiff --git a/e2e_test/features/wikidata/note_create_with_wikidata_id.feature b/e2e_test/features/wikidata/note_create_with_wikidata_id.feature\nindex e361ffc5c..3b6ff7c80 100644\n--- a/e2e_test/features/wikidata/note_create_with_wikidata_id.feature\n+++ b/e2e_test/features/wikidata/note_create_with_wikidata_id.feature\n@@ -35,7 +35,7 @@ Feature: Nested Note Create with wikidata\n   @usingMockedWikidataService @mockBrowserTime\n   Scenario: Create a new note with duplicate wikidata id within the same notebook\n     Given there are some notes for the current user:\n-      | Topic            | wikidataId | Parent Topic|\n+      | Topic            | Wikidata Id| Parent Topic|\n       | Star             |            |             |\n       | Sun              | Q123       | Star        |\n     When I create a note belonging to \"Star\":\ndiff --git a/frontend/src/generated/backend/models/NoteTestData.ts b/frontend/src/generated/backend/models/NoteTestData.ts\nindex 2dc25c7d4..88d7f3829 100644\n--- a/frontend/src/generated/backend/models/NoteTestData.ts\n+++ b/frontend/src/generated/backend/models/NoteTestData.ts\n@@ -9,5 +9,6 @@ export type NoteTestData = {\n     'Skip Review'?: boolean;\n     'Image Url'?: string;\n     'Image Mask'?: string;\n+    'Wikidata Id'?: string;\n };\n \ndiff --git a/open_api_docs.yaml b/open_api_docs.yaml\nindex ba6120869..4a709c3dc 100644\n--- a/open_api_docs.yaml\n+++ b/open_api_docs.yaml\n@@ -2705,6 +2705,8 @@ components:\n           type: string\n         Image Mask:\n           type: string\n+        Wikidata Id:\n+          type: string\n     NotesTestData:\n       type: object\n       properties:"
    },
    {
      "author": "Terry Yin",
      "date": "2024-07-06 10:01:58 +0200",
      "message": "fix test",
      "diff": "diff --git a/e2e_test/support/commands.ts b/e2e_test/support/commands.ts\nindex 1ee4cd25c..25002ebfe 100644\n--- a/e2e_test/support/commands.ts\n+++ b/e2e_test/support/commands.ts\n@@ -302,8 +302,8 @@ Cypress.Commands.add(\"initialReviewNotes\", (noteTopics: string) => {\n   cy.initialReviewInSequence(\n     commonSenseSplit(noteTopics, \", \").map((topic: string) => {\n       return {\n-        review_type: topic === \"end\" ? \"initial done\" : \"single note\",\n-        topic,\n+        \"Review Type\": topic === \"end\" ? \"initial done\" : \"single note\",\n+        Topic: topic,\n       }\n     })\n   )"
    },
    {
      "author": "Terry Yin",
      "date": "2024-07-06 09:53:01 +0200",
      "message": "consistancy",
      "diff": "diff --git a/e2e_test/features/review__initial_learning/initial_reviews.feature b/e2e_test/features/review__initial_learning/initial_reviews.feature\nindex c76a36167..fda57eabb 100644\n--- a/e2e_test/features/review__initial_learning/initial_reviews.feature\n+++ b/e2e_test/features/review__initial_learning/initial_reviews.feature\n@@ -11,30 +11,30 @@ Feature: Initial Review\n   Scenario: First day of review\n       Given It's day 1, 8 hour\n       Then I do these initial reviews in sequence:\n-          | review_type   | Topic      |\n+          | Review Type   | Topic      |\n           | single note   | Note 1     |\n           | single note   | Note 2     |\n           | initial done  |            |\n       Given It's day 1, 9 hour\n       Then I do these initial reviews in sequence:\n-          | review_type   | Topic      |\n+          | Review Type   | Topic      |\n           | initial done  |            |\n \n   Scenario: First day review only part of the daily number\n       Given It's day 1, 8 hour\n       Then I do these initial reviews in sequence:\n-          | review_type   | Topic      |\n+          | Review Type   | Topic      |\n           | single note   | Note 1     |\n       Given It's day 1, 9 hour\n       Then I do these initial reviews in sequence:\n-          | review_type   | Topic      |\n+          | Review Type   | Topic      |\n           | single note   | Note 2     |\n           | initial done  |            |\n \n   Scenario: Skip review\n       Given It's day 1, 8 hour\n       When I do these initial reviews in sequence:\n-          | review_type   | Topic      | skip  |\n+          | Review Type   | Topic      | Skip  |\n           | single note   | Note 1     | yes   |\n           | single note   | Note 2     | no    |\n           | single note   | Note 3     | no    |\ndiff --git a/e2e_test/features/review__repetition/repetition_link_quiz.feature b/e2e_test/features/review__repetition/repetition_link_quiz.feature\nindex 28493d97d..06c4bc4de 100644\n--- a/e2e_test/features/review__repetition/repetition_link_quiz.feature\n+++ b/e2e_test/features/review__repetition/repetition_link_quiz.feature\n@@ -14,7 +14,7 @@ Feature: Repetition Link Quiz\n   Scenario Outline: \"Belongs to\" question\n     Given It's day 1, 8 hour\n     And I do these initial reviews in sequence:\n-      | review_type | Topic |\n+      | Review Type | Topic |\n       | single note | Moon  |\n     When I am repeat-reviewing my old note on day 2\n     Then I should be asked link question \"Moon\" \"a specialization of\" with options \"Earth, Mars\"\ndiff --git a/e2e_test/features/review__repetition/review_pages.feature b/e2e_test/features/review__repetition/review_pages.feature\nindex 378cdb5bb..201c236bf 100644\n--- a/e2e_test/features/review__repetition/review_pages.feature\n+++ b/e2e_test/features/review__repetition/review_pages.feature\n@@ -4,25 +4,25 @@ Feature: Review Pages\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | Details         | Image Url |\n-      | Sedition         | Incite violence |             |\n-      | Sedation         | Put to sleep    |             |\n-      | Sedative         | Sleep medicine  | a_slide.jpg |\n+      | Topic    | Details         | Image Url   |\n+      | Sedition | Incite violence |             |\n+      | Sedation | Put to sleep    |             |\n+      | Sedative | Sleep medicine  | a_slide.jpg |\n     And there is \"similar to\" link between note \"Sedition\" and \"Sedation\"\n \n   Scenario: Different review pages for different notes\n     * I do these initial reviews in sequence:\n-      | review_type  | Topic    | additional_info             |\n+      | Review Type  | Topic    | Additional Info             |\n       | single note  | Sedition | Incite violence             |\n       | single note  | Sedation | Put to sleep                |\n-      | image note | Sedative | Sleep medicine; a_slide.jpg |\n+      | image note   | Sedative | Sleep medicine; a_slide.jpg |\n       | link         | Sedition | similar to; Sedation        |\n       | initial done |          |                             |\n \n   Scenario: Index page\n     Given It's day 1, 8 hour\n     And I do these initial reviews in sequence:\n-      | review_type | Topic    |\n+      | Review Type | Topic    |\n       | single note | Sedition |\n     When It's day 2, 9 hour\n     And I go to the reviews page\ndiff --git a/e2e_test/support/commands.ts b/e2e_test/support/commands.ts\nindex ec9169918..1ee4cd25c 100644\n--- a/e2e_test/support/commands.ts\n+++ b/e2e_test/support/commands.ts\n@@ -196,25 +196,30 @@ Cypress.Commands.add(\"expectExactLinkTargets\", (targets) => {\n \n Cypress.Commands.add(\n   \"initialReviewOneNoteIfThereIs\",\n-  ({ review_type, topic, additional_info, skip }) => {\n-    if (review_type == \"initial done\") {\n+  ({\n+    \"Review Type\": reviewType,\n+    Topic: topic,\n+    \"Additional Info\": additionalInfo,\n+    Skip: skip,\n+  }) => {\n+    if (reviewType == \"initial done\") {\n       cy.findByText(\"You have achieved your daily new notes goal.\").should(\n         \"be.visible\"\n       )\n     } else {\n       cy.findByText(topic, { selector: \"main *\" })\n-      switch (review_type) {\n+      switch (reviewType) {\n         case \"single note\": {\n-          if (additional_info) {\n-            cy.get(\".note-details\").should(\"contain\", additional_info)\n+          if (additionalInfo) {\n+            cy.get(\".note-details\").should(\"contain\", additionalInfo)\n           }\n           break\n         }\n \n         case \"image note\": {\n-          if (additional_info) {\n+          if (additionalInfo) {\n             const [expectedDetails, expectedImage] = commonSenseSplit(\n-              additional_info,\n+              additionalInfo,\n               \"; \"\n             )\n             cy.get(\".note-details\").should(\"contain\", expectedDetails)\n@@ -227,9 +232,9 @@ Cypress.Commands.add(\n         }\n \n         case \"link\": {\n-          if (additional_info) {\n+          if (additionalInfo) {\n             const [linkType, targetNote] = commonSenseSplit(\n-              additional_info,\n+              additionalInfo,\n               \"; \"\n             )\n             cy.findByText(topic)\n@@ -240,7 +245,7 @@ Cypress.Commands.add(\n         }\n \n         default:\n-          expect(review_type).equal(\"a known review page type\")\n+          expect(reviewType).equal(\"a known review page type\")\n       }\n       if (skip === \"yes\") {\n         cy.findByText(\"Skip repetition\").click()"
    },
    {
      "author": "Terry Yin",
      "date": "2024-07-06 09:40:44 +0200",
      "message": "humanize the column names",
      "diff": "diff --git a/backend/src/main/java/com/odde/doughnut/testability/TestabilityRestController.java b/backend/src/main/java/com/odde/doughnut/testability/TestabilityRestController.java\nindex 56b88748d..3716c665c 100644\n--- a/backend/src/main/java/com/odde/doughnut/testability/TestabilityRestController.java\n+++ b/backend/src/main/java/com/odde/doughnut/testability/TestabilityRestController.java\n@@ -76,17 +76,25 @@ class TestabilityRestController {\n     @JsonProperty(\"Topic\")\n     public String topic;\n \n-    @Setter private String details;\n+    @JsonProperty(\"Details\")\n+    @Setter\n+    private String details;\n \n     @JsonProperty(\"Parent Topic\")\n     @Setter\n     private String parentTopic;\n \n-    @Setter private Boolean skipReview;\n-    @Setter private String url;\n-    @Setter private String imageUrl;\n-    @Setter private String imageMask;\n-    @Setter private String wikidataId;\n+    @JsonProperty(\"Skip Review\")\n+    @Setter\n+    private Boolean skipReview;\n+\n+    @JsonProperty(\"Image Url\")\n+    @Setter\n+    private String imageUrl;\n+\n+    @JsonProperty(\"Image Mask\")\n+    @Setter\n+    private String imageMask;\n \n     private Note buildNote(User user, Timestamp currentUTCTimestamp) {\n       Note note =\n@@ -99,11 +107,9 @@ class TestabilityRestController {\n       if (skipReview != null) {\n         note.getReviewSetting().setSkipReview(skipReview);\n       }\n-      content.setUrl(url);\n       content.setImageMask(imageMask);\n       content.setImageUrl(imageUrl);\n \n-      note.setWikidataId(wikidataId);\n       note.setUpdatedAt(currentUTCTimestamp);\n       return note;\n     }\ndiff --git a/e2e_test/features/ai_generated_content/note_details_completion.feature b/e2e_test/features/ai_generated_content/note_details_completion.feature\nindex 664700de4..df0671bcb 100644\n--- a/e2e_test/features/ai_generated_content/note_details_completion.feature\n+++ b/e2e_test/features/ai_generated_content/note_details_completion.feature\n@@ -5,7 +5,7 @@ Feature: Note details completion\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | details    | Parent Topic|\n+      | Topic            | Details    | Parent Topic|\n       | Taiwan           |            |             |\n       | Taipei           | It is a    | Taiwan      |\n       | Weather          | It rains a | Taipei      |\ndiff --git a/e2e_test/features/ai_generated_content/notebook_assistant.feature b/e2e_test/features/ai_generated_content/notebook_assistant.feature\nindex a1eb7acf2..5f30813c4 100644\n--- a/e2e_test/features/ai_generated_content/notebook_assistant.feature\n+++ b/e2e_test/features/ai_generated_content/notebook_assistant.feature\n@@ -8,7 +8,7 @@ Feature: Notebook assistant\n   Background:\n     Given I am logged in as an admin\n     And there are some notes for the current user:\n-      | Topic            | details | Parent Topic     |\n+      | Topic            | Details | Parent Topic     |\n       | Vertical farming |         |                  |\n       | Acquaponics      |         | Vertical farming |\n \ndiff --git a/e2e_test/features/bazaar/add_to_learning.feature b/e2e_test/features/bazaar/add_to_learning.feature\nindex 03fc88227..c71884bee 100644\n--- a/e2e_test/features/bazaar/add_to_learning.feature\n+++ b/e2e_test/features/bazaar/add_to_learning.feature\n@@ -4,7 +4,7 @@ Feature: Bazaar subscription\n \n   Background:\n     Given there are some notes for existing user \"another_old_learner\"\n-      | Topic            | Parent Topic| skipReview |\n+      | Topic            | Parent Topic| Skip Review|\n       | Shape            |             | true       |\n       | Square           | Shape       |            |\n       | Triangle         | Shape       |            |\ndiff --git a/e2e_test/features/bazaar/browsing.feature b/e2e_test/features/bazaar/browsing.feature\nindex f1581847a..abaad5018 100644\n--- a/e2e_test/features/bazaar/browsing.feature\n+++ b/e2e_test/features/bazaar/browsing.feature\n@@ -3,7 +3,7 @@ Feature: Bazaar browsing\n \n   Background:\n     Given there are some notes for existing user \"old_learner\"\n-      | Topic            | details                          | Parent Topic| hideTitleInArticle | showAsBulletInArticle |\n+      | Topic            | Details                          | Parent Topic| hideTitleInArticle | showAsBulletInArticle |\n       | Shape            | The form of something            |             | false              | false                 |\n       | Rectangle        | four equal straight sides        | Shape       | false              | false                 |\n       | Triangle         | three sides shape                | Shape       | false              | false                 |\ndiff --git a/e2e_test/features/bazaar/sharing.feature b/e2e_test/features/bazaar/sharing.feature\nindex 9d32040da..5826b5a90 100644\n--- a/e2e_test/features/bazaar/sharing.feature\n+++ b/e2e_test/features/bazaar/sharing.feature\n@@ -7,7 +7,7 @@ Feature: Bazaar sharing\n \n   Scenario: Contributing To Bazaar\n     Given there are some notes for the current user:\n-      | Topic            | details                   | Parent Topic|\n+      | Topic            | Details                   | Parent Topic|\n       | Shape            | The form of something     |             |\n       | Square           | four equal straight sides | Shape       |\n       | Triangle         | three sides shape         | Shape       |\ndiff --git a/e2e_test/features/linking_notes/linking_note_creation.feature b/e2e_test/features/linking_notes/linking_note_creation.feature\nindex 591d3d9bb..c0460e9d5 100644\n--- a/e2e_test/features/linking_notes/linking_note_creation.feature\n+++ b/e2e_test/features/linking_notes/linking_note_creation.feature\n@@ -6,7 +6,7 @@ Feature: link note\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | details         |\n+      | Topic            | Details         |\n       | Sedition         | Incite violence |\n       | Sedation         | Put to sleep    |\n       | Sedative         | Sleep medicine  |\ndiff --git a/e2e_test/features/linking_notes/linking_note_edit_and_remove.feature b/e2e_test/features/linking_notes/linking_note_edit_and_remove.feature\nindex 3a1e9cb4d..f201c194c 100644\n--- a/e2e_test/features/linking_notes/linking_note_edit_and_remove.feature\n+++ b/e2e_test/features/linking_notes/linking_note_edit_and_remove.feature\n@@ -3,7 +3,7 @@ Feature: link edit and remove\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | skipReview | Parent Topic|\n+      | Topic            | Skip Review| Parent Topic|\n       | Space            | true       |             |\n       | Moon             | true       | Space       |\n       | Earth            | true       | Space       |\ndiff --git a/e2e_test/features/notebooks/notebook_deletion.feature b/e2e_test/features/notebooks/notebook_deletion.feature\nindex 6f35a33e8..9983a91fa 100644\n--- a/e2e_test/features/notebooks/notebook_deletion.feature\n+++ b/e2e_test/features/notebooks/notebook_deletion.feature\n@@ -3,7 +3,7 @@ Feature: Notebook deletion\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | Parent Topic   | details             |\n+      | Topic            | Parent Topic   | Details             |\n       | LeSS in Action   |                | An awesome training |\n       | team             | LeSS in Action |                     |\n       | tech             | LeSS in Action |                     |\ndiff --git a/e2e_test/features/notes/note_creation.feature b/e2e_test/features/notes/note_creation.feature\nindex 53196a894..7b466733e 100644\n--- a/e2e_test/features/notes/note_creation.feature\n+++ b/e2e_test/features/notes/note_creation.feature\n@@ -5,7 +5,7 @@ Feature: Nested Note creation\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | Parent Topic   | details             |\n+      | Topic            | Parent Topic   | Details             |\n       | LeSS in Action   |                | An awesome training |\n       | team             | LeSS in Action |                     |\n       | tech             | LeSS in Action |                     |\ndiff --git a/e2e_test/features/notes/note_display.feature b/e2e_test/features/notes/note_display.feature\nindex 7f9ab7a92..6890bb41d 100644\n--- a/e2e_test/features/notes/note_display.feature\n+++ b/e2e_test/features/notes/note_display.feature\n@@ -7,7 +7,7 @@ Feature: Note display\n \n   Scenario: Long details is abbreviated in card view\n     Given there are some notes for the current user:\n-      | Topic                                   | details                                                                                                                                                                                                     |\n+      | Topic                                   | Details                                                                                                                                                                                                     |\n       | Potentially shippable product increment | The output of every Sprint is called a Potentially Shippable Product Increment. The work of all the teams must be integrated before the end of every Sprint—the integration must be done during the Sprint. |\n     Then I should see these notes belonging to the user at the top level of all my notes\n       | note-topic                              | note-details                                       |\ndiff --git a/e2e_test/features/notes/note_edit.feature b/e2e_test/features/notes/note_edit.feature\nindex 7f4011184..34ef7e8da 100644\n--- a/e2e_test/features/notes/note_edit.feature\n+++ b/e2e_test/features/notes/note_edit.feature\n@@ -5,7 +5,7 @@ Feature: Note Edit\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | details             |\n+      | Topic            | Details             |\n       | LeSS in Action   | An awesome training |\n \n   Scenario: Edit a note\n@@ -14,7 +14,7 @@ Feature: Note Edit\n       | Odd-e CSD | Our best training |\n     Then I should see \"Odd-e CSD\" in the page\n     And I should see these notes belonging to the user at the top level of all my notes\n-      | Topic     | details           |\n+      | Topic     | Details           |\n       | Odd-e CSD | Our best training |\n \n   Scenario: Edit a note topic and edit details\ndiff --git a/e2e_test/features/notes/note_recent_update.feature b/e2e_test/features/notes/note_recent_update.feature\nindex fc1052fdd..82cf37a21 100644\n--- a/e2e_test/features/notes/note_recent_update.feature\n+++ b/e2e_test/features/notes/note_recent_update.feature\n@@ -6,7 +6,7 @@ Feature: see recent note update\n     Given I am logged in as an existing user\n     And I let the server to time travel to 100 hours ago\n     And there are some notes for the current user:\n-      | Topic            | Parent Topic| details |\n+      | Topic            | Parent Topic| Details |\n       | NoteBook         |             |         |\n       | Note1            | NoteBook    |         |\n       | Note2            | NoteBook    |         |\ndiff --git a/e2e_test/features/notes/search_note.feature b/e2e_test/features/notes/search_note.feature\nindex 424eba57b..1e0a061de 100644\n--- a/e2e_test/features/notes/search_note.feature\n+++ b/e2e_test/features/notes/search_note.feature\n@@ -6,7 +6,7 @@ Feature: search note\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | details        | Parent Topic|\n+      | Topic            | Details        | Parent Topic|\n       | Sedation         | Put to sleep   |             |\n       | Sedative         | Sleep medicine |             |\n       | Physical         |                | Sedation    |\ndiff --git a/e2e_test/features/review__repetition/repetition_link_quiz.feature b/e2e_test/features/review__repetition/repetition_link_quiz.feature\nindex 8b1be74c8..28493d97d 100644\n--- a/e2e_test/features/review__repetition/repetition_link_quiz.feature\n+++ b/e2e_test/features/review__repetition/repetition_link_quiz.feature\n@@ -4,7 +4,7 @@ Feature: Repetition Link Quiz\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | skipReview | Parent Topic|\n+      | Topic            | Skip Review| Parent Topic|\n       | Space            | true       |             |\n       | Moon             | true       | Space       |\n       | Earth            | true       | Space       |\ndiff --git a/e2e_test/features/review__repetition/repetition_picture_quiz.feature b/e2e_test/features/review__repetition/repetition_picture_quiz.feature\nindex 0f0172f55..6f9547d3c 100644\n--- a/e2e_test/features/review__repetition/repetition_picture_quiz.feature\n+++ b/e2e_test/features/review__repetition/repetition_picture_quiz.feature\n@@ -4,7 +4,7 @@ Feature: Repetition Image Quiz\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | skipReview | Parent Topic| imageUrl                           | imageMask             |\n+      | Topic            | Skip Review| Parent Topic| Image Url                          | Image Mask           |\n       | Space            | true       |             |                                    |                       |\n       | Earth            |            | Space       | https://picsum.photos/id/237/20/30 | 20 40 70 30 40 80 5 8 |\n       | Moon             |            | Space       | https://picsum.photos/id/238/20/30 | 30 40 20 30           |\ndiff --git a/e2e_test/features/review__repetition/repetition_quiz.feature b/e2e_test/features/review__repetition/repetition_quiz.feature\nindex 094e4a082..d94279c08 100644\n--- a/e2e_test/features/review__repetition/repetition_quiz.feature\n+++ b/e2e_test/features/review__repetition/repetition_quiz.feature\n@@ -4,7 +4,7 @@ Feature: Repetition Quiz\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | details                        | skipReview | Parent Topic|\n+      | Topic            | Details                        | Skip Review| Parent Topic|\n       | English          |                                | true       |             |\n       | sedition         | Sedition means incite violence | false      | English     |\n       | sedation         | Put to sleep is sedation       | false      | English     |\ndiff --git a/e2e_test/features/review__repetition/repetition_quiz_ai_question.feature b/e2e_test/features/review__repetition/repetition_quiz_ai_question.feature\nindex 3d0448323..a56df440c 100644\n--- a/e2e_test/features/review__repetition/repetition_quiz_ai_question.feature\n+++ b/e2e_test/features/review__repetition/repetition_quiz_ai_question.feature\n@@ -4,7 +4,7 @@ Feature: Repetition Quiz\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | details                        | skipReview | Parent Topic|\n+      | Topic            | Details                        | Skip Review| Parent Topic|\n       | English          |                                | true       |             |\n       | sedition         | Sedition means incite violence | false      | English     |\n       | sedation         | Put to sleep is sedation       | false      | English     |\ndiff --git a/e2e_test/features/review__repetition/repetition_review_answers.feature b/e2e_test/features/review__repetition/repetition_review_answers.feature\nindex 69c21cd21..fb715ea84 100644\n--- a/e2e_test/features/review__repetition/repetition_review_answers.feature\n+++ b/e2e_test/features/review__repetition/repetition_review_answers.feature\n@@ -4,7 +4,7 @@ Feature: Repetition Quiz\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | details                        | skipReview | Parent Topic|\n+      | Topic            | Details                        | Skip Review| Parent Topic|\n       | English          |                                | true       |             |\n       | sedition         | Sedition means incite violence | false      | English     |\n       | sedation         | Put to sleep is sedation       | false      | English     |\ndiff --git a/e2e_test/features/review__repetition/review_pages.feature b/e2e_test/features/review__repetition/review_pages.feature\nindex ca5af9158..378cdb5bb 100644\n--- a/e2e_test/features/review__repetition/review_pages.feature\n+++ b/e2e_test/features/review__repetition/review_pages.feature\n@@ -4,7 +4,7 @@ Feature: Review Pages\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | details         | imageUrl  |\n+      | Topic            | Details         | Image Url |\n       | Sedition         | Incite violence |             |\n       | Sedation         | Put to sleep    |             |\n       | Sedative         | Sleep medicine  | a_slide.jpg |\ndiff --git a/e2e_test/features/wikidata/associate_wikidata_location_entries.feature b/e2e_test/features/wikidata/associate_wikidata_location_entries.feature\nindex b928f709a..4f75e3883 100644\n--- a/e2e_test/features/wikidata/associate_wikidata_location_entries.feature\n+++ b/e2e_test/features/wikidata/associate_wikidata_location_entries.feature\n@@ -19,7 +19,7 @@ Feature: Note creation/edit for a location\n   @usingMockedWikidataService\n   Scenario: Existing Note wikidata edited by user\n     When there are some notes for the current user:\n-      | Topic            | details     | Parent Topic|\n+      | Topic            | Details     | Parent Topic|\n       | Singapore        | The red dot | places      |\n     And I associate the note \"Singapore\" with wikidata id \"Q334\"\n     Then the note details on the current page should be \"Location: 1.3'N, 103.8'E\\nThe red dot\"\ndiff --git a/e2e_test/features/wikidata/note_create_with_wikidata_id.feature b/e2e_test/features/wikidata/note_create_with_wikidata_id.feature\nindex a381f4b2a..e361ffc5c 100644\n--- a/e2e_test/features/wikidata/note_create_with_wikidata_id.feature\n+++ b/e2e_test/features/wikidata/note_create_with_wikidata_id.feature\n@@ -5,7 +5,7 @@ Feature: Nested Note Create with wikidata\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | Parent Topic| details             |\n+      | Topic            | Parent Topic| Details             |\n       | Animals          |             | An awesome training |\n \n   @usingMockedWikidataService @mockBrowserTime\ndiff --git a/frontend/src/generated/backend/models/NoteTestData.ts b/frontend/src/generated/backend/models/NoteTestData.ts\nindex 221001e1c..2dc25c7d4 100644\n--- a/frontend/src/generated/backend/models/NoteTestData.ts\n+++ b/frontend/src/generated/backend/models/NoteTestData.ts\n@@ -3,13 +3,11 @@\n /* tslint:disable */\n /* eslint-disable */\n export type NoteTestData = {\n-    details?: string;\n-    skipReview?: boolean;\n-    url?: string;\n-    imageUrl?: string;\n-    imageMask?: string;\n-    wikidataId?: string;\n     Topic?: string;\n+    Details?: string;\n     'Parent Topic'?: string;\n+    'Skip Review'?: boolean;\n+    'Image Url'?: string;\n+    'Image Mask'?: string;\n };\n \ndiff --git a/open_api_docs.yaml b/open_api_docs.yaml\nindex 6eccb2515..ba6120869 100644\n--- a/open_api_docs.yaml\n+++ b/open_api_docs.yaml\n@@ -2693,27 +2693,17 @@ components:\n     NoteTestData:\n       type: object\n       properties:\n-        details:\n-          type: string\n-          writeOnly: true\n-        skipReview:\n-          type: boolean\n-          writeOnly: true\n-        url:\n-          type: string\n-          writeOnly: true\n-        imageUrl:\n+        Topic:\n           type: string\n-          writeOnly: true\n-        imageMask:\n+        Details:\n           type: string\n-          writeOnly: true\n-        wikidataId:\n+        Parent Topic:\n           type: string\n-          writeOnly: true\n-        Topic:\n+        Skip Review:\n+          type: boolean\n+        Image Url:\n           type: string\n-        Parent Topic:\n+        Image Mask:\n           type: string\n     NotesTestData:\n       type: object"
    },
    {
      "author": "Terry Yin",
      "date": "2024-07-06 09:34:10 +0200",
      "message": "humanize more columns (paraent topic)",
      "diff": "diff --git a/backend/src/main/java/com/odde/doughnut/testability/TestabilityRestController.java b/backend/src/main/java/com/odde/doughnut/testability/TestabilityRestController.java\nindex d7e38c647..56b88748d 100644\n--- a/backend/src/main/java/com/odde/doughnut/testability/TestabilityRestController.java\n+++ b/backend/src/main/java/com/odde/doughnut/testability/TestabilityRestController.java\n@@ -1,5 +1,6 @@\n package com.odde.doughnut.testability;\n \n+import com.fasterxml.jackson.annotation.JsonProperty;\n import com.odde.doughnut.controllers.dto.QuestionSuggestionParams;\n import com.odde.doughnut.entities.*;\n import com.odde.doughnut.entities.repositories.NoteRepository;\n@@ -72,9 +73,15 @@ class TestabilityRestController {\n   }\n \n   static class NoteTestData {\n-    public String Topic;\n+    @JsonProperty(\"Topic\")\n+    public String topic;\n+\n     @Setter private String details;\n-    @Setter private String parentTopic;\n+\n+    @JsonProperty(\"Parent Topic\")\n+    @Setter\n+    private String parentTopic;\n+\n     @Setter private Boolean skipReview;\n     @Setter private String url;\n     @Setter private String imageUrl;\n@@ -83,10 +90,10 @@ class TestabilityRestController {\n \n     private Note buildNote(User user, Timestamp currentUTCTimestamp) {\n       Note note =\n-          new NoteConstructionService(user, currentUTCTimestamp, null).createNote(null, Topic);\n+          new NoteConstructionService(user, currentUTCTimestamp, null).createNote(null, topic);\n       NoteAccessory content = note.getOrInitializeNoteAccessory();\n \n-      note.setTopicConstructor(Topic);\n+      note.setTopicConstructor(topic);\n       note.setDetails(details);\n       note.setUpdatedAt(currentUTCTimestamp);\n       if (skipReview != null) {\n@@ -120,7 +127,7 @@ class TestabilityRestController {\n         ModelFactoryService modelFactoryService) {\n       noteTestData.forEach(\n           injection -> {\n-            Note note = titleNoteMap.get(injection.Topic);\n+            Note note = titleNoteMap.get(injection.topic);\n \n             if (Strings.isBlank(injection.parentTopic)) {\n               note.buildNotebookForHeadNote(ownership, user);\n@@ -142,7 +149,7 @@ class TestabilityRestController {\n \n     private void saveByOriginalOrder(\n         Map<String, Note> titleNoteMap, ModelFactoryService modelFactoryService) {\n-      noteTestData.forEach((inject -> modelFactoryService.save(titleNoteMap.get(inject.Topic))));\n+      noteTestData.forEach((inject -> modelFactoryService.save(titleNoteMap.get(inject.topic))));\n     }\n   }\n \ndiff --git a/e2e_test/features/ai_generated_content/note_details_completion.feature b/e2e_test/features/ai_generated_content/note_details_completion.feature\nindex 57ccca97a..664700de4 100644\n--- a/e2e_test/features/ai_generated_content/note_details_completion.feature\n+++ b/e2e_test/features/ai_generated_content/note_details_completion.feature\n@@ -5,7 +5,7 @@ Feature: Note details completion\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | details    | parentTopic |\n+      | Topic            | details    | Parent Topic|\n       | Taiwan           |            |             |\n       | Taipei           | It is a    | Taiwan      |\n       | Weather          | It rains a | Taipei      |\ndiff --git a/e2e_test/features/ai_generated_content/notebook_assistant.feature b/e2e_test/features/ai_generated_content/notebook_assistant.feature\nindex c65b7338f..a1eb7acf2 100644\n--- a/e2e_test/features/ai_generated_content/notebook_assistant.feature\n+++ b/e2e_test/features/ai_generated_content/notebook_assistant.feature\n@@ -8,7 +8,7 @@ Feature: Notebook assistant\n   Background:\n     Given I am logged in as an admin\n     And there are some notes for the current user:\n-      | Topic            | details | parentTopic      |\n+      | Topic            | details | Parent Topic     |\n       | Vertical farming |         |                  |\n       | Acquaponics      |         | Vertical farming |\n \ndiff --git a/e2e_test/features/assessment/assessment_history.feature b/e2e_test/features/assessment/assessment_history.feature\nindex a10c849a7..ab51cce35 100644\n--- a/e2e_test/features/assessment/assessment_history.feature\n+++ b/e2e_test/features/assessment/assessment_history.feature\n@@ -11,7 +11,7 @@ Feature: Assessment History\n   Scenario: \"View assessment history\"\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | parentTopic |\n+      | Topic            | Parent Topic|\n       | Countries        |             |\n     And notebook \"Countries\" is shared to the Bazaar\n     And there are questions for the note:\ndiff --git a/e2e_test/features/assessment/self_assessment.feature b/e2e_test/features/assessment/self_assessment.feature\nindex ae9d7b799..a49a76a46 100644\n--- a/e2e_test/features/assessment/self_assessment.feature\n+++ b/e2e_test/features/assessment/self_assessment.feature\n@@ -5,13 +5,13 @@ Feature: Self assessment\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | parentTopic |\n-      | Countries        |             |\n-      | Singapore        | Countries   |\n-      | Vietnam          | Countries   |\n-      | Japan            | Countries   |\n-      | Korea            | Countries   |\n-      | China            | Countries   |\n+      | Topic     | Parent Topic |\n+      | Countries |              |\n+      | Singapore | Countries    |\n+      | Vietnam   | Countries    |\n+      | Japan     | Countries    |\n+      | Korea     | Countries    |\n+      | China     | Countries    |\n     And notebook \"Countries\" is shared to the Bazaar\n     And there are questions for the note:\n       | noteTopic | question                                       | answer   | oneWrongChoice | approved |\ndiff --git a/e2e_test/features/bazaar/add_to_learning.feature b/e2e_test/features/bazaar/add_to_learning.feature\nindex de6d829fc..03fc88227 100644\n--- a/e2e_test/features/bazaar/add_to_learning.feature\n+++ b/e2e_test/features/bazaar/add_to_learning.feature\n@@ -4,7 +4,7 @@ Feature: Bazaar subscription\n \n   Background:\n     Given there are some notes for existing user \"another_old_learner\"\n-      | Topic            | parentTopic | skipReview |\n+      | Topic            | Parent Topic| skipReview |\n       | Shape            |             | true       |\n       | Square           | Shape       |            |\n       | Triangle         | Shape       |            |\ndiff --git a/e2e_test/features/bazaar/browsing.feature b/e2e_test/features/bazaar/browsing.feature\nindex 2c142f6e4..f1581847a 100644\n--- a/e2e_test/features/bazaar/browsing.feature\n+++ b/e2e_test/features/bazaar/browsing.feature\n@@ -3,7 +3,7 @@ Feature: Bazaar browsing\n \n   Background:\n     Given there are some notes for existing user \"old_learner\"\n-      | Topic            | details                          | parentTopic | hideTitleInArticle | showAsBulletInArticle |\n+      | Topic            | details                          | Parent Topic| hideTitleInArticle | showAsBulletInArticle |\n       | Shape            | The form of something            |             | false              | false                 |\n       | Rectangle        | four equal straight sides        | Shape       | false              | false                 |\n       | Triangle         | three sides shape                | Shape       | false              | false                 |\ndiff --git a/e2e_test/features/bazaar/sharing.feature b/e2e_test/features/bazaar/sharing.feature\nindex 5d87d34b5..9d32040da 100644\n--- a/e2e_test/features/bazaar/sharing.feature\n+++ b/e2e_test/features/bazaar/sharing.feature\n@@ -7,7 +7,7 @@ Feature: Bazaar sharing\n \n   Scenario: Contributing To Bazaar\n     Given there are some notes for the current user:\n-      | Topic            | details                   | parentTopic |\n+      | Topic            | details                   | Parent Topic|\n       | Shape            | The form of something     |             |\n       | Square           | four equal straight sides | Shape       |\n       | Triangle         | three sides shape         | Shape       |\ndiff --git a/e2e_test/features/linking_notes/linking_note_edit_and_remove.feature b/e2e_test/features/linking_notes/linking_note_edit_and_remove.feature\nindex cbb293412..3a1e9cb4d 100644\n--- a/e2e_test/features/linking_notes/linking_note_edit_and_remove.feature\n+++ b/e2e_test/features/linking_notes/linking_note_edit_and_remove.feature\n@@ -3,7 +3,7 @@ Feature: link edit and remove\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | skipReview | parentTopic |\n+      | Topic            | skipReview | Parent Topic|\n       | Space            | true       |             |\n       | Moon             | true       | Space       |\n       | Earth            | true       | Space       |\ndiff --git a/e2e_test/features/note_topology/note_parent_reference.feature b/e2e_test/features/note_topology/note_parent_reference.feature\nindex b30ff2267..22638551a 100644\n--- a/e2e_test/features/note_topology/note_parent_reference.feature\n+++ b/e2e_test/features/note_topology/note_parent_reference.feature\n@@ -5,7 +5,7 @@ Feature: Note parent reference\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic                    | parentTopic    |\n+      | Topic                    | Parent Topic   |\n       | LeSS in Action           |                |\n       | Usually, %P is in-person | LeSS in Action |\n \ndiff --git a/e2e_test/features/note_topology/note_tree_view.feature b/e2e_test/features/note_topology/note_tree_view.feature\nindex 8f2a456b2..85329ec11 100644\n--- a/e2e_test/features/note_topology/note_tree_view.feature\n+++ b/e2e_test/features/note_topology/note_tree_view.feature\n@@ -4,7 +4,7 @@ Feature: Note tree view\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | parentTopic    |\n+      | Topic            | Parent Topic   |\n       | LeSS in Action   |                |\n       | TDD              | LeSS in Action |\n       | ATDD             | LeSS in Action |\ndiff --git a/e2e_test/features/notebooks/notebook_deletion.feature b/e2e_test/features/notebooks/notebook_deletion.feature\nindex ded3f62cb..6f35a33e8 100644\n--- a/e2e_test/features/notebooks/notebook_deletion.feature\n+++ b/e2e_test/features/notebooks/notebook_deletion.feature\n@@ -3,7 +3,7 @@ Feature: Notebook deletion\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | parentTopic    | details             |\n+      | Topic            | Parent Topic   | details             |\n       | LeSS in Action   |                | An awesome training |\n       | team             | LeSS in Action |                     |\n       | tech             | LeSS in Action |                     |\ndiff --git a/e2e_test/features/notes/note_creation.feature b/e2e_test/features/notes/note_creation.feature\nindex b6e3720ba..53196a894 100644\n--- a/e2e_test/features/notes/note_creation.feature\n+++ b/e2e_test/features/notes/note_creation.feature\n@@ -5,7 +5,7 @@ Feature: Nested Note creation\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | parentTopic    | details             |\n+      | Topic            | Parent Topic   | details             |\n       | LeSS in Action   |                | An awesome training |\n       | team             | LeSS in Action |                     |\n       | tech             | LeSS in Action |                     |\ndiff --git a/e2e_test/features/notes/note_deletion.feature b/e2e_test/features/notes/note_deletion.feature\nindex 12bd8eb0e..7bc37d374 100644\n--- a/e2e_test/features/notes/note_deletion.feature\n+++ b/e2e_test/features/notes/note_deletion.feature\n@@ -3,7 +3,7 @@ Feature: Note deletion\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | parentTopic    |\n+      | Topic            | Parent Topic   |\n       | LeSS in Action   |                |\n       | team             | LeSS in Action |\n       | tech             | LeSS in Action |\ndiff --git a/e2e_test/features/notes/note_recent_update.feature b/e2e_test/features/notes/note_recent_update.feature\nindex 3e244daa5..fc1052fdd 100644\n--- a/e2e_test/features/notes/note_recent_update.feature\n+++ b/e2e_test/features/notes/note_recent_update.feature\n@@ -6,7 +6,7 @@ Feature: see recent note update\n     Given I am logged in as an existing user\n     And I let the server to time travel to 100 hours ago\n     And there are some notes for the current user:\n-      | Topic            | parentTopic | details |\n+      | Topic            | Parent Topic| details |\n       | NoteBook         |             |         |\n       | Note1            | NoteBook    |         |\n       | Note2            | NoteBook    |         |\ndiff --git a/e2e_test/features/notes/search_note.feature b/e2e_test/features/notes/search_note.feature\nindex 24fed415a..424eba57b 100644\n--- a/e2e_test/features/notes/search_note.feature\n+++ b/e2e_test/features/notes/search_note.feature\n@@ -6,7 +6,7 @@ Feature: search note\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | details        | parentTopic |\n+      | Topic            | details        | Parent Topic|\n       | Sedation         | Put to sleep   |             |\n       | Sedative         | Sleep medicine |             |\n       | Physical         |                | Sedation    |\ndiff --git a/e2e_test/features/review__repetition/repetition_link_quiz.feature b/e2e_test/features/review__repetition/repetition_link_quiz.feature\nindex 28047fa7f..8b1be74c8 100644\n--- a/e2e_test/features/review__repetition/repetition_link_quiz.feature\n+++ b/e2e_test/features/review__repetition/repetition_link_quiz.feature\n@@ -4,7 +4,7 @@ Feature: Repetition Link Quiz\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | skipReview | parentTopic |\n+      | Topic            | skipReview | Parent Topic|\n       | Space            | true       |             |\n       | Moon             | true       | Space       |\n       | Earth            | true       | Space       |\ndiff --git a/e2e_test/features/review__repetition/repetition_picture_quiz.feature b/e2e_test/features/review__repetition/repetition_picture_quiz.feature\nindex e18de98d3..0f0172f55 100644\n--- a/e2e_test/features/review__repetition/repetition_picture_quiz.feature\n+++ b/e2e_test/features/review__repetition/repetition_picture_quiz.feature\n@@ -4,7 +4,7 @@ Feature: Repetition Image Quiz\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | skipReview | parentTopic | imageUrl                           | imageMask             |\n+      | Topic            | skipReview | Parent Topic| imageUrl                           | imageMask             |\n       | Space            | true       |             |                                    |                       |\n       | Earth            |            | Space       | https://picsum.photos/id/237/20/30 | 20 40 70 30 40 80 5 8 |\n       | Moon             |            | Space       | https://picsum.photos/id/238/20/30 | 30 40 20 30           |\ndiff --git a/e2e_test/features/review__repetition/repetition_quiz.feature b/e2e_test/features/review__repetition/repetition_quiz.feature\nindex c3986d230..094e4a082 100644\n--- a/e2e_test/features/review__repetition/repetition_quiz.feature\n+++ b/e2e_test/features/review__repetition/repetition_quiz.feature\n@@ -4,7 +4,7 @@ Feature: Repetition Quiz\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | details                        | skipReview | parentTopic |\n+      | Topic            | details                        | skipReview | Parent Topic|\n       | English          |                                | true       |             |\n       | sedition         | Sedition means incite violence | false      | English     |\n       | sedation         | Put to sleep is sedation       | false      | English     |\ndiff --git a/e2e_test/features/review__repetition/repetition_quiz_ai_question.feature b/e2e_test/features/review__repetition/repetition_quiz_ai_question.feature\nindex 0614c9b49..3d0448323 100644\n--- a/e2e_test/features/review__repetition/repetition_quiz_ai_question.feature\n+++ b/e2e_test/features/review__repetition/repetition_quiz_ai_question.feature\n@@ -4,7 +4,7 @@ Feature: Repetition Quiz\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | details                        | skipReview | parentTopic |\n+      | Topic            | details                        | skipReview | Parent Topic|\n       | English          |                                | true       |             |\n       | sedition         | Sedition means incite violence | false      | English     |\n       | sedation         | Put to sleep is sedation       | false      | English     |\ndiff --git a/e2e_test/features/review__repetition/repetition_review_answers.feature b/e2e_test/features/review__repetition/repetition_review_answers.feature\nindex e354697e1..69c21cd21 100644\n--- a/e2e_test/features/review__repetition/repetition_review_answers.feature\n+++ b/e2e_test/features/review__repetition/repetition_review_answers.feature\n@@ -4,7 +4,7 @@ Feature: Repetition Quiz\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | details                        | skipReview | parentTopic |\n+      | Topic            | details                        | skipReview | Parent Topic|\n       | English          |                                | true       |             |\n       | sedition         | Sedition means incite violence | false      | English     |\n       | sedation         | Put to sleep is sedation       | false      | English     |\ndiff --git a/e2e_test/features/users/logged_in_status.feature b/e2e_test/features/users/logged_in_status.feature\nindex 24fa7bf0b..cbd47fc61 100644\n--- a/e2e_test/features/users/logged_in_status.feature\n+++ b/e2e_test/features/users/logged_in_status.feature\n@@ -10,7 +10,7 @@ Feature: Logged in status\n \n   Scenario: User logout because of session timeout\n     Given there are some notes for the current user:\n-      | Topic            | parentTopic |\n+      | Topic            | Parent Topic|\n       | Shape            |             |\n       | Triangle         | Shape       |\n     And I navigate to \"My Notes/Shape\" note\ndiff --git a/e2e_test/features/wikidata/associate_wikidata.feature b/e2e_test/features/wikidata/associate_wikidata.feature\nindex c52bf1682..27f54728b 100644\n--- a/e2e_test/features/wikidata/associate_wikidata.feature\n+++ b/e2e_test/features/wikidata/associate_wikidata.feature\n@@ -47,7 +47,7 @@ Feature: associate wikidata ID to note\n   @usingMockedWikidataService @mockBrowserTime\n   Scenario: Associate a new note with exisitng wikidata id\n     Given there are some notes for the current user:\n-      | Topic            | wikidataId | parentTopic |\n+      | Topic            | wikidataId | Parent Topic|\n       | Animals          |            |             |\n       | Dog              | Q123       | Animals     |\n       | Canine           | Q456       | Animals     |\ndiff --git a/e2e_test/features/wikidata/associate_wikidata_location_entries.feature b/e2e_test/features/wikidata/associate_wikidata_location_entries.feature\nindex 17f27a305..b928f709a 100644\n--- a/e2e_test/features/wikidata/associate_wikidata_location_entries.feature\n+++ b/e2e_test/features/wikidata/associate_wikidata_location_entries.feature\n@@ -19,7 +19,7 @@ Feature: Note creation/edit for a location\n   @usingMockedWikidataService\n   Scenario: Existing Note wikidata edited by user\n     When there are some notes for the current user:\n-      | Topic            | details     | parentTopic |\n+      | Topic            | details     | Parent Topic|\n       | Singapore        | The red dot | places      |\n     And I associate the note \"Singapore\" with wikidata id \"Q334\"\n     Then the note details on the current page should be \"Location: 1.3'N, 103.8'E\\nThe red dot\"\ndiff --git a/e2e_test/features/wikidata/associate_wikidata_person_entries.feature b/e2e_test/features/wikidata/associate_wikidata_person_entries.feature\nindex 8bfe702b3..1ca6b92bc 100644\n--- a/e2e_test/features/wikidata/associate_wikidata_person_entries.feature\n+++ b/e2e_test/features/wikidata/associate_wikidata_person_entries.feature\n@@ -11,7 +11,7 @@ Feature: Note creation should have details if wikidata is a person\n     And Wikidata.org entity \"Q706446\" is a person from \"Q22502\" and birthday is \"+1980-03-31T00:00:00Z\"\n     And Wikidata.org entity \"Q4604\" is a person from \"Q736936\" and birthday is \"-0552-10-09T00:00:00Z\"\n     And there are some notes for the current user:\n-      | Topic            | parentTopic | wikidataId |\n+      | Topic            | Parent Topic| wikidataId |\n       | People           |             |            |\n       | Taiwan           | People      | Q22502     |\n \ndiff --git a/e2e_test/features/wikidata/note_create_with_wikidata_id.feature b/e2e_test/features/wikidata/note_create_with_wikidata_id.feature\nindex 12bab55cb..a381f4b2a 100644\n--- a/e2e_test/features/wikidata/note_create_with_wikidata_id.feature\n+++ b/e2e_test/features/wikidata/note_create_with_wikidata_id.feature\n@@ -5,7 +5,7 @@ Feature: Nested Note Create with wikidata\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | Topic            | parentTopic | details             |\n+      | Topic            | Parent Topic| details             |\n       | Animals          |             | An awesome training |\n \n   @usingMockedWikidataService @mockBrowserTime\n@@ -35,7 +35,7 @@ Feature: Nested Note Create with wikidata\n   @usingMockedWikidataService @mockBrowserTime\n   Scenario: Create a new note with duplicate wikidata id within the same notebook\n     Given there are some notes for the current user:\n-      | Topic            | wikidataId | parentTopic |\n+      | Topic            | wikidataId | Parent Topic|\n       | Star             |            |             |\n       | Sun              | Q123       | Star        |\n     When I create a note belonging to \"Star\":\ndiff --git a/e2e_test/start/higherOrderActions.ts b/e2e_test/start/higherOrderActions.ts\nindex 15edfb5c4..afefe163f 100644\n--- a/e2e_test/start/higherOrderActions.ts\n+++ b/e2e_test/start/higherOrderActions.ts\n@@ -16,7 +16,7 @@ export const higherOrderActions = {\n     noteTopic: string,\n     question: Record<string, string>\n   ) => {\n-    testability().injectNotes([{ topicConstructor: noteTopic }])\n+    testability().injectNotes([{ Topic: noteTopic }])\n     questionGenerationService().resetAndStubAskingMCQ(question)\n     return basicActions.jumpToNotePage(noteTopic).chatAboutNote().testMe()\n   },\ndiff --git a/e2e_test/start/testability.ts b/e2e_test/start/testability.ts\nindex f0ee4ecd7..b7069121c 100644\n--- a/e2e_test/start/testability.ts\n+++ b/e2e_test/start/testability.ts\n@@ -56,7 +56,7 @@ const testability = () => {\n     injectNotes(\n       noteTestData: NoteTestData[],\n       externalIdentifier = \"\",\n-      circleName = null\n+      circleName: string | null = null\n     ) {\n       postToTestabilityApi(cy, \"inject_notes\", {\n         body: {\ndiff --git a/e2e_test/step_definitions/circle.ts b/e2e_test/step_definitions/circle.ts\nindex 597719b1f..f42a01026 100644\n--- a/e2e_test/step_definitions/circle.ts\n+++ b/e2e_test/step_definitions/circle.ts\n@@ -85,9 +85,12 @@ When(\"I am on {string} circle page\", (circleName: string) => {\n   start.navigateToCircle(circleName)\n })\n \n-When(\"There is a notebook {string} in circle {string}\", (topic, circleName) => {\n-  start.testability().injectNotes([{ topicConstructor: topic }], \"\", circleName)\n-})\n+When(\n+  \"There is a notebook {string} in circle {string}\",\n+  (topic: string, circleName: string) => {\n+    start.testability().injectNotes([{ Topic: topic }], \"\", circleName)\n+  }\n+)\n \n When(\n   \"someone of my circle deletes the {string} notebook\",\ndiff --git a/e2e_test/step_definitions/note.ts b/e2e_test/step_definitions/note.ts\nindex 0b48a3545..82c5eba83 100644\n--- a/e2e_test/step_definitions/note.ts\n+++ b/e2e_test/step_definitions/note.ts\n@@ -30,7 +30,7 @@ Given(\"there are questions for the note:\", (data: DataTable) => {\n })\n \n Given(\"I have a note with the topic {string}\", (noteTopic: string) => {\n-  start.testability().injectNotes([{ topicConstructor: noteTopic }])\n+  start.testability().injectNotes([{ Topic: noteTopic }])\n })\n \n Given(\n@@ -46,7 +46,7 @@ Given(\n     const notes = Array(to - from + 1)\n       .fill(0)\n       .map((_, i) => {\n-        return { topicConstructor: `Note ${i + from}` }\n+        return { Topic: `Note ${i + from}` }\n       })\n     start.testability().injectNotes(notes)\n   }\ndiff --git a/e2e_test/step_definitions/review.ts b/e2e_test/step_definitions/review.ts\nindex 7b904170a..453689979 100644\n--- a/e2e_test/step_definitions/review.ts\n+++ b/e2e_test/step_definitions/review.ts\n@@ -74,7 +74,7 @@ Then(\"I initial review {string}\", (noteTopic) => {\n Then(\n   \"I added and learned one note {string} on day {int}\",\n   (noteTopic: string, day: number) => {\n-    start.testability().injectNotes([{ topicConstructor: noteTopic }])\n+    start.testability().injectNotes([{ Topic: noteTopic }])\n     start.testability().backendTimeTravelTo(day, 8)\n     cy.initialReviewNotes(noteTopic)\n   }\ndiff --git a/frontend/src/generated/backend/models/NoteTestData.ts b/frontend/src/generated/backend/models/NoteTestData.ts\nindex d6d239db9..221001e1c 100644\n--- a/frontend/src/generated/backend/models/NoteTestData.ts\n+++ b/frontend/src/generated/backend/models/NoteTestData.ts\n@@ -3,13 +3,13 @@\n /* tslint:disable */\n /* eslint-disable */\n export type NoteTestData = {\n-    Topic?: string;\n     details?: string;\n-    parentTopic?: string;\n     skipReview?: boolean;\n     url?: string;\n     imageUrl?: string;\n     imageMask?: string;\n     wikidataId?: string;\n+    Topic?: string;\n+    'Parent Topic'?: string;\n };\n \ndiff --git a/open_api_docs.yaml b/open_api_docs.yaml\nindex 6db0cc7ef..6eccb2515 100644\n--- a/open_api_docs.yaml\n+++ b/open_api_docs.yaml\n@@ -2693,14 +2693,9 @@ components:\n     NoteTestData:\n       type: object\n       properties:\n-        Topic:\n-          type: string\n         details:\n           type: string\n           writeOnly: true\n-        parentTopic:\n-          type: string\n-          writeOnly: true\n         skipReview:\n           type: boolean\n           writeOnly: true\n@@ -2716,6 +2711,10 @@ components:\n         wikidataId:\n           type: string\n           writeOnly: true\n+        Topic:\n+          type: string\n+        Parent Topic:\n+          type: string\n     NotesTestData:\n       type: object\n       properties:"
    },
    {
      "author": "Terry Yin",
      "date": "2024-07-06 09:22:59 +0200",
      "message": "use simpler name for e2e test",
      "diff": "diff --git a/backend/src/main/java/com/odde/doughnut/testability/TestabilityRestController.java b/backend/src/main/java/com/odde/doughnut/testability/TestabilityRestController.java\nindex c95b85c40..d7e38c647 100644\n--- a/backend/src/main/java/com/odde/doughnut/testability/TestabilityRestController.java\n+++ b/backend/src/main/java/com/odde/doughnut/testability/TestabilityRestController.java\n@@ -72,7 +72,7 @@ class TestabilityRestController {\n   }\n \n   static class NoteTestData {\n-    public String topicConstructor;\n+    public String Topic;\n     @Setter private String details;\n     @Setter private String parentTopic;\n     @Setter private Boolean skipReview;\n@@ -83,11 +83,10 @@ class TestabilityRestController {\n \n     private Note buildNote(User user, Timestamp currentUTCTimestamp) {\n       Note note =\n-          new NoteConstructionService(user, currentUTCTimestamp, null)\n-              .createNote(null, topicConstructor);\n+          new NoteConstructionService(user, currentUTCTimestamp, null).createNote(null, Topic);\n       NoteAccessory content = note.getOrInitializeNoteAccessory();\n \n-      note.setTopicConstructor(topicConstructor);\n+      note.setTopicConstructor(Topic);\n       note.setDetails(details);\n       note.setUpdatedAt(currentUTCTimestamp);\n       if (skipReview != null) {\n@@ -121,7 +120,7 @@ class TestabilityRestController {\n         ModelFactoryService modelFactoryService) {\n       noteTestData.forEach(\n           injection -> {\n-            Note note = titleNoteMap.get(injection.topicConstructor);\n+            Note note = titleNoteMap.get(injection.Topic);\n \n             if (Strings.isBlank(injection.parentTopic)) {\n               note.buildNotebookForHeadNote(ownership, user);\n@@ -143,8 +142,7 @@ class TestabilityRestController {\n \n     private void saveByOriginalOrder(\n         Map<String, Note> titleNoteMap, ModelFactoryService modelFactoryService) {\n-      noteTestData.forEach(\n-          (inject -> modelFactoryService.save(titleNoteMap.get(inject.topicConstructor))));\n+      noteTestData.forEach((inject -> modelFactoryService.save(titleNoteMap.get(inject.Topic))));\n     }\n   }\n \ndiff --git a/e2e_test/features/admin/manage_bazaar.feature b/e2e_test/features/admin/manage_bazaar.feature\nindex 18bae3dc8..1348ecbe8 100644\n--- a/e2e_test/features/admin/manage_bazaar.feature\n+++ b/e2e_test/features/admin/manage_bazaar.feature\n@@ -5,7 +5,7 @@ Feature: Manage Bazaar\n \n   Background:\n     Given there are some notes for existing user \"another_old_learner\"\n-      | topicConstructor |\n+      | Topic            |\n       | Romance          |\n       | Classics         |\n     And notebook \"Romance\" is shared to the Bazaar\ndiff --git a/e2e_test/features/ai_generated_content/note_details_completion.feature b/e2e_test/features/ai_generated_content/note_details_completion.feature\nindex e263e2b39..57ccca97a 100644\n--- a/e2e_test/features/ai_generated_content/note_details_completion.feature\n+++ b/e2e_test/features/ai_generated_content/note_details_completion.feature\n@@ -5,7 +5,7 @@ Feature: Note details completion\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | topicConstructor | details    | parentTopic |\n+      | Topic            | details    | parentTopic |\n       | Taiwan           |            |             |\n       | Taipei           | It is a    | Taiwan      |\n       | Weather          | It rains a | Taipei      |\ndiff --git a/e2e_test/features/ai_generated_content/notebook_assistant.feature b/e2e_test/features/ai_generated_content/notebook_assistant.feature\nindex 40d6d7b8a..c65b7338f 100644\n--- a/e2e_test/features/ai_generated_content/notebook_assistant.feature\n+++ b/e2e_test/features/ai_generated_content/notebook_assistant.feature\n@@ -8,7 +8,7 @@ Feature: Notebook assistant\n   Background:\n     Given I am logged in as an admin\n     And there are some notes for the current user:\n-      | topicConstructor | details | parentTopic      |\n+      | Topic            | details | parentTopic      |\n       | Vertical farming |         |                  |\n       | Acquaponics      |         | Vertical farming |\n \ndiff --git a/e2e_test/features/assessment/assessment_history.feature b/e2e_test/features/assessment/assessment_history.feature\nindex 0628ae949..a10c849a7 100644\n--- a/e2e_test/features/assessment/assessment_history.feature\n+++ b/e2e_test/features/assessment/assessment_history.feature\n@@ -11,7 +11,7 @@ Feature: Assessment History\n   Scenario: \"View assessment history\"\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | topicConstructor | parentTopic |\n+      | Topic            | parentTopic |\n       | Countries        |             |\n     And notebook \"Countries\" is shared to the Bazaar\n     And there are questions for the note:\ndiff --git a/e2e_test/features/assessment/self_assessment.feature b/e2e_test/features/assessment/self_assessment.feature\nindex 6765b4df1..ae9d7b799 100644\n--- a/e2e_test/features/assessment/self_assessment.feature\n+++ b/e2e_test/features/assessment/self_assessment.feature\n@@ -1,11 +1,11 @@\n-Feature: New questions assessment\n+Feature: Self assessment\n   As a trainer, I want to create a notebook with knowledge and questions\n   and share it in the Bazaar, so that people can use it to assess their own skill level and knowledge on the topic\n \n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | topicConstructor | parentTopic |\n+      | Topic            | parentTopic |\n       | Countries        |             |\n       | Singapore        | Countries   |\n       | Vietnam          | Countries   |\ndiff --git a/e2e_test/features/bazaar/add_to_learning.feature b/e2e_test/features/bazaar/add_to_learning.feature\nindex 611bef850..de6d829fc 100644\n--- a/e2e_test/features/bazaar/add_to_learning.feature\n+++ b/e2e_test/features/bazaar/add_to_learning.feature\n@@ -4,7 +4,7 @@ Feature: Bazaar subscription\n \n   Background:\n     Given there are some notes for existing user \"another_old_learner\"\n-      | topicConstructor | parentTopic | skipReview |\n+      | Topic            | parentTopic | skipReview |\n       | Shape            |             | true       |\n       | Square           | Shape       |            |\n       | Triangle         | Shape       |            |\ndiff --git a/e2e_test/features/bazaar/browsing.feature b/e2e_test/features/bazaar/browsing.feature\nindex 541bbd863..2c142f6e4 100644\n--- a/e2e_test/features/bazaar/browsing.feature\n+++ b/e2e_test/features/bazaar/browsing.feature\n@@ -3,7 +3,7 @@ Feature: Bazaar browsing\n \n   Background:\n     Given there are some notes for existing user \"old_learner\"\n-      | topicConstructor | details                          | parentTopic | hideTitleInArticle | showAsBulletInArticle |\n+      | Topic            | details                          | parentTopic | hideTitleInArticle | showAsBulletInArticle |\n       | Shape            | The form of something            |             | false              | false                 |\n       | Rectangle        | four equal straight sides        | Shape       | false              | false                 |\n       | Triangle         | three sides shape                | Shape       | false              | false                 |\ndiff --git a/e2e_test/features/bazaar/sharing.feature b/e2e_test/features/bazaar/sharing.feature\nindex d6bab934d..5d87d34b5 100644\n--- a/e2e_test/features/bazaar/sharing.feature\n+++ b/e2e_test/features/bazaar/sharing.feature\n@@ -7,7 +7,7 @@ Feature: Bazaar sharing\n \n   Scenario: Contributing To Bazaar\n     Given there are some notes for the current user:\n-      | topicConstructor | details                   | parentTopic |\n+      | Topic            | details                   | parentTopic |\n       | Shape            | The form of something     |             |\n       | Square           | four equal straight sides | Shape       |\n       | Triangle         | three sides shape         | Shape       |\ndiff --git a/e2e_test/features/linking_notes/linking_note_creation.feature b/e2e_test/features/linking_notes/linking_note_creation.feature\nindex 73022ee27..591d3d9bb 100644\n--- a/e2e_test/features/linking_notes/linking_note_creation.feature\n+++ b/e2e_test/features/linking_notes/linking_note_creation.feature\n@@ -6,7 +6,7 @@ Feature: link note\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | topicConstructor | details         |\n+      | Topic            | details         |\n       | Sedition         | Incite violence |\n       | Sedation         | Put to sleep    |\n       | Sedative         | Sleep medicine  |\ndiff --git a/e2e_test/features/linking_notes/linking_note_edit_and_remove.feature b/e2e_test/features/linking_notes/linking_note_edit_and_remove.feature\nindex 534b1723e..cbb293412 100644\n--- a/e2e_test/features/linking_notes/linking_note_edit_and_remove.feature\n+++ b/e2e_test/features/linking_notes/linking_note_edit_and_remove.feature\n@@ -3,7 +3,7 @@ Feature: link edit and remove\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | topicConstructor | skipReview | parentTopic |\n+      | Topic            | skipReview | parentTopic |\n       | Space            | true       |             |\n       | Moon             | true       | Space       |\n       | Earth            | true       | Space       |\ndiff --git a/e2e_test/features/note_topology/note_parent_reference.feature b/e2e_test/features/note_topology/note_parent_reference.feature\nindex 1d7fe82b6..b30ff2267 100644\n--- a/e2e_test/features/note_topology/note_parent_reference.feature\n+++ b/e2e_test/features/note_topology/note_parent_reference.feature\n@@ -5,7 +5,7 @@ Feature: Note parent reference\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | topicConstructor         | parentTopic    |\n+      | Topic                    | parentTopic    |\n       | LeSS in Action           |                |\n       | Usually, %P is in-person | LeSS in Action |\n \ndiff --git a/e2e_test/features/note_topology/note_tree_view.feature b/e2e_test/features/note_topology/note_tree_view.feature\nindex 6307a3389..8f2a456b2 100644\n--- a/e2e_test/features/note_topology/note_tree_view.feature\n+++ b/e2e_test/features/note_topology/note_tree_view.feature\n@@ -4,7 +4,7 @@ Feature: Note tree view\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | topicConstructor | parentTopic    |\n+      | Topic            | parentTopic    |\n       | LeSS in Action   |                |\n       | TDD              | LeSS in Action |\n       | ATDD             | LeSS in Action |\ndiff --git a/e2e_test/features/notebooks/notebook_creation.feature b/e2e_test/features/notebooks/notebook_creation.feature\nindex 75cb942c3..00d1fc9c4 100644\n--- a/e2e_test/features/notebooks/notebook_creation.feature\n+++ b/e2e_test/features/notebooks/notebook_creation.feature\n@@ -6,7 +6,7 @@ Feature: Notebook creation\n   Scenario: Create a new notebooks\n     When I create a notebook with topic \"Sedation\"\n     Then I should see these notes belonging to the user at the top level of all my notes\n-      | topic    |\n+      | Topic    |\n       | Sedation |\n \n   Scenario: Create a new note with invalid information\ndiff --git a/e2e_test/features/notebooks/notebook_deletion.feature b/e2e_test/features/notebooks/notebook_deletion.feature\nindex 06a969869..ded3f62cb 100644\n--- a/e2e_test/features/notebooks/notebook_deletion.feature\n+++ b/e2e_test/features/notebooks/notebook_deletion.feature\n@@ -3,7 +3,7 @@ Feature: Notebook deletion\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | topicConstructor | parentTopic    | details             |\n+      | Topic            | parentTopic    | details             |\n       | LeSS in Action   |                | An awesome training |\n       | team             | LeSS in Action |                     |\n       | tech             | LeSS in Action |                     |\ndiff --git a/e2e_test/features/notes/note_creation.feature b/e2e_test/features/notes/note_creation.feature\nindex 7b514c223..b6e3720ba 100644\n--- a/e2e_test/features/notes/note_creation.feature\n+++ b/e2e_test/features/notes/note_creation.feature\n@@ -5,7 +5,7 @@ Feature: Nested Note creation\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | topicConstructor | parentTopic    | details             |\n+      | Topic            | parentTopic    | details             |\n       | LeSS in Action   |                | An awesome training |\n       | team             | LeSS in Action |                     |\n       | tech             | LeSS in Action |                     |\ndiff --git a/e2e_test/features/notes/note_deletion.feature b/e2e_test/features/notes/note_deletion.feature\nindex d31bac49f..12bd8eb0e 100644\n--- a/e2e_test/features/notes/note_deletion.feature\n+++ b/e2e_test/features/notes/note_deletion.feature\n@@ -3,7 +3,7 @@ Feature: Note deletion\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | topicConstructor | parentTopic    |\n+      | Topic            | parentTopic    |\n       | LeSS in Action   |                |\n       | team             | LeSS in Action |\n       | tech             | LeSS in Action |\ndiff --git a/e2e_test/features/notes/note_display.feature b/e2e_test/features/notes/note_display.feature\nindex 28e46e32a..7f9ab7a92 100644\n--- a/e2e_test/features/notes/note_display.feature\n+++ b/e2e_test/features/notes/note_display.feature\n@@ -7,7 +7,7 @@ Feature: Note display\n \n   Scenario: Long details is abbreviated in card view\n     Given there are some notes for the current user:\n-      | topicConstructor                        | details                                                                                                                                                                                                     |\n+      | Topic                                   | details                                                                                                                                                                                                     |\n       | Potentially shippable product increment | The output of every Sprint is called a Potentially Shippable Product Increment. The work of all the teams must be integrated before the end of every Sprint—the integration must be done during the Sprint. |\n     Then I should see these notes belonging to the user at the top level of all my notes\n       | note-topic                              | note-details                                       |\ndiff --git a/e2e_test/features/notes/note_edit.feature b/e2e_test/features/notes/note_edit.feature\nindex 5d8dcd893..7f4011184 100644\n--- a/e2e_test/features/notes/note_edit.feature\n+++ b/e2e_test/features/notes/note_edit.feature\n@@ -5,7 +5,7 @@ Feature: Note Edit\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | topicConstructor | details             |\n+      | Topic            | details             |\n       | LeSS in Action   | An awesome training |\n \n   Scenario: Edit a note\n@@ -14,7 +14,7 @@ Feature: Note Edit\n       | Odd-e CSD | Our best training |\n     Then I should see \"Odd-e CSD\" in the page\n     And I should see these notes belonging to the user at the top level of all my notes\n-      | topic     | details           |\n+      | Topic     | details           |\n       | Odd-e CSD | Our best training |\n \n   Scenario: Edit a note topic and edit details\ndiff --git a/e2e_test/features/notes/note_recent_update.feature b/e2e_test/features/notes/note_recent_update.feature\nindex 085105f51..3e244daa5 100644\n--- a/e2e_test/features/notes/note_recent_update.feature\n+++ b/e2e_test/features/notes/note_recent_update.feature\n@@ -6,7 +6,7 @@ Feature: see recent note update\n     Given I am logged in as an existing user\n     And I let the server to time travel to 100 hours ago\n     And there are some notes for the current user:\n-      | topicConstructor | parentTopic | details |\n+      | Topic            | parentTopic | details |\n       | NoteBook         |             |         |\n       | Note1            | NoteBook    |         |\n       | Note2            | NoteBook    |         |\ndiff --git a/e2e_test/features/notes/search_note.feature b/e2e_test/features/notes/search_note.feature\nindex e3c089c3f..24fed415a 100644\n--- a/e2e_test/features/notes/search_note.feature\n+++ b/e2e_test/features/notes/search_note.feature\n@@ -6,7 +6,7 @@ Feature: search note\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | topicConstructor | details        | parentTopic |\n+      | Topic            | details        | parentTopic |\n       | Sedation         | Put to sleep   |             |\n       | Sedative         | Sleep medicine |             |\n       | Physical         |                | Sedation    |\ndiff --git a/e2e_test/features/review__initial_learning/edit_when_initial_review.feature b/e2e_test/features/review__initial_learning/edit_when_initial_review.feature\nindex 4ab555cd5..352945608 100644\n--- a/e2e_test/features/review__initial_learning/edit_when_initial_review.feature\n+++ b/e2e_test/features/review__initial_learning/edit_when_initial_review.feature\n@@ -3,7 +3,7 @@ Feature: Editing when initial review\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | topicConstructor |\n+      | Topic            |\n       | hard             |\n       | easy             |\n \ndiff --git a/e2e_test/features/review__initial_learning/initial_reviews.feature b/e2e_test/features/review__initial_learning/initial_reviews.feature\nindex 3a1850d55..c76a36167 100644\n--- a/e2e_test/features/review__initial_learning/initial_reviews.feature\n+++ b/e2e_test/features/review__initial_learning/initial_reviews.feature\n@@ -11,30 +11,30 @@ Feature: Initial Review\n   Scenario: First day of review\n       Given It's day 1, 8 hour\n       Then I do these initial reviews in sequence:\n-          | review_type   | topic      |\n+          | review_type   | Topic      |\n           | single note   | Note 1     |\n           | single note   | Note 2     |\n           | initial done  |            |\n       Given It's day 1, 9 hour\n       Then I do these initial reviews in sequence:\n-          | review_type   | topic      |\n+          | review_type   | Topic      |\n           | initial done  |            |\n \n   Scenario: First day review only part of the daily number\n       Given It's day 1, 8 hour\n       Then I do these initial reviews in sequence:\n-          | review_type   | topic      |\n+          | review_type   | Topic      |\n           | single note   | Note 1     |\n       Given It's day 1, 9 hour\n       Then I do these initial reviews in sequence:\n-          | review_type   | topic      |\n+          | review_type   | Topic      |\n           | single note   | Note 2     |\n           | initial done  |            |\n \n   Scenario: Skip review\n       Given It's day 1, 8 hour\n       When I do these initial reviews in sequence:\n-          | review_type   | topic      | skip  |\n+          | review_type   | Topic      | skip  |\n           | single note   | Note 1     | yes   |\n           | single note   | Note 2     | no    |\n           | single note   | Note 3     | no    |\ndiff --git a/e2e_test/features/review__repetition/repetition_link_quiz.feature b/e2e_test/features/review__repetition/repetition_link_quiz.feature\nindex 425583974..28047fa7f 100644\n--- a/e2e_test/features/review__repetition/repetition_link_quiz.feature\n+++ b/e2e_test/features/review__repetition/repetition_link_quiz.feature\n@@ -4,7 +4,7 @@ Feature: Repetition Link Quiz\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | topicConstructor | skipReview | parentTopic |\n+      | Topic            | skipReview | parentTopic |\n       | Space            | true       |             |\n       | Moon             | true       | Space       |\n       | Earth            | true       | Space       |\n@@ -14,7 +14,7 @@ Feature: Repetition Link Quiz\n   Scenario Outline: \"Belongs to\" question\n     Given It's day 1, 8 hour\n     And I do these initial reviews in sequence:\n-      | review_type | topic |\n+      | review_type | Topic |\n       | single note | Moon  |\n     When I am repeat-reviewing my old note on day 2\n     Then I should be asked link question \"Moon\" \"a specialization of\" with options \"Earth, Mars\"\ndiff --git a/e2e_test/features/review__repetition/repetition_picture_quiz.feature b/e2e_test/features/review__repetition/repetition_picture_quiz.feature\nindex cf9f4007c..e18de98d3 100644\n--- a/e2e_test/features/review__repetition/repetition_picture_quiz.feature\n+++ b/e2e_test/features/review__repetition/repetition_picture_quiz.feature\n@@ -4,7 +4,7 @@ Feature: Repetition Image Quiz\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | topicConstructor | skipReview | parentTopic | imageUrl                           | imageMask             |\n+      | Topic            | skipReview | parentTopic | imageUrl                           | imageMask             |\n       | Space            | true       |             |                                    |                       |\n       | Earth            |            | Space       | https://picsum.photos/id/237/20/30 | 20 40 70 30 40 80 5 8 |\n       | Moon             |            | Space       | https://picsum.photos/id/238/20/30 | 30 40 20 30           |\ndiff --git a/e2e_test/features/review__repetition/repetition_quiz.feature b/e2e_test/features/review__repetition/repetition_quiz.feature\nindex 6e6a4b2a7..c3986d230 100644\n--- a/e2e_test/features/review__repetition/repetition_quiz.feature\n+++ b/e2e_test/features/review__repetition/repetition_quiz.feature\n@@ -4,7 +4,7 @@ Feature: Repetition Quiz\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | topicConstructor | details                        | skipReview | parentTopic |\n+      | Topic            | details                        | skipReview | parentTopic |\n       | English          |                                | true       |             |\n       | sedition         | Sedition means incite violence | false      | English     |\n       | sedation         | Put to sleep is sedation       | false      | English     |\ndiff --git a/e2e_test/features/review__repetition/repetition_quiz_ai_question.feature b/e2e_test/features/review__repetition/repetition_quiz_ai_question.feature\nindex e8de00ab1..0614c9b49 100644\n--- a/e2e_test/features/review__repetition/repetition_quiz_ai_question.feature\n+++ b/e2e_test/features/review__repetition/repetition_quiz_ai_question.feature\n@@ -4,7 +4,7 @@ Feature: Repetition Quiz\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | topicConstructor | details                        | skipReview | parentTopic |\n+      | Topic            | details                        | skipReview | parentTopic |\n       | English          |                                | true       |             |\n       | sedition         | Sedition means incite violence | false      | English     |\n       | sedation         | Put to sleep is sedation       | false      | English     |\ndiff --git a/e2e_test/features/review__repetition/repetition_review_answers.feature b/e2e_test/features/review__repetition/repetition_review_answers.feature\nindex 807f79bcd..e354697e1 100644\n--- a/e2e_test/features/review__repetition/repetition_review_answers.feature\n+++ b/e2e_test/features/review__repetition/repetition_review_answers.feature\n@@ -4,7 +4,7 @@ Feature: Repetition Quiz\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | topicConstructor | details                        | skipReview | parentTopic |\n+      | Topic            | details                        | skipReview | parentTopic |\n       | English          |                                | true       |             |\n       | sedition         | Sedition means incite violence | false      | English     |\n       | sedation         | Put to sleep is sedation       | false      | English     |\ndiff --git a/e2e_test/features/review__repetition/review_pages.feature b/e2e_test/features/review__repetition/review_pages.feature\nindex e1a9f23c3..ca5af9158 100644\n--- a/e2e_test/features/review__repetition/review_pages.feature\n+++ b/e2e_test/features/review__repetition/review_pages.feature\n@@ -4,7 +4,7 @@ Feature: Review Pages\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | topicConstructor | details         | imageUrl  |\n+      | Topic            | details         | imageUrl  |\n       | Sedition         | Incite violence |             |\n       | Sedation         | Put to sleep    |             |\n       | Sedative         | Sleep medicine  | a_slide.jpg |\n@@ -12,7 +12,7 @@ Feature: Review Pages\n \n   Scenario: Different review pages for different notes\n     * I do these initial reviews in sequence:\n-      | review_type  | topic    | additional_info             |\n+      | review_type  | Topic    | additional_info             |\n       | single note  | Sedition | Incite violence             |\n       | single note  | Sedation | Put to sleep                |\n       | image note | Sedative | Sleep medicine; a_slide.jpg |\n@@ -22,7 +22,7 @@ Feature: Review Pages\n   Scenario: Index page\n     Given It's day 1, 8 hour\n     And I do these initial reviews in sequence:\n-      | review_type | topic    |\n+      | review_type | Topic    |\n       | single note | Sedition |\n     When It's day 2, 9 hour\n     And I go to the reviews page\ndiff --git a/e2e_test/features/users/logged_in_status.feature b/e2e_test/features/users/logged_in_status.feature\nindex d7aa15d0f..24fa7bf0b 100644\n--- a/e2e_test/features/users/logged_in_status.feature\n+++ b/e2e_test/features/users/logged_in_status.feature\n@@ -10,7 +10,7 @@ Feature: Logged in status\n \n   Scenario: User logout because of session timeout\n     Given there are some notes for the current user:\n-      | topicConstructor | parentTopic |\n+      | Topic            | parentTopic |\n       | Shape            |             |\n       | Triangle         | Shape       |\n     And I navigate to \"My Notes/Shape\" note\ndiff --git a/e2e_test/features/wikidata/associate_wikidata.feature b/e2e_test/features/wikidata/associate_wikidata.feature\nindex b91833808..c52bf1682 100644\n--- a/e2e_test/features/wikidata/associate_wikidata.feature\n+++ b/e2e_test/features/wikidata/associate_wikidata.feature\n@@ -47,7 +47,7 @@ Feature: associate wikidata ID to note\n   @usingMockedWikidataService @mockBrowserTime\n   Scenario: Associate a new note with exisitng wikidata id\n     Given there are some notes for the current user:\n-      | topicConstructor | wikidataId | parentTopic |\n+      | Topic            | wikidataId | parentTopic |\n       | Animals          |            |             |\n       | Dog              | Q123       | Animals     |\n       | Canine           | Q456       | Animals     |\ndiff --git a/e2e_test/features/wikidata/associate_wikidata_location_entries.feature b/e2e_test/features/wikidata/associate_wikidata_location_entries.feature\nindex 269507bd8..17f27a305 100644\n--- a/e2e_test/features/wikidata/associate_wikidata_location_entries.feature\n+++ b/e2e_test/features/wikidata/associate_wikidata_location_entries.feature\n@@ -19,7 +19,7 @@ Feature: Note creation/edit for a location\n   @usingMockedWikidataService\n   Scenario: Existing Note wikidata edited by user\n     When there are some notes for the current user:\n-      | topicConstructor | details     | parentTopic |\n+      | Topic            | details     | parentTopic |\n       | Singapore        | The red dot | places      |\n     And I associate the note \"Singapore\" with wikidata id \"Q334\"\n     Then the note details on the current page should be \"Location: 1.3'N, 103.8'E\\nThe red dot\"\ndiff --git a/e2e_test/features/wikidata/associate_wikidata_person_entries.feature b/e2e_test/features/wikidata/associate_wikidata_person_entries.feature\nindex 3aa0fcea8..8bfe702b3 100644\n--- a/e2e_test/features/wikidata/associate_wikidata_person_entries.feature\n+++ b/e2e_test/features/wikidata/associate_wikidata_person_entries.feature\n@@ -11,7 +11,7 @@ Feature: Note creation should have details if wikidata is a person\n     And Wikidata.org entity \"Q706446\" is a person from \"Q22502\" and birthday is \"+1980-03-31T00:00:00Z\"\n     And Wikidata.org entity \"Q4604\" is a person from \"Q736936\" and birthday is \"-0552-10-09T00:00:00Z\"\n     And there are some notes for the current user:\n-      | topicConstructor | parentTopic | wikidataId |\n+      | Topic            | parentTopic | wikidataId |\n       | People           |             |            |\n       | Taiwan           | People      | Q22502     |\n \ndiff --git a/e2e_test/features/wikidata/note_create_with_wikidata_id.feature b/e2e_test/features/wikidata/note_create_with_wikidata_id.feature\nindex a0c245f97..12bab55cb 100644\n--- a/e2e_test/features/wikidata/note_create_with_wikidata_id.feature\n+++ b/e2e_test/features/wikidata/note_create_with_wikidata_id.feature\n@@ -5,7 +5,7 @@ Feature: Nested Note Create with wikidata\n   Background:\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n-      | topicConstructor | parentTopic | details             |\n+      | Topic            | parentTopic | details             |\n       | Animals          |             | An awesome training |\n \n   @usingMockedWikidataService @mockBrowserTime\n@@ -35,7 +35,7 @@ Feature: Nested Note Create with wikidata\n   @usingMockedWikidataService @mockBrowserTime\n   Scenario: Create a new note with duplicate wikidata id within the same notebook\n     Given there are some notes for the current user:\n-      | topicConstructor | wikidataId | parentTopic |\n+      | Topic            | wikidataId | parentTopic |\n       | Star             |            |             |\n       | Sun              | Q123       | Star        |\n     When I create a note belonging to \"Star\":\ndiff --git a/frontend/src/generated/backend/models/NoteTestData.ts b/frontend/src/generated/backend/models/NoteTestData.ts\nindex 698dc3ba4..d6d239db9 100644\n--- a/frontend/src/generated/backend/models/NoteTestData.ts\n+++ b/frontend/src/generated/backend/models/NoteTestData.ts\n@@ -3,7 +3,7 @@\n /* tslint:disable */\n /* eslint-disable */\n export type NoteTestData = {\n-    topicConstructor?: string;\n+    Topic?: string;\n     details?: string;\n     parentTopic?: string;\n     skipReview?: boolean;\ndiff --git a/open_api_docs.yaml b/open_api_docs.yaml\nindex 6ed7e05f5..6db0cc7ef 100644\n--- a/open_api_docs.yaml\n+++ b/open_api_docs.yaml\n@@ -2693,7 +2693,7 @@ components:\n     NoteTestData:\n       type: object\n       properties:\n-        topicConstructor:\n+        Topic:\n           type: string\n         details:\n           type: string"
    },
    {
      "author": "Tan Yeong Sheng",
      "date": "2024-07-06 11:32:16 +0800",
      "message": "not ready to replace 'vite' with 'farmfe' yet",
      "diff": "diff --git a/cypress.config.ts b/cypress.config.ts\nindex 325f86ffe..b01a9ef12 100644\n--- a/cypress.config.ts\n+++ b/cypress.config.ts\n@@ -6,8 +6,8 @@ export default defineConfig({\n   env: {\n     TAGS: 'not @ignore and not @requiresDeveloperSecret',\n   },\n-  viewportWidth: 1000,\n-  viewportHeight: 660,\n+  viewportWidth: 1200,\n+  viewportHeight: 800,\n   e2e: {\n     ...commonConfig.e2e,\n     baseUrl: 'http://localhost:5173',\ndiff --git a/frontend/package.json b/frontend/package.json\nindex 6e9bf5a44..83b1d4172 100644\n--- a/frontend/package.json\n+++ b/frontend/package.json\n@@ -10,9 +10,9 @@\n   \"scripts\": {\n     \"preinstall\": \"npx only-allow pnpm\",\n     \"postinstall\": \"syncpack fix-mismatches\",\n-    \"dev\": \"farm\",\n-    \"build\": \"vue-tsc --noEmit && farm build\",\n-    \"serve\": \"farm preview\",\n+    \"dev\": \"vite --host\",\n+    \"build\": \"vue-tsc --noEmit && vite build --emptyOutDir\",\n+    \"serve\": \"vite preview\",\n     \"test\": \"vitest run\",\n     \"test:watch\": \"vitest\",\n     \"lint\": \"eslint src tests\"\ndiff --git a/frontend/tsconfig.node.json b/frontend/tsconfig.node.json\nindex 28b7fd9ea..661f37a18 100644\n--- a/frontend/tsconfig.node.json\n+++ b/frontend/tsconfig.node.json\n@@ -8,5 +8,5 @@\n     \"allowSyntheticDefaultImports\": true,\n     \"strict\": true\n   },\n-  \"include\": [\"farm.config.ts\"]\n+  \"include\": [\"vite.config.ts\"]\n }"
    },
    {
      "author": "Tan Yeong Sheng",
      "date": "2024-07-06 10:14:26 +0800",
      "message": "@farmfe/core@1.2.8",
      "diff": "diff --git a/frontend/farm.config.ts b/frontend/farm.config.ts\nindex a788a0852..0f5518e88 100644\n--- a/frontend/farm.config.ts\n+++ b/frontend/farm.config.ts\n@@ -34,9 +34,6 @@ export default defineConfig({\n   ],\n   server: {\n     port: 5173,\n-    hmr: {\n-      port: 9080,\n-    },\n     proxy: {\n       '/api': {\n         target: 'http://localhost:9081',\ndiff --git a/frontend/package.json b/frontend/package.json\nindex 3e76d072e..6e9bf5a44 100644\n--- a/frontend/package.json\n+++ b/frontend/package.json\n@@ -10,9 +10,9 @@\n   \"scripts\": {\n     \"preinstall\": \"npx only-allow pnpm\",\n     \"postinstall\": \"syncpack fix-mismatches\",\n-    \"dev\": \"vite --host\",\n-    \"build\": \"vue-tsc --noEmit && vite build --emptyOutDir\",\n-    \"serve\": \"vite preview\",\n+    \"dev\": \"farm\",\n+    \"build\": \"vue-tsc --noEmit && farm build\",\n+    \"serve\": \"farm preview\",\n     \"test\": \"vitest run\",\n     \"test:watch\": \"vitest\",\n     \"lint\": \"eslint src tests\"\n@@ -37,7 +37,7 @@\n   \"devDependencies\": {\n     \"@biomejs/biome\": \"1.8.3\",\n     \"@farmfe/cli\": \"^1.0.2\",\n-    \"@farmfe/core\": \"^1.2.6\",\n+    \"@farmfe/core\": \"^1.2.8\",\n     \"@farmfe/js-plugin-sass\": \"^2.8.1\",\n     \"@testing-library/user-event\": \"^14.5.2\",\n     \"@testing-library/vue\": \"^8.1.0\",\ndiff --git a/frontend/tsconfig.node.json b/frontend/tsconfig.node.json\nindex 661f37a18..28b7fd9ea 100644\n--- a/frontend/tsconfig.node.json\n+++ b/frontend/tsconfig.node.json\n@@ -8,5 +8,5 @@\n     \"allowSyntheticDefaultImports\": true,\n     \"strict\": true\n   },\n-  \"include\": [\"vite.config.ts\"]\n+  \"include\": [\"farm.config.ts\"]\n }\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex ce459ceee..5e56850d6 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -164,11 +164,11 @@ importers:\n         specifier: ^1.0.2\n         version: 1.0.2\n       '@farmfe/core':\n-        specifier: ^1.2.6\n-        version: 1.2.6(bufferutil@4.0.8)(utf-8-validate@6.0.4)\n+        specifier: ^1.2.8\n+        version: 1.2.8(bufferutil@4.0.8)(utf-8-validate@6.0.4)\n       '@farmfe/js-plugin-sass':\n         specifier: ^2.8.1\n-        version: 2.8.1(@farmfe/core@1.2.6(bufferutil@4.0.8)(utf-8-validate@6.0.4))(sass-embedded@1.77.5)(sass@1.77.6)\n+        version: 2.8.1(@farmfe/core@1.2.8(bufferutil@4.0.8)(utf-8-validate@6.0.4))(sass-embedded@1.77.5)(sass@1.77.6)\n       '@testing-library/user-event':\n         specifier: ^14.5.2\n         version: 14.5.2(@testing-library/dom@10.3.0)\n@@ -1088,62 +1088,62 @@ packages:\n     engines: {node: '>= 16'}\n     hasBin: true\n \n-  '@farmfe/core-darwin-arm64@1.2.6':\n-    resolution: {integrity: sha512-+U+VdLKo3i2M3ANeHaSt1wZoe3Z0gT8YvxIcEZvk3OrZVe7LqSCbORkvXhMwyFblDKxzrhv75Em5/L+5CF8o/g==}\n+  '@farmfe/core-darwin-arm64@1.2.8':\n+    resolution: {integrity: sha512-L6b5HHZmHW7df2mbCzdTS/Jw5qn3LFtfUUbmnIbHKEJtujSR6QF2gpNiiYbJRX3/0zh+SUSrOYjSsiPo6j3u9A==}\n     engines: {node: '>= 10'}\n     cpu: [arm64]\n     os: [darwin]\n \n-  '@farmfe/core-darwin-x64@1.2.6':\n-    resolution: {integrity: sha512-EjMQHIlKvoQJ1EYqbuZosE+C7l6ol5ZFZlTCxzNUSlGevGtj20Zqi41idVeXcsn/goxwi1kxpaIxt+nPetmgtQ==}\n+  '@farmfe/core-darwin-x64@1.2.8':\n+    resolution: {integrity: sha512-yXHoZWozTAaRYcLp6unbwv0JSf1rMimUAkzc8YPXR4xCGBzbJe7h5dCXTcbqqx9BVh7cYJppy5U9Ht1k6L2s8w==}\n     engines: {node: '>= 10'}\n     cpu: [x64]\n     os: [darwin]\n \n-  '@farmfe/core-linux-arm64-gnu@1.2.6':\n-    resolution: {integrity: sha512-tqYMXBxshi858jkKH/5vz9pVsh6b9f0zX9ZTcmWS4a8qED//rG45p9eXwgpVVdr+SVKqPoQauhf1Imgu1HgIsg==}\n+  '@farmfe/core-linux-arm64-gnu@1.2.8':\n+    resolution: {integrity: sha512-2v5zRwSAyrW3PyvOGjE26ALl8nolGx5Jl2FYt8v6x567MYEp2MpC2lhYLwJnsdcoOdp0wDsvRO52jxfxhyP/cw==}\n     engines: {node: '>= 10'}\n     cpu: [arm64]\n     os: [linux]\n \n-  '@farmfe/core-linux-arm64-musl@1.2.6':\n-    resolution: {integrity: sha512-a6OtdzA5V45eado8Lh6iCzFIkgqvdEAvRZoWkYCB29FzLb8TDKjEA3/R1q5cOe+CTUPPvAF6DgEZApsNJQkC2Q==}\n+  '@farmfe/core-linux-arm64-musl@1.2.8':\n+    resolution: {integrity: sha512-Y4DqR4l/I/VjAhwYxH6Vt/84FgESfEz/USSkVwHuOdgkj+cx6tzp0qUTZbXArPlAkksnO2NzfWM4tjKbGSCKUw==}\n     engines: {node: '>= 10'}\n     cpu: [arm64]\n     os: [linux]\n \n-  '@farmfe/core-linux-x64-gnu@1.2.6':\n-    resolution: {integrity: sha512-jniNdzCUYlbPHp1xR5XDodEcJw5feB3hZPXXOe44zmW0Nc3AEbU5/U4q2uY1BkL/KymzlpFJJOyvGt+78SWoOQ==}\n+  '@farmfe/core-linux-x64-gnu@1.2.8':\n+    resolution: {integrity: sha512-GYiyN+CVBIhK4ukXY33NlfgBbBgE3plhuxu+O7womygpBjA+xqAjevF3kG5Gmf052fFcFEW9R0YRpR92qbLStw==}\n     engines: {node: '>= 10'}\n     cpu: [x64]\n     os: [linux]\n \n-  '@farmfe/core-linux-x64-musl@1.2.6':\n-    resolution: {integrity: sha512-G/7SpuKjoNx2sDWQEqMyWhyZqBMNETbwgxUTs8IxsqOCM2l9eoi6/5JUAzlkpguf/Qyy/ehCNNnVoLsqXfXcKg==}\n+  '@farmfe/core-linux-x64-musl@1.2.8':\n+    resolution: {integrity: sha512-+ncq7JLmM/zSeTQkZhBQO15c/2Svv/75t20G3bqD9bHcUWYwb5sUDs1Nxt69aJqp1zY29Q8VT9DREAYkOSJdew==}\n     engines: {node: '>= 10'}\n     cpu: [x64]\n     os: [linux]\n \n-  '@farmfe/core-win32-arm64-msvc@1.2.6':\n-    resolution: {integrity: sha512-QFehFoJoIoqL6qRypShIEqdQjx/TJfdnNAp+07z7yX1dbaOAharqgY3OZEDxmXoTbcMyM06OpEqwU71PEN+XpQ==}\n+  '@farmfe/core-win32-arm64-msvc@1.2.8':\n+    resolution: {integrity: sha512-5qLKljphERE0dJLehL9s4UeIBSCYfBzdzuCZ249fgZoJQ62p0/VcnHUf6uT0ayQCX1hU6LD43S2Mha2s5ZVyHA==}\n     engines: {node: '>= 10'}\n     cpu: [arm64]\n     os: [win32]\n \n-  '@farmfe/core-win32-ia32-msvc@1.2.6':\n-    resolution: {integrity: sha512-A0I/5D8WU3Pbdv+j5+r6m/W6eWgl8XlENrvXfWUexnC3cP1TkdQ5LI9Yy+VI9kk1vL5GV5TbnCErRn9rkZMI+Q==}\n+  '@farmfe/core-win32-ia32-msvc@1.2.8':\n+    resolution: {integrity: sha512-uLcyLbWXX/IeV7a7kIZRHB+3RTRZXp3LiNg17pfI80RycBDvEh4qL8kC/qRSV8f58afMYoxQD6ZkgRMW5TFZ6g==}\n     engines: {node: '>= 10'}\n     cpu: [ia32]\n     os: [win32]\n \n-  '@farmfe/core-win32-x64-msvc@1.2.6':\n-    resolution: {integrity: sha512-SKc3CJjQnRFgisdQKSxAIx9bE4pBHj1o3+C6FGwQdMUzb13a1jCf+++Jf2E++7tjNvI0qarGWyTDUL8JibUNpg==}\n+  '@farmfe/core-win32-x64-msvc@1.2.8':\n+    resolution: {integrity: sha512-tMfXJ8ekFr5cid1PQuBTzwJDph3j825M2nu/UhANbGVGPQPQ1ZCumeTvbotaia12K1ZzWG+BoMdKccWtwbHE4g==}\n     engines: {node: '>= 10'}\n     cpu: [x64]\n     os: [win32]\n \n-  '@farmfe/core@1.2.6':\n-    resolution: {integrity: sha512-jMtuO82MMYGRtLcPlUCn25yzLtvr31D7MnYm4LaZcsLd+Kr8ube4zDN/b1lKzAPpwcsDUXGUCuwcS0iuicLhfg==}\n+  '@farmfe/core@1.2.8':\n+    resolution: {integrity: sha512-vHb6BKmCPE+iAwwdTcEYI25WAoFhKiUs/DUohS5b9lyzKn9XdMWkAFy0Z1DoTwIpkxa/30/Gw7FciRtje8eB4A==}\n     engines: {node: '>=16.15.1'}\n \n   '@farmfe/js-plugin-sass@2.8.1':\n@@ -1463,6 +1463,9 @@ packages:\n   '@types/http-cache-semantics@4.0.4':\n     resolution: {integrity: sha512-1m0bIFVc7eJWyve9S0RnuRgcQqF/Xd5QsUZAZeQFr1Q3/p9JWoQQEqmVy+DPTNpGXwhgIetAoYF8JSc33q29QA==}\n \n+  '@types/http-proxy@1.17.14':\n+    resolution: {integrity: sha512-SSrD0c1OQzlFX7pGu1eXxSEjemej64aaNPRhhVYUGqXh0BtldAAx37MG8btcumvpgKyZp1F5Gn3JkktdxiFv6w==}\n+\n   '@types/istanbul-lib-coverage@2.0.6':\n     resolution: {integrity: sha512-2QF/t/auWm0lsy8XtKVPG19v3sSOQlJe/YHZgfjb/KBBHOGSV+J2q/S671rcq9uTBrLAXmZpqJiaQbMT+zNU1w==}\n \n@@ -3355,10 +3358,6 @@ packages:\n   http-cache-semantics@4.1.1:\n     resolution: {integrity: sha512-er295DKPVsV82j5kw1Gjt+ADA/XYHsajl82cGNQG2eyoPkvgUhX+nDIyelzhIWbbsXP39EHcI6l5tYs2FYqYXQ==}\n \n-  http-errors@1.4.0:\n-    resolution: {integrity: sha512-oLjPqve1tuOl5aRhv8GK5eHpqP1C9fb+Ol+XTLjKfLltE44zdDbEdjPSbU7Ch5rSNsVFqZn97SrMmZLdu1/YMw==}\n-    engines: {node: '>= 0.6'}\n-\n   http-errors@1.6.3:\n     resolution: {integrity: sha512-lks+lVC8dgGyh97jxvxeYTWQFvh4uw4yC12gVl63Cg30sjPX4wuGcdkICVXDAESr6OJGjqGA8Iz5mkeN6zlD7A==}\n     engines: {node: '>= 0.6'}\n@@ -3383,6 +3382,10 @@ packages:\n     resolution: {integrity: sha512-T1gkAiYYDWYx3V5Bmyu7HcfcvL7mUrTWiM6yOfa3PIphViJ/gFPbvidQ+veqSOHci/PxBcDabeUNCzpOODJZig==}\n     engines: {node: '>= 14'}\n \n+  http-proxy-middleware@3.0.0:\n+    resolution: {integrity: sha512-36AV1fIaI2cWRzHo+rbcxhe3M3jUDCNzc4D5zRl57sEWRAxdXYtw7FSQKYY6PDKssiAKjLYypbssHk+xs/kMXw==}\n+    engines: {node: ^14.15.0 || ^16.10.0 || >=18.0.0}\n+\n   http-proxy@1.18.1:\n     resolution: {integrity: sha512-7mz/721AbnJwIVbnaSv1Cz3Am0ZLT/UBwkC92VlxhXv/k/BBQfM2fXElQNC27BVGr0uwUpplYPQM9LnaBMR5NQ==}\n     engines: {node: '>=8.0.0'}\n@@ -3471,9 +3474,6 @@ packages:\n     resolution: {integrity: sha512-k92I/b08q4wvFscXCLvqfsHCrjrF7yiXsQuIVvVE7N82W3+aqpzuUdBbfhWcy/FZR3/4IgflMgKLOsvPDrGCJA==}\n     deprecated: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.\n \n-  inherits@2.0.1:\n-    resolution: {integrity: sha512-8nWq2nLTAwd02jTqJExUYFSD/fKq6VH9Y/oG2accc/kdI0V98Bag8d5a4gi3XHz73rDWa2PvTtvcWYquKqSENA==}\n-\n   inherits@2.0.3:\n     resolution: {integrity: sha512-x00IRNXNy63jwGkJmzPigoySHbaqpNuzKbBOmzK+g2OdZpQ9w+sxCN+VSB3ja7IAge2OP2qpfxTjeNcyjmW1uw==}\n \n@@ -3609,6 +3609,10 @@ packages:\n     resolution: {integrity: sha512-YWnfyRwxL/+SsrWYfOpUtz5b3YD+nyfkHvjbcanzk8zgyO4ASD67uVMRt8k5bM4lLMDnXfriRhOpemw+NfT1eA==}\n     engines: {node: '>=8'}\n \n+  is-plain-obj@3.0.0:\n+    resolution: {integrity: sha512-gwsOE28k+23GP1B6vFl1oVh/WOzmawBrKwo5Ev6wMKzPkaXaCDIQKzLnvsA42DRlbVTWorkgTKIviAKCWkfUwA==}\n+    engines: {node: '>=10'}\n+\n   is-plain-object@5.0.0:\n     resolution: {integrity: sha512-VRSzKkbMm5jMDoKLbltAkFQ5Qr7VDiTFGXxYFXXowVj387GeGNOCsOH6Msy00SGZ3Fp84b1Naa1psqgcCIEP5Q==}\n     engines: {node: '>=0.10.0'}\n@@ -3683,9 +3687,6 @@ packages:\n     resolution: {integrity: sha512-UcVfVfaK4Sc4m7X3dUSoHoozQGBEFeDC+zVo06t98xe8CzHSZZBekNXH+tu0NalHolcJ/QAGqS46Hef7QXBIMw==}\n     engines: {node: '>=16'}\n \n-  isarray@0.0.1:\n-    resolution: {integrity: sha512-D2S+3GLxWH+uhrNEcoh/fnmYeP8E8/zHl644d/jdA0g2uyXvy3sb0qxotE+ne0LtccHknQzWwZEzhak7oJ0COQ==}\n-\n   isarray@2.0.5:\n     resolution: {integrity: sha512-xHjhDr3cNBK0BzdUJSPXZntQUx/mwMS5Rw4A7lPJ90XGAO6ISP/ePDNuo0vhqOZU+UD5JoodwCAAoZQd3FeAKw==}\n \n@@ -3819,6 +3820,9 @@ packages:\n     resolution: {integrity: sha512-UgMIN7ZoEP2DuoSQmD6CYvFSLt0NReGlc2qSY4bO4Oq0L56OiD9pDG41Kj/zFmVY/A3Wvmn4BqKcfq5H30LGIg==}\n     engines: {node: '>= 12'}\n \n+  koa-connect@2.1.0:\n+    resolution: {integrity: sha512-O9pcFafHk0oQsBevlbTBlB9co+2RUQJ4zCzu3qJPmGlGoeEZkne+7gWDkecqDPSbCtED6LmhlQladxs6NjOnMQ==}\n+\n   koa-convert@2.0.0:\n     resolution: {integrity: sha512-asOvN6bFlSnxewce2e/DK3p4tltyfC4VM7ZwuTuepI7dEQVcvpyFuBcEARu1+Hxg8DIwytce2n7jrZtRlPrARA==}\n     engines: {node: '>= 10'}\n@@ -3826,11 +3830,6 @@ packages:\n   koa-is-json@1.0.0:\n     resolution: {integrity: sha512-+97CtHAlWDx0ndt0J8y3P12EWLwTLMXIfMnYDev3wOTwH/RpBGMlfn4bDXlMEg1u73K6XRE9BbUp+5ZAYoRYWw==}\n \n-  koa-proxies@0.12.4:\n-    resolution: {integrity: sha512-xxrEtN0e7s7/gNRoOMUltCbuIaCWqTQUTZNWQqet/8MoxSW0hG422lx2Al9FfYO3nCeA+b5c5/YmILRzavivDA==}\n-    peerDependencies:\n-      koa: '>=2'\n-\n   koa-send@5.0.1:\n     resolution: {integrity: sha512-tmcyQ/wXXuxpDxyNXv5yNNkdAMdFRqwtegBXUaowiQzUKqJehttS0x2j0eOZDQAyloAth5w6wwBImnFzkUz3pQ==}\n     engines: {node: '>= 8'}\n@@ -4401,9 +4400,6 @@ packages:\n     resolution: {integrity: sha512-haREypq7xkM7ErfgIyA0z+Bj4AGKlMSdlQE2jvJo6huWD1EdkKYV+G/T4nq0YEF2vgTT8kqMFKo1uHn950r4SQ==}\n     engines: {node: '>=12'}\n \n-  path-match@1.2.4:\n-    resolution: {integrity: sha512-UWlehEdqu36jmh4h5CWJ7tARp1OEVKGHKm6+dg9qMq5RKUTV5WJrGgaZ3dN2m7WFAXDbjlHzvJvL/IUpy84Ktw==}\n-\n   path-parse@1.0.7:\n     resolution: {integrity: sha512-LDJzPVEEEPR+y48z93A0Ed0yXb8pAByGWo/k5YYdYgpY2/2EsOsksJrq7lOHxryrVOn1ejG6oAp8ahvOIQD8sw==}\n \n@@ -4414,9 +4410,6 @@ packages:\n   path-to-regexp@0.1.7:\n     resolution: {integrity: sha512-5DFkuoqlv1uYQKxy8omFBeJPQcdoE07Kv2sferDCrAq1ohOU+MSDswDIbnx3YAM60qIOnYa53wBhXW0EbMonrQ==}\n \n-  path-to-regexp@1.8.0:\n-    resolution: {integrity: sha512-n43JRhlUKUAlibEJhPeir1ncUID16QnEjNpwzNdO3Lm4ywrBpBZ5oLD0I6br9evr1Y9JTqwRtAh7JLoOzAQdVA==}\n-\n   path-type@4.0.0:\n     resolution: {integrity: sha512-gDKb8aZMDeD/tZWs9P6+q0J9Mwkdl6xMV8TjnGP3qJVJ06bdMgkbBlLU8IdfOsIsFz2BW1rNVT3XuNEl8zPAvw==}\n     engines: {node: '>=8'}\n@@ -6017,9 +6010,9 @@ packages:\n   yup@1.2.0:\n     resolution: {integrity: sha512-PPqYKSAXjpRCgLgLKVGPA33v5c/WgEx3wi6NFjIiegz90zSwyMpvTFp/uGcVnnbx6to28pgnzp/q8ih3QRjLMQ==}\n \n-  zod-validation-error@1.5.0:\n-    resolution: {integrity: sha512-/7eFkAI4qV0tcxMBB/3+d2c1P6jzzZYdYSlBuAklzMuCrJu5bzJfHS0yVAS87dRHVlhftd6RFJDIvv03JgkSbw==}\n-    engines: {node: '>=16.0.0'}\n+  zod-validation-error@3.3.0:\n+    resolution: {integrity: sha512-Syib9oumw1NTqEv4LT0e6U83Td9aVRk9iTXPUQr1otyV1PuXQKOvOwhMNqZIq5hluzHP2pMgnOmHEo7kPdI2mw==}\n+    engines: {node: '>=18.0.0'}\n     peerDependencies:\n       zod: ^3.18.0\n \n@@ -6767,34 +6760,34 @@ snapshots:\n       inquirer: 9.3.4\n       walkdir: 0.4.1\n \n-  '@farmfe/core-darwin-arm64@1.2.6':\n+  '@farmfe/core-darwin-arm64@1.2.8':\n     optional: true\n \n-  '@farmfe/core-darwin-x64@1.2.6':\n+  '@farmfe/core-darwin-x64@1.2.8':\n     optional: true\n \n-  '@farmfe/core-linux-arm64-gnu@1.2.6':\n+  '@farmfe/core-linux-arm64-gnu@1.2.8':\n     optional: true\n \n-  '@farmfe/core-linux-arm64-musl@1.2.6':\n+  '@farmfe/core-linux-arm64-musl@1.2.8':\n     optional: true\n \n-  '@farmfe/core-linux-x64-gnu@1.2.6':\n+  '@farmfe/core-linux-x64-gnu@1.2.8':\n     optional: true\n \n-  '@farmfe/core-linux-x64-musl@1.2.6':\n+  '@farmfe/core-linux-x64-musl@1.2.8':\n     optional: true\n \n-  '@farmfe/core-win32-arm64-msvc@1.2.6':\n+  '@farmfe/core-win32-arm64-msvc@1.2.8':\n     optional: true\n \n-  '@farmfe/core-win32-ia32-msvc@1.2.6':\n+  '@farmfe/core-win32-ia32-msvc@1.2.8':\n     optional: true\n \n-  '@farmfe/core-win32-x64-msvc@1.2.6':\n+  '@farmfe/core-win32-x64-msvc@1.2.8':\n     optional: true\n \n-  '@farmfe/core@1.2.6(bufferutil@4.0.8)(utf-8-validate@6.0.4)':\n+  '@farmfe/core@1.2.8(bufferutil@4.0.8)(utf-8-validate@6.0.4)':\n     dependencies:\n       '@farmfe/runtime': 0.11.2\n       '@farmfe/runtime-plugin-hmr': 3.5.2\n@@ -6810,10 +6803,11 @@ snapshots:\n       farm-browserslist-generator: 1.0.0\n       fast-glob: 3.3.2\n       fs-extra: 11.2.0\n+      http-proxy-middleware: 3.0.0\n       is-plain-object: 5.0.0\n       koa: 2.15.3\n       koa-compress: 5.1.1\n-      koa-proxies: 0.12.4(koa@2.15.3)\n+      koa-connect: 2.1.0\n       koa-static: 5.0.0\n       lodash.debounce: 4.0.8\n       loglevel: 1.9.1\n@@ -6822,26 +6816,25 @@ snapshots:\n       slashes: 3.0.12\n       ws: 8.18.0(bufferutil@4.0.8)(utf-8-validate@6.0.4)\n       zod: 3.23.8\n-      zod-validation-error: 1.5.0(zod@3.23.8)\n+      zod-validation-error: 3.3.0(zod@3.23.8)\n     optionalDependencies:\n-      '@farmfe/core-darwin-arm64': 1.2.6\n-      '@farmfe/core-darwin-x64': 1.2.6\n-      '@farmfe/core-linux-arm64-gnu': 1.2.6\n-      '@farmfe/core-linux-arm64-musl': 1.2.6\n-      '@farmfe/core-linux-x64-gnu': 1.2.6\n-      '@farmfe/core-linux-x64-musl': 1.2.6\n-      '@farmfe/core-win32-arm64-msvc': 1.2.6\n-      '@farmfe/core-win32-ia32-msvc': 1.2.6\n-      '@farmfe/core-win32-x64-msvc': 1.2.6\n+      '@farmfe/core-darwin-arm64': 1.2.8\n+      '@farmfe/core-darwin-x64': 1.2.8\n+      '@farmfe/core-linux-arm64-gnu': 1.2.8\n+      '@farmfe/core-linux-arm64-musl': 1.2.8\n+      '@farmfe/core-linux-x64-gnu': 1.2.8\n+      '@farmfe/core-linux-x64-musl': 1.2.8\n+      '@farmfe/core-win32-arm64-msvc': 1.2.8\n+      '@farmfe/core-win32-ia32-msvc': 1.2.8\n+      '@farmfe/core-win32-x64-msvc': 1.2.8\n     transitivePeerDependencies:\n       - bufferutil\n-      - debug\n       - supports-color\n       - utf-8-validate\n \n-  '@farmfe/js-plugin-sass@2.8.1(@farmfe/core@1.2.6(bufferutil@4.0.8)(utf-8-validate@6.0.4))(sass-embedded@1.77.5)(sass@1.77.6)':\n+  '@farmfe/js-plugin-sass@2.8.1(@farmfe/core@1.2.8(bufferutil@4.0.8)(utf-8-validate@6.0.4))(sass-embedded@1.77.5)(sass@1.77.6)':\n     dependencies:\n-      '@farmfe/core': 1.2.6(bufferutil@4.0.8)(utf-8-validate@6.0.4)\n+      '@farmfe/core': 1.2.8(bufferutil@4.0.8)(utf-8-validate@6.0.4)\n       sass: 1.77.6\n       sass-embedded: 1.77.5\n \n@@ -7134,6 +7127,10 @@ snapshots:\n \n   '@types/http-cache-semantics@4.0.4': {}\n \n+  '@types/http-proxy@1.17.14':\n+    dependencies:\n+      '@types/node': 20.14.9\n+\n   '@types/istanbul-lib-coverage@2.0.6': {}\n \n   '@types/istanbul-lib-report@3.0.3':\n@@ -7804,7 +7801,7 @@ snapshots:\n \n   axios@1.7.2:\n     dependencies:\n-      follow-redirects: 1.15.6\n+      follow-redirects: 1.15.6(debug@4.3.5)\n       form-data: 4.0.0\n       proxy-from-env: 1.1.0\n     transitivePeerDependencies:\n@@ -9082,7 +9079,9 @@ snapshots:\n \n   fn.name@1.1.0: {}\n \n-  follow-redirects@1.15.6: {}\n+  follow-redirects@1.15.6(debug@4.3.5):\n+    optionalDependencies:\n+      debug: 4.3.5(supports-color@8.1.1)\n \n   for-each@0.3.3:\n     dependencies:\n@@ -9404,11 +9403,6 @@ snapshots:\n \n   http-cache-semantics@4.1.1: {}\n \n-  http-errors@1.4.0:\n-    dependencies:\n-      inherits: 2.0.1\n-      statuses: 1.5.0\n-\n   http-errors@1.6.3:\n     dependencies:\n       depd: 1.1.2\n@@ -9454,10 +9448,21 @@ snapshots:\n     transitivePeerDependencies:\n       - supports-color\n \n-  http-proxy@1.18.1:\n+  http-proxy-middleware@3.0.0:\n+    dependencies:\n+      '@types/http-proxy': 1.17.14\n+      debug: 4.3.5(supports-color@8.1.1)\n+      http-proxy: 1.18.1(debug@4.3.5)\n+      is-glob: 4.0.3\n+      is-plain-obj: 3.0.0\n+      micromatch: 4.0.7\n+    transitivePeerDependencies:\n+      - supports-color\n+\n+  http-proxy@1.18.1(debug@4.3.5):\n     dependencies:\n       eventemitter3: 4.0.7\n-      follow-redirects: 1.15.6\n+      follow-redirects: 1.15.6(debug@4.3.5)\n       requires-port: 1.0.0\n     transitivePeerDependencies:\n       - debug\n@@ -9541,8 +9546,6 @@ snapshots:\n       once: 1.4.0\n       wrappy: 1.0.2\n \n-  inherits@2.0.1: {}\n-\n   inherits@2.0.3: {}\n \n   inherits@2.0.4: {}\n@@ -9660,6 +9663,8 @@ snapshots:\n \n   is-plain-obj@2.1.0: {}\n \n+  is-plain-obj@3.0.0: {}\n+\n   is-plain-object@5.0.0: {}\n \n   is-potential-custom-element-name@1.0.1: {}\n@@ -9714,8 +9719,6 @@ snapshots:\n     dependencies:\n       is-inside-container: 1.0.0\n \n-  isarray@0.0.1: {}\n-\n   isarray@2.0.5: {}\n \n   isbot@3.8.0: {}\n@@ -9888,6 +9891,8 @@ snapshots:\n       http-errors: 1.8.1\n       koa-is-json: 1.0.0\n \n+  koa-connect@2.1.0: {}\n+\n   koa-convert@2.0.0:\n     dependencies:\n       co: 4.6.0\n@@ -9895,15 +9900,6 @@ snapshots:\n \n   koa-is-json@1.0.0: {}\n \n-  koa-proxies@0.12.4(koa@2.15.3):\n-    dependencies:\n-      http-proxy: 1.18.1\n-      koa: 2.15.3\n-      path-match: 1.2.4\n-      uuid: 8.3.2\n-    transitivePeerDependencies:\n-      - debug\n-\n   koa-send@5.0.1:\n     dependencies:\n       debug: 4.3.5(supports-color@8.1.1)\n@@ -10512,11 +10508,6 @@ snapshots:\n \n   path-key@4.0.0: {}\n \n-  path-match@1.2.4:\n-    dependencies:\n-      http-errors: 1.4.0\n-      path-to-regexp: 1.8.0\n-\n   path-parse@1.0.7: {}\n \n   path-scurry@1.11.1:\n@@ -10526,10 +10517,6 @@ snapshots:\n \n   path-to-regexp@0.1.7: {}\n \n-  path-to-regexp@1.8.0:\n-    dependencies:\n-      isarray: 0.0.1\n-\n   path-type@4.0.0: {}\n \n   path-type@5.0.0: {}\n@@ -12141,7 +12128,7 @@ snapshots:\n       toposort: 2.0.2\n       type-fest: 2.19.0\n \n-  zod-validation-error@1.5.0(zod@3.23.8):\n+  zod-validation-error@3.3.0(zod@3.23.8):\n     dependencies:\n       zod: 3.23.8\n "
    },
    {
      "author": "Alexey Krivitsky",
      "date": "2024-07-05 15:18:20 +0200",
      "message": "AssessmentHistory: fixing unit test",
      "diff": "diff --git a/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java b/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\nindex a609e7611..abd3b0bf2 100644\n--- a/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\n+++ b/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\n@@ -243,7 +243,7 @@ public class RestAssessmentControllerTests {\n               .getNoteTopic()\n               .getTopicConstructor());\n       assertEquals(0, assessmentHistory.stream().findFirst().get().getAnswersCorrect());\n-      assertEquals(1, assessmentHistory.stream().findFirst().get().getAnswersTotal());\n+      assertEquals(0, assessmentHistory.stream().findFirst().get().getAnswersTotal());\n     }\n   }\n }"
    },
    {
      "author": "Alexey Krivitsky",
      "date": "2024-07-05 15:11:10 +0200",
      "message": "fixing lint issues",
      "diff": "diff --git a/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java b/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java\nindex 09822567a..585d89823 100644\n--- a/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java\n+++ b/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java\n@@ -76,6 +76,7 @@ public class AssessmentService {\n   }\n \n   public List<AssessmentAttempt> getAssessmentHistory(User user) {\n-    return (List<AssessmentAttempt>) modelFactoryService.assessmentAttemptRepository.findAll(); // TODO: filter for user\n+    return (List<AssessmentAttempt>)\n+        modelFactoryService.assessmentAttemptRepository.findAll(); // TODO: filter for user\n   }\n }\ndiff --git a/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java b/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\nindex c84931171..a609e7611 100644\n--- a/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\n+++ b/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\n@@ -209,8 +209,11 @@ public class RestAssessmentControllerTests {\n       AssessmentResult assessmentResult =\n           controller.submitAssessmentResult(notebook, questionsAnswerPairs);\n \n-      assertEquals(questionsAnswerPairs.size(), assessmentResult.getNoteIdAndTitles().length, \"Expected number of notes do not match the provided number of questions.\");\n-      for( int i = 0; i < questionsAnswerPairs.size(); i++){\n+      assertEquals(\n+          questionsAnswerPairs.size(),\n+          assessmentResult.getNoteIdAndTitles().length,\n+          \"Expected number of notes do not match the provided number of questions.\");\n+      for (int i = 0; i < questionsAnswerPairs.size(); i++) {\n         NoteIdAndTitle expectedNoteIdAndTitle = expectedAssessmentResult.getNoteIdAndTitles()[i];\n         NoteIdAndTitle providedNoteIdAndTitle = assessmentResult.getNoteIdAndTitles()[i];\n         assertEquals(expectedNoteIdAndTitle.getId(), providedNoteIdAndTitle.getId());"
    },
    {
      "author": "Alexey Krivitsky",
      "date": "2024-07-05 15:06:04 +0200",
      "message": "AssessmentHistory: adding a todo",
      "diff": "diff --git a/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java b/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java\nindex 66c1fc214..09822567a 100644\n--- a/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java\n+++ b/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java\n@@ -76,6 +76,6 @@ public class AssessmentService {\n   }\n \n   public List<AssessmentAttempt> getAssessmentHistory(User user) {\n-    return (List<AssessmentAttempt>) modelFactoryService.assessmentAttemptRepository.findAll();\n+    return (List<AssessmentAttempt>) modelFactoryService.assessmentAttemptRepository.findAll(); // TODO: filter for user\n   }\n }"
    },
    {
      "author": "Alexey Krivitsky",
      "date": "2024-07-05 15:02:05 +0200",
      "message": "AssessmentHistory: reading/writing from DB",
      "diff": "diff --git a/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java b/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java\nindex 6b7998176..9764bda6f 100644\n--- a/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java\n+++ b/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java\n@@ -52,6 +52,7 @@ class RestAssessmentController {\n   }\n \n   @GetMapping(\"/history\")\n+  @Transactional\n   public List<AssessmentAttempt> getAssessmentHistory() {\n     return assessmentService.getAssessmentHistory(currentUser.getEntity());\n   }\ndiff --git a/backend/src/main/java/com/odde/doughnut/entities/repositories/AssessmentAttemptRepository.java b/backend/src/main/java/com/odde/doughnut/entities/repositories/AssessmentAttemptRepository.java\nnew file mode 100644\nindex 000000000..b703aa378\n--- /dev/null\n+++ b/backend/src/main/java/com/odde/doughnut/entities/repositories/AssessmentAttemptRepository.java\n@@ -0,0 +1,6 @@\n+package com.odde.doughnut.entities.repositories;\n+\n+import com.odde.doughnut.entities.AssessmentAttempt;\n+import org.springframework.data.repository.CrudRepository;\n+\n+public interface AssessmentAttemptRepository extends CrudRepository<AssessmentAttempt, Integer> {}\ndiff --git a/backend/src/main/java/com/odde/doughnut/factoryServices/ModelFactoryService.java b/backend/src/main/java/com/odde/doughnut/factoryServices/ModelFactoryService.java\nindex aa4f37239..e9d60fef0 100644\n--- a/backend/src/main/java/com/odde/doughnut/factoryServices/ModelFactoryService.java\n+++ b/backend/src/main/java/com/odde/doughnut/factoryServices/ModelFactoryService.java\n@@ -24,6 +24,7 @@ public class ModelFactoryService {\n   @Autowired public NotebookAssistantRepository notebookAssistantRepository;\n   @Autowired public GlobalSettingRepository globalSettingRepository;\n   @Autowired public EntityManager entityManager;\n+  @Autowired public AssessmentAttemptRepository assessmentAttemptRepository;\n \n   @Autowired\n   public QuestionSuggestionForFineTuningRepository questionSuggestionForFineTuningRepository;\ndiff --git a/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java b/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java\nindex 0a6a87de1..66c1fc214 100644\n--- a/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java\n+++ b/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java\n@@ -11,7 +11,6 @@ import com.odde.doughnut.factoryServices.ModelFactoryService;\n import com.odde.doughnut.models.randomizers.RealRandomizer;\n import com.theokanning.openai.client.OpenAiApi;\n import java.sql.Timestamp;\n-import java.util.ArrayList;\n import java.util.List;\n import java.util.Objects;\n \n@@ -77,14 +76,6 @@ public class AssessmentService {\n   }\n \n   public List<AssessmentAttempt> getAssessmentHistory(User user) {\n-    var result = new ArrayList<AssessmentAttempt>();\n-\n-    var attempt = new AssessmentAttempt();\n-    attempt.setAnswersCorrect(0);\n-    attempt.setAnswersTotal(1);\n-\n-    result.add(attempt);\n-\n-    return result;\n+    return (List<AssessmentAttempt>) modelFactoryService.assessmentAttemptRepository.findAll();\n   }\n }\ndiff --git a/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java b/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\nindex 81e36831d..c84931171 100644\n--- a/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\n+++ b/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\n@@ -221,13 +221,26 @@ public class RestAssessmentControllerTests {\n \n   @Nested\n   class assessmentHistoryTest {\n-\n     @Test\n-    void emptyAssessmentHistory() {\n+    void shouldReturnAssessmentHistory() throws UnexpectedNoAccessRightException {\n+      var topNote = makeMe.aHeadNote(\"Countries\").creatorAndOwner(currentUser).please();\n+      var notebook = topNote.getNotebook();\n+\n+      controller.submitAssessmentResult(notebook, new ArrayList<>());\n+\n       List<AssessmentAttempt> assessmentHistory = controller.getAssessmentHistory();\n       assertEquals(1, assessmentHistory.size());\n-      assertEquals(0, assessmentHistory.getFirst().getAnswersCorrect());\n-      assertEquals(1, assessmentHistory.getFirst().getAnswersTotal());\n+      assertEquals(\n+          \"Countries\",\n+          assessmentHistory.stream()\n+              .findFirst()\n+              .get()\n+              .getNotebook()\n+              .getHeadNote()\n+              .getNoteTopic()\n+              .getTopicConstructor());\n+      assertEquals(0, assessmentHistory.stream().findFirst().get().getAnswersCorrect());\n+      assertEquals(1, assessmentHistory.stream().findFirst().get().getAnswersTotal());\n     }\n   }\n }\ndiff --git a/e2e_test/features/assessment/assessment_history.feature b/e2e_test/features/assessment/assessment_history.feature\nindex ade2733c5..0628ae949 100644\n--- a/e2e_test/features/assessment/assessment_history.feature\n+++ b/e2e_test/features/assessment/assessment_history.feature\n@@ -3,7 +3,6 @@ Feature: Assessment History\n   so that I can track my progress\n   and review/share my results with others\n \n-  @ignore\n   Scenario: \"Empty history when no assessment has been done\"\n     Given I am logged in as an existing user\n     When I go to the assessment history page\n@@ -24,5 +23,5 @@ Feature: Assessment History\n     And I go to the assessment history page\n     Then I see the following assessments:\n       | notebook topic | score | total questions |\n-      | Countries      | 0     | 1               |\n+      | Countries     | 0     | 1               |\n \ndiff --git a/e2e_test/step_definitions/assessment_history.ts b/e2e_test/step_definitions/assessment_history.ts\nindex 59ffe0fec..84cee6c1b 100644\n--- a/e2e_test/step_definitions/assessment_history.ts\n+++ b/e2e_test/step_definitions/assessment_history.ts\n@@ -17,7 +17,7 @@ Then(\"I see the following assessments:\", (dataTable: DataTable) => {\n     cy.get(\"table tbody tr\")\n       .eq(index)\n       .within(() => {\n-        // cy.findByText(row[\"notebook topic\"]).should(\"exist\")\n+        cy.findByText(row[\"notebook topic\"]).should(\"exist\")\n         cy.findByText(row[\"score\"]).should(\"exist\")\n         cy.findByText(row[\"total questions\"]).should(\"exist\")\n       })\ndiff --git a/frontend/src/pages/AssessmentHistoryPage.vue b/frontend/src/pages/AssessmentHistoryPage.vue\nindex 7b5008d53..751e7720a 100644\n--- a/frontend/src/pages/AssessmentHistoryPage.vue\n+++ b/frontend/src/pages/AssessmentHistoryPage.vue\n@@ -36,7 +36,7 @@ onMounted(() => {\n       </thead>\n       <tbody>\n         <tr v-for=\"attempt in assessmentHistory\" :key=\"attempt.id\">\n-          <td>{{ attempt.notebook?.headNote.noteTopic }}</td>\n+          <td>{{ attempt.notebook?.headNote.noteTopic.topicConstructor }}</td>\n           <td>{{ attempt.answersCorrect }}</td>\n           <td>{{ attempt.answersTotal }}</td>\n         </tr>"
    },
    {
      "author": "Oskar Smietanka",
      "date": "2024-07-05 15:01:55 +0200",
      "message": "comment on indices on assessment_attempt table",
      "diff": "diff --git a/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java b/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java\nindex 0b36f984b..0a6a87de1 100644\n--- a/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java\n+++ b/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java\n@@ -57,6 +57,7 @@ public class AssessmentService {\n   public AssessmentResult submitAssessmentResult(\n       User user, Notebook notebook, List<QuestionAnswerPair> questionsAnswerPairs) {\n \n+    // TODO: add indices on assessment_attempt table!\n     AssessmentAttempt attempt = new AssessmentAttempt();\n     attempt.setUser(user);\n     attempt.setNotebook(notebook);"
    },
    {
      "author": "Oskar Smietanka",
      "date": "2024-07-05 14:59:01 +0200",
      "message": "fix stackoverflow error with calling toString on QuizQuestion or QuizQuestionAndAnswer entity",
      "diff": "diff --git a/backend/src/main/java/com/odde/doughnut/entities/QuizQuestionAndAnswer.java b/backend/src/main/java/com/odde/doughnut/entities/QuizQuestionAndAnswer.java\nindex edf6a9f56..ecf27e961 100644\n--- a/backend/src/main/java/com/odde/doughnut/entities/QuizQuestionAndAnswer.java\n+++ b/backend/src/main/java/com/odde/doughnut/entities/QuizQuestionAndAnswer.java\n@@ -71,4 +71,10 @@ public class QuizQuestionAndAnswer extends EntityIdentifiedByIdOnly {\n     quizQuestionInNotebook.setQuizQuestion(getQuizQuestion());\n     return quizQuestionInNotebook;\n   }\n+\n+  @Override\n+  public String toString() {\n+    // Fixing StackoverflowError when calling toString on QuizQuestionAndAnswer or QuizQuestion\n+    return \"QuizQuestionAndAnswer{\" + \"id=\" + id + '}';\n+  }\n }"
    },
    {
      "author": "mission2010",
      "date": "2024-07-05 15:01:27 +0200",
      "message": "Improved error message",
      "diff": "diff --git a/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java b/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\nindex 3cec7c917..81e36831d 100644\n--- a/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\n+++ b/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\n@@ -209,7 +209,7 @@ public class RestAssessmentControllerTests {\n       AssessmentResult assessmentResult =\n           controller.submitAssessmentResult(notebook, questionsAnswerPairs);\n \n-      assertEquals(questionsAnswerPairs.size(), assessmentResult.getNoteIdAndTitles().length);\n+      assertEquals(questionsAnswerPairs.size(), assessmentResult.getNoteIdAndTitles().length, \"Expected number of notes do not match the provided number of questions.\");\n       for( int i = 0; i < questionsAnswerPairs.size(); i++){\n         NoteIdAndTitle expectedNoteIdAndTitle = expectedAssessmentResult.getNoteIdAndTitles()[i];\n         NoteIdAndTitle providedNoteIdAndTitle = assessmentResult.getNoteIdAndTitles()[i];"
    },
    {
      "author": "mission2010",
      "date": "2024-07-05 14:47:08 +0200",
      "message": "Made submitAssessmentResultCheckScore pass.",
      "diff": "diff --git a/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java b/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java\nindex fbe01d586..0b36f984b 100644\n--- a/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java\n+++ b/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java\n@@ -61,12 +61,12 @@ public class AssessmentService {\n     attempt.setUser(user);\n     attempt.setNotebook(notebook);\n     attempt.setAnswersCorrect(0);\n-    attempt.setAnswersTotal(1);\n+    attempt.setAnswersTotal(questionsAnswerPairs.size());\n     attempt.setSubmittedAt(new Timestamp(System.currentTimeMillis()));\n     modelFactoryService.save(attempt);\n \n     AssessmentResult assessmentResult = new AssessmentResult();\n-    assessmentResult.setTotalCount(1);\n+    assessmentResult.setTotalCount(questionsAnswerPairs.size());\n     assessmentResult.setCorrectCount(0);\n     NoteIdAndTitle noteIdAndTitle = new NoteIdAndTitle();\n     noteIdAndTitle.setId(2);\ndiff --git a/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java b/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\nindex 126c0ebaa..3cec7c917 100644\n--- a/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\n+++ b/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\n@@ -168,6 +168,7 @@ public class RestAssessmentControllerTests {\n     private Notebook notebook;\n     private Note topNote;\n     private List<QuestionAnswerPair> questionsAnswerPairs;\n+    AssessmentResult expectedAssessmentResult = new AssessmentResult();\n \n     @BeforeEach\n     void setup() {\n@@ -185,10 +186,14 @@ public class RestAssessmentControllerTests {\n         quizQuestionAndAnswer.setCorrectAnswerIndex(1);\n         questionAnswerPair.setAnswerId(0);\n         questionsAnswerPairs.add(questionAnswerPair);\n+\n+        NoteIdAndTitle noteIdAndTitle = new NoteIdAndTitle();\n+        noteIdAndTitle.setId(note.getId());\n+        noteIdAndTitle.setTitle(note.getNoteTopic().getTopicConstructor());\n+        expectedAssessmentResult.setNoteIdAndTitles(new NoteIdAndTitle[] {noteIdAndTitle});\n       }\n     }\n \n-    @Disabled\n     @Test\n     void submitAssessmentResultCheckScore() throws UnexpectedNoAccessRightException {\n       AssessmentResult assessmentResult =\n@@ -205,9 +210,12 @@ public class RestAssessmentControllerTests {\n           controller.submitAssessmentResult(notebook, questionsAnswerPairs);\n \n       assertEquals(questionsAnswerPairs.size(), assessmentResult.getNoteIdAndTitles().length);\n-      NoteIdAndTitle noteIdAndTitle = assessmentResult.getNoteIdAndTitles()[0];\n-      assertEquals(2, noteIdAndTitle.getId());\n-      assertEquals(\"Singapore\", noteIdAndTitle.getTitle());\n+      for( int i = 0; i < questionsAnswerPairs.size(); i++){\n+        NoteIdAndTitle expectedNoteIdAndTitle = expectedAssessmentResult.getNoteIdAndTitles()[i];\n+        NoteIdAndTitle providedNoteIdAndTitle = assessmentResult.getNoteIdAndTitles()[i];\n+        assertEquals(expectedNoteIdAndTitle.getId(), providedNoteIdAndTitle.getId());\n+        assertEquals(expectedNoteIdAndTitle.getTitle(), providedNoteIdAndTitle.getTitle());\n+      }\n     }\n   }\n "
    },
    {
      "author": "Karel Smutny",
      "date": "2024-07-05 14:47:55 +0200",
      "message": "removed unneeded import in RestAssessmentController",
      "diff": "diff --git a/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java b/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java\nindex 1e8ce17b5..6b7998176 100644\n--- a/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java\n+++ b/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java\n@@ -9,7 +9,6 @@ import com.odde.doughnut.models.UserModel;\n import com.odde.doughnut.services.AssessmentService;\n import com.theokanning.openai.client.OpenAiApi;\n import io.swagger.v3.oas.annotations.media.Schema;\n-import java.util.ArrayList;\n import java.util.List;\n import org.springframework.beans.factory.annotation.Qualifier;\n import org.springframework.transaction.annotation.Transactional;"
    },
    {
      "author": "Alexey Krivitsky",
      "date": "2024-07-05 14:39:49 +0200",
      "message": "AssessmentHistory: moving fake code down to Service",
      "diff": "diff --git a/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java b/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java\nindex 3b1a728a2..1e8ce17b5 100644\n--- a/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java\n+++ b/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java\n@@ -54,14 +54,6 @@ class RestAssessmentController {\n \n   @GetMapping(\"/history\")\n   public List<AssessmentAttempt> getAssessmentHistory() {\n-    var result = new ArrayList<AssessmentAttempt>();\n-\n-    var attempt = new AssessmentAttempt();\n-    attempt.setAnswersCorrect(0);\n-    attempt.setAnswersTotal(1);\n-\n-    result.add(attempt);\n-\n-    return result;\n+    return assessmentService.getAssessmentHistory(currentUser.getEntity());\n   }\n }\ndiff --git a/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java b/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java\nindex aa9b80959..fbe01d586 100644\n--- a/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java\n+++ b/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java\n@@ -11,6 +11,7 @@ import com.odde.doughnut.factoryServices.ModelFactoryService;\n import com.odde.doughnut.models.randomizers.RealRandomizer;\n import com.theokanning.openai.client.OpenAiApi;\n import java.sql.Timestamp;\n+import java.util.ArrayList;\n import java.util.List;\n import java.util.Objects;\n \n@@ -73,4 +74,16 @@ public class AssessmentService {\n     assessmentResult.setNoteIdAndTitles(new NoteIdAndTitle[] {noteIdAndTitle});\n     return assessmentResult;\n   }\n+\n+  public List<AssessmentAttempt> getAssessmentHistory(User user) {\n+    var result = new ArrayList<AssessmentAttempt>();\n+\n+    var attempt = new AssessmentAttempt();\n+    attempt.setAnswersCorrect(0);\n+    attempt.setAnswersTotal(1);\n+\n+    result.add(attempt);\n+\n+    return result;\n+  }\n }"
    },
    {
      "author": "Arne Henrik Storm",
      "date": "2024-07-05 14:39:16 +0200",
      "message": "changed scenario text to be more user centric",
      "diff": "diff --git a/e2e_test/features/assessment/self_assessment.feature b/e2e_test/features/assessment/self_assessment.feature\nindex fceeaf344..6765b4df1 100644\n--- a/e2e_test/features/assessment/self_assessment.feature\n+++ b/e2e_test/features/assessment/self_assessment.feature\n@@ -58,14 +58,12 @@ Feature: New questions assessment\n     Then I should see the score \"Your score: 0 / 2\" at the end of assessment\n     And I should see a link to the \"Singapore\" notebook\n \n-  Scenario: Notes order vary from attempt to attempt\n+  Scenario: Perform multiple assesments on the same notebook and questions vary from attempt to attempt\n     Given I set the number of questions per assessment of the notebook \"Countries\" to 1\n     Then 10 subsequent attempts of assessment on the \"Countries\" notebook should be random meaning it should not have the same questions each time\n \n-  Scenario: Fail to start assessment not enough approve questions\n-    Given I toggle the approval of the question \"What is the capital city of China?\" of the topic \"China\"\n-    And I toggle the approval of the question \"Most famous food of Vietnam?\" of the topic \"Vietnam\"\n-    And I set the number of questions per assessment of the notebook \"Countries\" to 8\n+  Scenario: Fail to start assessment where there is not enough approved questions in the notebook\n+    And I set the number of questions per assessment of the notebook \"Countries\" to 10\n     When I start the assessment on the \"Countries\" notebook in the bazaar\n     Then I should see error message Not enough questions\n "
    },
    {
      "author": "mikhail.gubenko",
      "date": "2024-07-05 13:47:01 +0200",
      "message": "reduce self assessment test repetativeness",
      "diff": "diff --git a/e2e_test/features/assessment/self_assessment.feature b/e2e_test/features/assessment/self_assessment.feature\nindex 30dd0a752..fceeaf344 100644\n--- a/e2e_test/features/assessment/self_assessment.feature\n+++ b/e2e_test/features/assessment/self_assessment.feature\n@@ -23,33 +23,25 @@ Feature: New questions assessment\n       | China     | What is the capital city of China?             | Beijing  | Shanghai       | true     |\n       | China     | What is the largest city of China?             | Shanghai | Beijing        | true     |\n \n-  Scenario: Complete an assessment with 5 approved questions\n-    Given I set the number of questions per assessment of the notebook \"Countries\" to 5\n+  Scenario Outline: Perform an assessment with variable outcomes counts correct scores\n+    Given I set the number of questions per assessment of the notebook \"Countries\" to <QuestionsPerAssessment>\n     When I start the assessment on the \"Countries\" notebook in the bazaar\n     And I answer with the following answers:\n-      | question                                       | answer   |\n-      | Where in the world is Singapore?               | Asia     |\n-      | Most famous food of Vietnam?                   | Pho      |\n-      | What is the capital city of Korea?             | Busan    |\n-      | What is the capital city of Japan?             | Kyoto    |\n-      | What is the capital city of China?             | Shanghai |\n-      | What is the largest city in the Kyushu island? | Nagasaki |\n-      | What is the largest city of China?             | Beijing  |\n-    Then I should see the score \"Your score: 2 / 5\" at the end of assessment\n+      | question                                       | answer                   |\n+      | Where in the world is Singapore?               | <SingaporeAnswer>        |\n+      | Most famous food of Vietnam?                   | <VietnamAnswer>          |\n+      | What is the capital city of Japan?             | <JapanAnswer>            |\n+      | What is the capital city of Korea?             | <KoreaAnswer>            |\n+      | What is the capital city of China?             | <ChinaAnswer>            |\n+      | What is the largest city in the Kyushu island? | <KyushuAnswer>           |\n+      | What is the largest city of China?             | <LargestChinaCityAnswer> |\n+    Then I should see the score \"Your score: <ExpectedScore> / <QuestionsPerAssessment>\" at the end of assessment\n \n-  Scenario: Perform an assessment with all correct answers\n-    Given I set the number of questions per assessment of the notebook \"Countries\" to 5\n-    When I start the assessment on the \"Countries\" notebook in the bazaar\n-    And I answer with the following answers:\n-      | question                                       | answer   |\n-      | Where in the world is Singapore?               | Asia     |\n-      | Most famous food of Vietnam?                   | Pho      |\n-      | What is the capital city of Japan?             | Tokyo    |\n-      | What is the capital city of China?             | Beijing  |\n-      | What is the capital city of Korea?             | Seoul    |\n-      | What is the largest city in the Kyushu island? | Fukuoka  |\n-      | What is the largest city of China?             | Shanghai |\n-    Then I should see the score \"Your score: 5 / 5\" at the end of assessment\n+    Examples:\n+      | QuestionsPerAssessment | SingaporeAnswer | VietnamAnswer | JapanAnswer | KoreaAnswer | ChinaAnswer | KyushuAnswer | LargestChinaCityAnswer | ExpectedScore |\n+      | 5                      | Asia            | Pho           | Tokyo       | Seoul       | Beijing     | Fukuoka      | Shanghai               | 5             |\n+      | 5                      | euro            | bread         | Kyoto       | Busan       | Shanghai    | Nagasaki     | Beijing                | 0             |\n+      | 5                      | Asia            | Pho           | Kyoto       | Busan       | Shanghai    | Nagasaki     | Beijing                | 2             |\n \n   Scenario: Perform an assessment with all wrong answers\n     Given I set the number of questions per assessment of the notebook \"Countries\" to 2"
    },
    {
      "author": "Karel Smutny",
      "date": "2024-07-05 13:23:43 +0200",
      "message": "showing assessment history result after loaded via REST API",
      "diff": "diff --git a/e2e_test/features/assessment/assessment_history.feature b/e2e_test/features/assessment/assessment_history.feature\nindex 0ecc5e384..ade2733c5 100644\n--- a/e2e_test/features/assessment/assessment_history.feature\n+++ b/e2e_test/features/assessment/assessment_history.feature\n@@ -3,6 +3,7 @@ Feature: Assessment History\n   so that I can track my progress\n   and review/share my results with others\n \n+  @ignore\n   Scenario: \"Empty history when no assessment has been done\"\n     Given I am logged in as an existing user\n     When I go to the assessment history page\ndiff --git a/frontend/src/pages/AssessmentHistoryPage.vue b/frontend/src/pages/AssessmentHistoryPage.vue\nindex b92b86925..7b5008d53 100644\n--- a/frontend/src/pages/AssessmentHistoryPage.vue\n+++ b/frontend/src/pages/AssessmentHistoryPage.vue\n@@ -3,6 +3,7 @@ import { onMounted, ref } from \"vue\"\n import useLoadingApi from \"@/managedApi/useLoadingApi\"\n import { AssessmentAttempt } from \"@/generated/backend\"\n \n+const loaded = ref(false)\n const assessmentHistory = ref<AssessmentAttempt[]>([])\n \n const loadAssessmentHistory = () => {\n@@ -10,6 +11,7 @@ const loadAssessmentHistory = () => {\n     .managedApi.restAssessmentController.getAssessmentHistory()\n     .then((response) => {\n       assessmentHistory.value = response\n+      loaded.value = true\n     })\n }\n \n@@ -20,9 +22,11 @@ onMounted(() => {\n \n <template>\n   <div class=\"container\">\n-    <p>No assessment has been done yet</p>\n     <h1>Assessment History</h1>\n-    <table>\n+    <p v-if=\"loaded && assessmentHistory.length === 0\">\n+      No assessment has been done yet\n+    </p>\n+    <table v-else-if=\"loaded && assessmentHistory.length > 0\">\n       <thead>\n         <tr>\n           <th>Notebook</th>\n@@ -41,4 +45,8 @@ onMounted(() => {\n   </div>\n </template>\n \n-<style scoped lang=\"scss\"></style>\n+<style scoped lang=\"scss\">\n+table {\n+  width: 100%;\n+}\n+</style>"
    },
    {
      "author": "Karel Smutny",
      "date": "2024-07-05 13:08:05 +0200",
      "message": "assessment history: moving fake data down to controller",
      "diff": "diff --git a/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java b/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java\nindex afc0e7440..3b1a728a2 100644\n--- a/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java\n+++ b/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java\n@@ -2,9 +2,7 @@ package com.odde.doughnut.controllers;\n \n import com.odde.doughnut.controllers.dto.AssessmentResult;\n import com.odde.doughnut.controllers.dto.QuestionAnswerPair;\n-import com.odde.doughnut.entities.AssessmentAttempt;\n-import com.odde.doughnut.entities.Notebook;\n-import com.odde.doughnut.entities.QuizQuestion;\n+import com.odde.doughnut.entities.*;\n import com.odde.doughnut.exceptions.UnexpectedNoAccessRightException;\n import com.odde.doughnut.factoryServices.ModelFactoryService;\n import com.odde.doughnut.models.UserModel;\n@@ -56,6 +54,14 @@ class RestAssessmentController {\n \n   @GetMapping(\"/history\")\n   public List<AssessmentAttempt> getAssessmentHistory() {\n-    return new ArrayList<>();\n+    var result = new ArrayList<AssessmentAttempt>();\n+\n+    var attempt = new AssessmentAttempt();\n+    attempt.setAnswersCorrect(0);\n+    attempt.setAnswersTotal(1);\n+\n+    result.add(attempt);\n+\n+    return result;\n   }\n }\ndiff --git a/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java b/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\nindex 5c9a91184..126c0ebaa 100644\n--- a/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\n+++ b/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\n@@ -217,7 +217,9 @@ public class RestAssessmentControllerTests {\n     @Test\n     void emptyAssessmentHistory() {\n       List<AssessmentAttempt> assessmentHistory = controller.getAssessmentHistory();\n-      assertEquals(0, assessmentHistory.size());\n+      assertEquals(1, assessmentHistory.size());\n+      assertEquals(0, assessmentHistory.getFirst().getAnswersCorrect());\n+      assertEquals(1, assessmentHistory.getFirst().getAnswersTotal());\n     }\n   }\n }\ndiff --git a/e2e_test/step_definitions/assessment_history.ts b/e2e_test/step_definitions/assessment_history.ts\nindex 84cee6c1b..59ffe0fec 100644\n--- a/e2e_test/step_definitions/assessment_history.ts\n+++ b/e2e_test/step_definitions/assessment_history.ts\n@@ -17,7 +17,7 @@ Then(\"I see the following assessments:\", (dataTable: DataTable) => {\n     cy.get(\"table tbody tr\")\n       .eq(index)\n       .within(() => {\n-        cy.findByText(row[\"notebook topic\"]).should(\"exist\")\n+        // cy.findByText(row[\"notebook topic\"]).should(\"exist\")\n         cy.findByText(row[\"score\"]).should(\"exist\")\n         cy.findByText(row[\"total questions\"]).should(\"exist\")\n       })\ndiff --git a/frontend/src/pages/AssessmentHistoryPage.vue b/frontend/src/pages/AssessmentHistoryPage.vue\nindex f2333e887..b92b86925 100644\n--- a/frontend/src/pages/AssessmentHistoryPage.vue\n+++ b/frontend/src/pages/AssessmentHistoryPage.vue\n@@ -1,4 +1,22 @@\n-<script setup lang=\"ts\"></script>\n+<script setup lang=\"ts\">\n+import { onMounted, ref } from \"vue\"\n+import useLoadingApi from \"@/managedApi/useLoadingApi\"\n+import { AssessmentAttempt } from \"@/generated/backend\"\n+\n+const assessmentHistory = ref<AssessmentAttempt[]>([])\n+\n+const loadAssessmentHistory = () => {\n+  useLoadingApi()\n+    .managedApi.restAssessmentController.getAssessmentHistory()\n+    .then((response) => {\n+      assessmentHistory.value = response\n+    })\n+}\n+\n+onMounted(() => {\n+  loadAssessmentHistory()\n+})\n+</script>\n \n <template>\n   <div class=\"container\">\n@@ -13,10 +31,10 @@\n         </tr>\n       </thead>\n       <tbody>\n-        <tr>\n-          <td>Countries</td>\n-          <td>0</td>\n-          <td>1</td>\n+        <tr v-for=\"attempt in assessmentHistory\" :key=\"attempt.id\">\n+          <td>{{ attempt.notebook?.headNote.noteTopic }}</td>\n+          <td>{{ attempt.answersCorrect }}</td>\n+          <td>{{ attempt.answersTotal }}</td>\n         </tr>\n       </tbody>\n     </table>"
    },
    {
      "author": "Alexey Krivitsky",
      "date": "2024-07-05 12:03:33 +0200",
      "message": "fixing build after regenerating files",
      "diff": "diff --git a/frontend/src/generated/backend/index.ts b/frontend/src/generated/backend/index.ts\nindex 96b4ac914..67d7cc77c 100644\n--- a/frontend/src/generated/backend/index.ts\n+++ b/frontend/src/generated/backend/index.ts\n@@ -18,6 +18,7 @@ export type { AiGeneratedImage } from './models/AiGeneratedImage';\n export type { Annotation } from './models/Annotation';\n export type { AnswerDTO } from './models/AnswerDTO';\n export type { AnsweredQuestion } from './models/AnsweredQuestion';\n+export type { AssessmentAttempt } from './models/AssessmentAttempt';\n export type { AssessmentResult } from './models/AssessmentResult';\n export type { Attachment } from './models/Attachment';\n export type { Audio } from './models/Audio';\ndiff --git a/frontend/src/generated/backend/models/AssessmentAttempt.ts b/frontend/src/generated/backend/models/AssessmentAttempt.ts\nnew file mode 100644\nindex 000000000..0dbb0c656\n--- /dev/null\n+++ b/frontend/src/generated/backend/models/AssessmentAttempt.ts\n@@ -0,0 +1,13 @@\n+/* generated using openapi-typescript-codegen -- do not edit */\n+/* istanbul ignore file */\n+/* tslint:disable */\n+/* eslint-disable */\n+import type { Notebook } from './Notebook';\n+export type AssessmentAttempt = {\n+    id: number;\n+    notebook?: Notebook;\n+    submittedAt?: string;\n+    answersTotal?: number;\n+    answersCorrect?: number;\n+};\n+\ndiff --git a/frontend/src/generated/backend/services/RestAssessmentControllerService.ts b/frontend/src/generated/backend/services/RestAssessmentControllerService.ts\nindex 4b4dc53a1..5e7e1eb41 100644\n--- a/frontend/src/generated/backend/services/RestAssessmentControllerService.ts\n+++ b/frontend/src/generated/backend/services/RestAssessmentControllerService.ts\n@@ -2,6 +2,7 @@\n /* istanbul ignore file */\n /* tslint:disable */\n /* eslint-disable */\n+import type { AssessmentAttempt } from '../models/AssessmentAttempt';\n import type { AssessmentResult } from '../models/AssessmentResult';\n import type { QuestionAnswerPair } from '../models/QuestionAnswerPair';\n import type { QuizQuestion } from '../models/QuizQuestion';\n@@ -51,4 +52,17 @@ export class RestAssessmentControllerService {\n             },\n         });\n     }\n+    /**\n+     * @returns AssessmentAttempt OK\n+     * @throws ApiError\n+     */\n+    public getAssessmentHistory(): CancelablePromise<Array<AssessmentAttempt>> {\n+        return this.httpRequest.request({\n+            method: 'GET',\n+            url: '/api/assessment/history',\n+            errors: {\n+                500: `Internal Server Error`,\n+            },\n+        });\n+    }\n }"
    },
    {
      "author": "Karel Smutny",
      "date": "2024-07-05 11:54:22 +0200",
      "message": "added assessment history API returning empty history for real now",
      "diff": "diff --git a/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java b/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java\nindex 3aead8314..afc0e7440 100644\n--- a/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java\n+++ b/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java\n@@ -54,6 +54,7 @@ class RestAssessmentController {\n         currentUser.getEntity(), notebook, questionsAnswerPairs);\n   }\n \n+  @GetMapping(\"/history\")\n   public List<AssessmentAttempt> getAssessmentHistory() {\n     return new ArrayList<>();\n   }\ndiff --git a/open_api_docs.yaml b/open_api_docs.yaml\nindex ab3065dbb..6ed7e05f5 100644\n--- a/open_api_docs.yaml\n+++ b/open_api_docs.yaml\n@@ -2460,6 +2460,26 @@ paths:\n                 type: array\n                 items:\n                   $ref: \"#/components/schemas/QuizQuestion\"\n+  /api/assessment/history:\n+    get:\n+      tags:\n+      - rest-assessment-controller\n+      operationId: getAssessmentHistory\n+      responses:\n+        \"500\":\n+          description: Internal Server Error\n+          content:\n+            '*/*':\n+              schema:\n+                type: string\n+        \"200\":\n+          description: OK\n+          content:\n+            '*/*':\n+              schema:\n+                type: array\n+                items:\n+                  $ref: \"#/components/schemas/AssessmentAttempt\"\n   /api/ai/dummy:\n     get:\n       tags:\n@@ -3611,6 +3631,25 @@ components:\n       properties:\n         name:\n           type: string\n+    AssessmentAttempt:\n+      required:\n+      - id\n+      type: object\n+      properties:\n+        id:\n+          type: integer\n+          format: int32\n+        notebook:\n+          $ref: \"#/components/schemas/Notebook\"\n+        submittedAt:\n+          type: string\n+          format: date-time\n+        answersTotal:\n+          type: integer\n+          format: int32\n+        answersCorrect:\n+          type: integer\n+          format: int32\n     Delta:\n       type: object\n       properties:"
    },
    {
      "author": "Alexey Krivitsky",
      "date": "2024-07-05 11:52:49 +0200",
      "message": "fixing build",
      "diff": "diff --git a/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java b/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java\nindex a93dd4fd1..3aead8314 100644\n--- a/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java\n+++ b/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java\n@@ -11,7 +11,6 @@ import com.odde.doughnut.models.UserModel;\n import com.odde.doughnut.services.AssessmentService;\n import com.theokanning.openai.client.OpenAiApi;\n import io.swagger.v3.oas.annotations.media.Schema;\n-\n import java.util.ArrayList;\n import java.util.List;\n import org.springframework.beans.factory.annotation.Qualifier;\n@@ -57,6 +56,5 @@ class RestAssessmentController {\n \n   public List<AssessmentAttempt> getAssessmentHistory() {\n     return new ArrayList<>();\n-//    return null;\n   }\n }"
    },
    {
      "author": "Karel Smutny",
      "date": "2024-07-05 11:43:17 +0200",
      "message": "added assessment history API returning empty history",
      "diff": "diff --git a/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java b/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java\nindex 42ccda4c2..a93dd4fd1 100644\n--- a/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java\n+++ b/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java\n@@ -2,6 +2,7 @@ package com.odde.doughnut.controllers;\n \n import com.odde.doughnut.controllers.dto.AssessmentResult;\n import com.odde.doughnut.controllers.dto.QuestionAnswerPair;\n+import com.odde.doughnut.entities.AssessmentAttempt;\n import com.odde.doughnut.entities.Notebook;\n import com.odde.doughnut.entities.QuizQuestion;\n import com.odde.doughnut.exceptions.UnexpectedNoAccessRightException;\n@@ -10,6 +11,8 @@ import com.odde.doughnut.models.UserModel;\n import com.odde.doughnut.services.AssessmentService;\n import com.theokanning.openai.client.OpenAiApi;\n import io.swagger.v3.oas.annotations.media.Schema;\n+\n+import java.util.ArrayList;\n import java.util.List;\n import org.springframework.beans.factory.annotation.Qualifier;\n import org.springframework.transaction.annotation.Transactional;\n@@ -51,4 +54,9 @@ class RestAssessmentController {\n     return assessmentService.submitAssessmentResult(\n         currentUser.getEntity(), notebook, questionsAnswerPairs);\n   }\n+\n+  public List<AssessmentAttempt> getAssessmentHistory() {\n+    return new ArrayList<>();\n+//    return null;\n+  }\n }\ndiff --git a/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java b/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\nindex b007f5d0e..5c9a91184 100644\n--- a/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\n+++ b/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\n@@ -210,4 +210,14 @@ public class RestAssessmentControllerTests {\n       assertEquals(\"Singapore\", noteIdAndTitle.getTitle());\n     }\n   }\n+\n+  @Nested\n+  class assessmentHistoryTest {\n+\n+    @Test\n+    void emptyAssessmentHistory() {\n+      List<AssessmentAttempt> assessmentHistory = controller.getAssessmentHistory();\n+      assertEquals(0, assessmentHistory.size());\n+    }\n+  }\n }"
    },
    {
      "author": "Arne Henrik Storm",
      "date": "2024-07-05 11:32:19 +0200",
      "message": "changed spelling error in scenario and front-end",
      "diff": "diff --git a/e2e_test/features/assessment/self_assessment.feature b/e2e_test/features/assessment/self_assessment.feature\nindex fbe9a6588..30dd0a752 100644\n--- a/e2e_test/features/assessment/self_assessment.feature\n+++ b/e2e_test/features/assessment/self_assessment.feature\n@@ -1,6 +1,6 @@\n Feature: New questions assessment\n   As a trainer, I want to create a notebook with knowledge and questions\n-  and share it in the Bazaar, so that people can use it to assess their knowledge\n+  and share it in the Bazaar, so that people can use it to assess their own skill level and knowledge on the topic\n \n   Background:\n     Given I am logged in as an existing user\n@@ -35,9 +35,9 @@ Feature: New questions assessment\n       | What is the capital city of China?             | Shanghai |\n       | What is the largest city in the Kyushu island? | Nagasaki |\n       | What is the largest city of China?             | Beijing  |\n-    Then I should see the score \"Yours score: 2 / 5\" at the end of assessment\n+    Then I should see the score \"Your score: 2 / 5\" at the end of assessment\n \n-  Scenario: Perform an assessment with all correct answers with table view\n+  Scenario: Perform an assessment with all correct answers\n     Given I set the number of questions per assessment of the notebook \"Countries\" to 5\n     When I start the assessment on the \"Countries\" notebook in the bazaar\n     And I answer with the following answers:\n@@ -49,7 +49,7 @@ Feature: New questions assessment\n       | What is the capital city of Korea?             | Seoul    |\n       | What is the largest city in the Kyushu island? | Fukuoka  |\n       | What is the largest city of China?             | Shanghai |\n-    Then I should see the score \"Yours score: 5 / 5\" at the end of assessment\n+    Then I should see the score \"Your score: 5 / 5\" at the end of assessment\n \n   Scenario: Perform an assessment with all wrong answers\n     Given I set the number of questions per assessment of the notebook \"Countries\" to 2\n@@ -63,7 +63,7 @@ Feature: New questions assessment\n       | What is the capital city of China?             | Shanghai |\n       | What is the largest city in the Kyushu island? | Nagasaki |\n       | What is the largest city of China?             | Beijing  |\n-    Then I should see the score \"Yours score: 0 / 2\" at the end of assessment\n+    Then I should see the score \"Your score: 0 / 2\" at the end of assessment\n     And I should see a link to the \"Singapore\" notebook\n \n   Scenario: Notes order vary from attempt to attempt\ndiff --git a/e2e_test/step_definitions/assessment.ts b/e2e_test/step_definitions/assessment.ts\nindex 131610133..ba200793f 100644\n--- a/e2e_test/step_definitions/assessment.ts\n+++ b/e2e_test/step_definitions/assessment.ts\n@@ -23,7 +23,7 @@ When(\n   (notebook: string) => {\n     start.navigateToBazaar().selfAssessmentOnNotebook(notebook)\n     start.assumeAssessmentPage().assumeQuestionSection().answerFirstOption()\n-    start.assumeAssessmentPage().expectEndOfAssessment(\"Yours score: 1 / 1\")\n+    start.assumeAssessmentPage().expectEndOfAssessment(\"Your score: 1 / 1\")\n   }\n )\n \ndiff --git a/frontend/src/pages/AssessmentPage.vue b/frontend/src/pages/AssessmentPage.vue\nindex e744dbfaf..b78a36d81 100644\n--- a/frontend/src/pages/AssessmentPage.vue\n+++ b/frontend/src/pages/AssessmentPage.vue\n@@ -10,7 +10,7 @@\n       @answered=\"questionAnswered\"\n     />\n     <div v-else-if=\"assessmentCompleted\">\n-      <p>Yours score: {{ correctAnswers }} / {{ quizQuestions.length }}</p>\n+      <p>Your score: {{ correctAnswers }} / {{ quizQuestions.length }}</p>\n     </div>\n   </div>\n "
    },
    {
      "author": "Karel Smutny",
      "date": "2024-07-05 11:30:50 +0200",
      "message": "added scafolding for assessment history page",
      "diff": "diff --git a/e2e_test/features/assessment/assessment_history.feature b/e2e_test/features/assessment/assessment_history.feature\nindex faec8866f..0ecc5e384 100644\n--- a/e2e_test/features/assessment/assessment_history.feature\n+++ b/e2e_test/features/assessment/assessment_history.feature\n@@ -3,13 +3,11 @@ Feature: Assessment History\n   so that I can track my progress\n   and review/share my results with others\n \n-  @ignore\n   Scenario: \"Empty history when no assessment has been done\"\n     Given I am logged in as an existing user\n     When I go to the assessment history page\n     Then I should see an empty assessment list\n \n-  @ignore\n   Scenario: \"View assessment history\"\n     Given I am logged in as an existing user\n     And there are some notes for the current user:\n@@ -24,5 +22,6 @@ Feature: Assessment History\n     When I submit the assessment on the \"Countries\" notebook in the bazaar\n     And I go to the assessment history page\n     Then I see the following assessments:\n-      | notebookTopic | score | totalQuestions |\n-      | Countries     | 0     | 1              |\n+      | notebook topic | score | total questions |\n+      | Countries      | 0     | 1               |\n+\ndiff --git a/e2e_test/step_definitions/assessment.ts b/e2e_test/step_definitions/assessment.ts\nindex 95d9ea07f..131610133 100644\n--- a/e2e_test/step_definitions/assessment.ts\n+++ b/e2e_test/step_definitions/assessment.ts\n@@ -22,7 +22,7 @@ When(\n   \"I submit the assessment on the {string} notebook in the bazaar\",\n   (notebook: string) => {\n     start.navigateToBazaar().selfAssessmentOnNotebook(notebook)\n-    start.assumeAssessmentPage().assumeQuestionSection().answerFirst()\n+    start.assumeAssessmentPage().assumeQuestionSection().answerFirstOption()\n     start.assumeAssessmentPage().expectEndOfAssessment(\"Yours score: 1 / 1\")\n   }\n )\ndiff --git a/e2e_test/step_definitions/assessment_history.ts b/e2e_test/step_definitions/assessment_history.ts\nindex 52bfb6f11..84cee6c1b 100644\n--- a/e2e_test/step_definitions/assessment_history.ts\n+++ b/e2e_test/step_definitions/assessment_history.ts\n@@ -1,4 +1,4 @@\n-import { Then, When } from \"@badeball/cypress-cucumber-preprocessor\"\n+import { DataTable, Then, When } from \"@badeball/cypress-cucumber-preprocessor\"\n import start from \"../start\"\n \n When(\"I go to the assessment history page\", () => {\n@@ -8,3 +8,18 @@ When(\"I go to the assessment history page\", () => {\n Then(\"I should see an empty assessment list\", () => {\n   cy.findByText(\"No assessment has been done yet\")\n })\n+\n+Then(\"I see the following assessments:\", (dataTable: DataTable) => {\n+  // look for exactly one row in a table and assert the content of each cell: assessment topic, correct answers, total questions\n+  const rows = dataTable.hashes()\n+  cy.get(\"table tbody tr\").should(\"have.length\", rows.length)\n+  rows.forEach((row, index) => {\n+    cy.get(\"table tbody tr\")\n+      .eq(index)\n+      .within(() => {\n+        cy.findByText(row[\"notebook topic\"]).should(\"exist\")\n+        cy.findByText(row[\"score\"]).should(\"exist\")\n+        cy.findByText(row[\"total questions\"]).should(\"exist\")\n+      })\n+  })\n+})\ndiff --git a/frontend/src/pages/AssessmentHistoryPage.vue b/frontend/src/pages/AssessmentHistoryPage.vue\nindex ff4ef8963..f2333e887 100644\n--- a/frontend/src/pages/AssessmentHistoryPage.vue\n+++ b/frontend/src/pages/AssessmentHistoryPage.vue\n@@ -2,8 +2,24 @@\n \n <template>\n   <div class=\"container\">\n-    <h1>Assessment History</h1>\n     <p>No assessment has been done yet</p>\n+    <h1>Assessment History</h1>\n+    <table>\n+      <thead>\n+        <tr>\n+          <th>Notebook</th>\n+          <th>Correct Answers</th>\n+          <th>Total Questions</th>\n+        </tr>\n+      </thead>\n+      <tbody>\n+        <tr>\n+          <td>Countries</td>\n+          <td>0</td>\n+          <td>1</td>\n+        </tr>\n+      </tbody>\n+    </table>\n   </div>\n </template>\n "
    },
    {
      "author": "Karel Smutny",
      "date": "2024-07-05 08:49:49 +0200",
      "message": "Renamed history.feature to assessment_history.feature",
      "diff": "diff --git a/e2e_test/features/assessment/history.feature b/e2e_test/features/assessment/assessment_history.feature\nsimilarity index 100%\nrename from e2e_test/features/assessment/history.feature\nrename to e2e_test/features/assessment/assessment_history.feature"
    },
    {
      "author": "mikhail.gubenko",
      "date": "2024-07-05 11:29:29 +0200",
      "message": "fix flaky randomness test",
      "diff": "diff --git a/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java b/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\nindex 8c491058c..b007f5d0e 100644\n--- a/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\n+++ b/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\n@@ -44,46 +44,46 @@ public class RestAssessmentControllerTests {\n   class assessmentQuestionOrderTest {\n     private Notebook notebook;\n     private Note topNote;\n+    private int representativeNumberOfAttempts = 30;\n+\n+    Set<Integer> performAssessments(int numberOfAttempts) throws UnexpectedNoAccessRightException {\n+      Set<Integer> questionIds = new HashSet<>();\n+      for (int i = 0; i < numberOfAttempts; i++) {\n+        List<QuizQuestion> assessment = controller.generateAssessmentQuestions(notebook);\n+        Integer questionId = assessment.get(0).getId();\n+        questionIds.add(questionId);\n+      }\n+      return questionIds;\n+    }\n \n     @BeforeEach\n     void setup() {\n       topNote = makeMe.aHeadNote(\"OnlineAssessment\").creatorAndOwner(currentUser).please();\n       notebook = topNote.getNotebook();\n+      notebook.getNotebookSettings().setNumberOfQuestionsInAssessment(1);\n     }\n \n     @Test\n     void shouldPickRandomNotesForAssessment() throws UnexpectedNoAccessRightException {\n       makeMe.theNote(topNote).withNChildrenThat(10, NoteBuilder::hasAnApprovedQuestion).please();\n-      notebook.getNotebookSettings().setNumberOfQuestionsInAssessment(1);\n \n-      Set<Integer> questionIds = new HashSet<>();\n-      for (int i = 0; i < 3; i++) {\n-        List<QuizQuestion> assessment = controller.generateAssessmentQuestions(notebook);\n-        Integer questionId = assessment.get(0).getId();\n-        questionIds.add(questionId);\n-      }\n+      Set<Integer> questionIds = performAssessments(representativeNumberOfAttempts);\n \n       assertTrue(questionIds.size() > 1, \"Expected questions from different notes.\");\n     }\n \n     @Test\n     void shouldPickRandomQuestionsFromTheSameNote() throws UnexpectedNoAccessRightException {\n-      int numberOfQuestions = 3;\n+      int numberOfQuestions = 10;\n \n       Consumer<NoteBuilder> multipleApprovedQuestionsForNote =\n           noteBuilder -> noteBuilder.hasApprovedQuestions(numberOfQuestions);\n \n       makeMe.theNote(topNote).withNChildrenThat(1, multipleApprovedQuestionsForNote).please();\n-      notebook.getNotebookSettings().setNumberOfQuestionsInAssessment(1);\n \n-      Set<Integer> questionIds = new HashSet<>();\n-      for (int i = 0; i < 10; i++) {\n-        List<QuizQuestion> assessment = controller.generateAssessmentQuestions(notebook);\n-        Integer questionId = assessment.get(0).getId();\n-        questionIds.add(questionId);\n-      }\n+      Set<Integer> questionIds = performAssessments(representativeNumberOfAttempts);\n \n-      assertEquals(numberOfQuestions, questionIds.size(), \"Expected questions from the same note.\");\n+      assertTrue(questionIds.size() > 1, \"Expected questions from the same note.\");\n     }\n   }\n "
    },
    {
      "author": "mission2010",
      "date": "2024-07-05 11:01:23 +0200",
      "message": "Fixed test names",
      "diff": "diff --git a/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java b/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\nindex 9b30c86af..8c491058c 100644\n--- a/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\n+++ b/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\n@@ -15,6 +15,7 @@ import com.theokanning.openai.client.OpenAiApi;\n import java.util.*;\n import java.util.function.Consumer;\n import org.junit.jupiter.api.BeforeEach;\n+import org.junit.jupiter.api.Disabled;\n import org.junit.jupiter.api.Nested;\n import org.junit.jupiter.api.Test;\n import org.mockito.Mock;\n@@ -173,26 +174,37 @@ public class RestAssessmentControllerTests {\n       topNote = makeMe.aHeadNote(\"OnlineAssessment\").creatorAndOwner(currentUser).please();\n       notebook = topNote.getNotebook();\n \n-      makeMe.theNote(topNote).withNChildrenThat(5, NoteBuilder::hasAnApprovedQuestion).please();\n-      notebook.getNotebookSettings().setNumberOfQuestionsInAssessment(5);\n+      makeMe.theNote(topNote).withNChildrenThat(2, NoteBuilder::hasAnApprovedQuestion).please();\n+      notebook.getNotebookSettings().setNumberOfQuestionsInAssessment(2);\n       questionsAnswerPairs = new ArrayList<>();\n+\n+      for (Note note : notebook.getNotes()) {\n+        QuizQuestionAndAnswer quizQuestionAndAnswer = note.getQuizQuestionAndAnswers().getFirst();\n+        QuestionAnswerPair questionAnswerPair = new QuestionAnswerPair();\n+        questionAnswerPair.setQuestionId(quizQuestionAndAnswer.getId());\n+        quizQuestionAndAnswer.setCorrectAnswerIndex(1);\n+        questionAnswerPair.setAnswerId(0);\n+        questionsAnswerPairs.add(questionAnswerPair);\n+      }\n     }\n \n+    @Disabled\n     @Test\n     void submitAssessmentResultCheckScore() throws UnexpectedNoAccessRightException {\n       AssessmentResult assessmentResult =\n           controller.submitAssessmentResult(notebook, questionsAnswerPairs);\n \n-      assertEquals(1, assessmentResult.getTotalCount());\n+      assertEquals(questionsAnswerPairs.size(), assessmentResult.getTotalCount());\n       assertEquals(0, assessmentResult.getCorrectCount());\n     }\n \n+    @Disabled\n     @Test\n-    void submitAssessmentResultCheckNoteIdAndTitle() throws UnexpectedNoAccessRightException {\n+    void submitAssessmentResultCheckNoteIdAndTitles() throws UnexpectedNoAccessRightException {\n       AssessmentResult assessmentResult =\n           controller.submitAssessmentResult(notebook, questionsAnswerPairs);\n \n-      assertEquals(1, assessmentResult.getNoteIdAndTitles().length);\n+      assertEquals(questionsAnswerPairs.size(), assessmentResult.getNoteIdAndTitles().length);\n       NoteIdAndTitle noteIdAndTitle = assessmentResult.getNoteIdAndTitles()[0];\n       assertEquals(2, noteIdAndTitle.getId());\n       assertEquals(\"Singapore\", noteIdAndTitle.getTitle());"
    },
    {
      "author": "mikhail.gubenko",
      "date": "2024-07-05 11:01:34 +0200",
      "message": "remove obsolete spec and format",
      "diff": "diff --git a/e2e_test/features/assessment/assesment_question_order.feature b/e2e_test/features/assessment/assesment_question_order.feature\ndeleted file mode 100644\nindex b3ec125cf..000000000\n--- a/e2e_test/features/assessment/assesment_question_order.feature\n+++ /dev/null\n@@ -1,23 +0,0 @@\n-\n-Feature: Questions order in assessment is random\n-  As a user taking an assessment\n-  I want to have random questions in the assessment\n-  so that I get a new test each time and learn something new\n-\n-  Background:\n-    Given I am logged in as an existing user\n-    And there are some notes for the current user:\n-      | topicConstructor | parentTopic |\n-      | Countries        |             |\n-      | Singapore        | Countries   |\n-\n-    And notebook \"Countries\" is shared to the Bazaar\n-    And there are questions for the note:\n-      | noteTopic | question                         | answer  | oneWrongChoice | approved |\n-      | Singapore | Where in the world is Singapore? | Asia    | euro           | true     |\n-      | Singapore | Most famous food of Singapore?   | Noodles | bread          | true     |\n-\n-\n-  Scenario: Questions vary from attempt to attempt\n-    Given I set the number of questions per assessment of the notebook \"Countries\" to 1\n-    Then 10 subsequent attempts of assessment on the \"Countries\" notebook should be random meaning it should not have the same questions each time\ndiff --git a/e2e_test/features/assessment/self_assessment.feature b/e2e_test/features/assessment/self_assessment.feature\nindex 02b000c48..fbe9a6588 100644\n--- a/e2e_test/features/assessment/self_assessment.feature\n+++ b/e2e_test/features/assessment/self_assessment.feature\n@@ -14,55 +14,55 @@ Feature: New questions assessment\n       | China            | Countries   |\n     And notebook \"Countries\" is shared to the Bazaar\n     And there are questions for the note:\n-      | noteTopic | question                           | answer  | oneWrongChoice | approved |\n-      | Singapore | Where in the world is Singapore?   | Asia    | euro           | true     |\n-      | Vietnam   | Most famous food of Vietnam?       | Pho     | bread          | true     |\n-      | Japan     | What is the capital city of Japan? | Tokyo   | Kyoto          | true     |\n+      | noteTopic | question                                       | answer   | oneWrongChoice | approved |\n+      | Singapore | Where in the world is Singapore?               | Asia     | euro           | true     |\n+      | Vietnam   | Most famous food of Vietnam?                   | Pho      | bread          | true     |\n+      | Japan     | What is the capital city of Japan?             | Tokyo    | Kyoto          | true     |\n       | Japan     | What is the largest city in the Kyushu island? | Fukuoka  | Nagasaki       | true     |\n-      | Korea     | What is the capital city of Korea? | Seoul   | Busan          | true     |\n-      | China     | What is the capital city of China? | Beijing | Shanghai       | true     |\n-      | China     | What is the largest city of China? | Shanghai | Beijing        | true     |\n+      | Korea     | What is the capital city of Korea?             | Seoul    | Busan          | true     |\n+      | China     | What is the capital city of China?             | Beijing  | Shanghai       | true     |\n+      | China     | What is the largest city of China?             | Shanghai | Beijing        | true     |\n \n   Scenario: Complete an assessment with 5 approved questions\n     Given I set the number of questions per assessment of the notebook \"Countries\" to 5\n     When I start the assessment on the \"Countries\" notebook in the bazaar\n     And I answer with the following answers:\n-      | question                           | answer  |\n-      | Where in the world is Singapore?   | Asia    |\n-      | Most famous food of Vietnam?       | Pho     |\n-      | What is the capital city of Korea? | Busan   |\n-      | What is the capital city of Japan? | Kyoto   |\n-      | What is the capital city of China? | Shanghai |\n+      | question                                       | answer   |\n+      | Where in the world is Singapore?               | Asia     |\n+      | Most famous food of Vietnam?                   | Pho      |\n+      | What is the capital city of Korea?             | Busan    |\n+      | What is the capital city of Japan?             | Kyoto    |\n+      | What is the capital city of China?             | Shanghai |\n       | What is the largest city in the Kyushu island? | Nagasaki |\n-      | What is the largest city of China? | Beijing |\n+      | What is the largest city of China?             | Beijing  |\n     Then I should see the score \"Yours score: 2 / 5\" at the end of assessment\n \n   Scenario: Perform an assessment with all correct answers with table view\n     Given I set the number of questions per assessment of the notebook \"Countries\" to 5\n     When I start the assessment on the \"Countries\" notebook in the bazaar\n     And I answer with the following answers:\n-      | question                           | answer  |\n-      | Where in the world is Singapore?   | Asia    |\n-      | Most famous food of Vietnam?       | Pho     |\n-      | What is the capital city of Japan? | Tokyo   |\n-      | What is the capital city of China? | Beijing |\n-      | What is the capital city of Korea? | Seoul   |\n+      | question                                       | answer   |\n+      | Where in the world is Singapore?               | Asia     |\n+      | Most famous food of Vietnam?                   | Pho      |\n+      | What is the capital city of Japan?             | Tokyo    |\n+      | What is the capital city of China?             | Beijing  |\n+      | What is the capital city of Korea?             | Seoul    |\n       | What is the largest city in the Kyushu island? | Fukuoka  |\n-      | What is the largest city of China? | Shanghai |\n+      | What is the largest city of China?             | Shanghai |\n     Then I should see the score \"Yours score: 5 / 5\" at the end of assessment\n \n   Scenario: Perform an assessment with all wrong answers\n     Given I set the number of questions per assessment of the notebook \"Countries\" to 2\n     When I start the assessment on the \"Countries\" notebook in the bazaar\n     And I answer with the following answers:\n-      | question                           | answer   |\n-      | Where in the world is Singapore?   | euro     |\n-      | What is the capital city of Japan? | Kyoto    |\n-      | Most famous food of Vietnam?       | bread    |\n-      | What is the capital city of Korea? | Busan    |\n-      | What is the capital city of China? | Shanghai |\n+      | question                                       | answer   |\n+      | Where in the world is Singapore?               | euro     |\n+      | What is the capital city of Japan?             | Kyoto    |\n+      | Most famous food of Vietnam?                   | bread    |\n+      | What is the capital city of Korea?             | Busan    |\n+      | What is the capital city of China?             | Shanghai |\n       | What is the largest city in the Kyushu island? | Nagasaki |\n-      | What is the largest city of China? | Beijing |\n+      | What is the largest city of China?             | Beijing  |\n     Then I should see the score \"Yours score: 0 / 2\" at the end of assessment\n     And I should see a link to the \"Singapore\" notebook\n "
    },
    {
      "author": "Jacek Bochenek",
      "date": "2024-07-05 10:56:03 +0200",
      "message": "Revert \"Improved backend tests of submitAssessmentResultCheckScore and submitAssessmentResultCheckScore. Disabled them. 🤨\"This reverts commit fce23fbbf8e8f380c2a848c44126777e05763a99.",
      "diff": "diff --git a/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java b/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\nindex 270a18344..9b30c86af 100644\n--- a/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\n+++ b/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\n@@ -15,7 +15,6 @@ import com.theokanning.openai.client.OpenAiApi;\n import java.util.*;\n import java.util.function.Consumer;\n import org.junit.jupiter.api.BeforeEach;\n-import org.junit.jupiter.api.Disabled;\n import org.junit.jupiter.api.Nested;\n import org.junit.jupiter.api.Test;\n import org.mockito.Mock;\n@@ -174,37 +173,26 @@ public class RestAssessmentControllerTests {\n       topNote = makeMe.aHeadNote(\"OnlineAssessment\").creatorAndOwner(currentUser).please();\n       notebook = topNote.getNotebook();\n \n-      makeMe.theNote(topNote).withNChildrenThat(2, NoteBuilder::hasAnApprovedQuestion).please();\n-      notebook.getNotebookSettings().setNumberOfQuestionsInAssessment(2);\n+      makeMe.theNote(topNote).withNChildrenThat(5, NoteBuilder::hasAnApprovedQuestion).please();\n+      notebook.getNotebookSettings().setNumberOfQuestionsInAssessment(5);\n       questionsAnswerPairs = new ArrayList<>();\n-\n-      for (Note note : notebook.getNotes()) {\n-        QuizQuestionAndAnswer quizQuestionAndAnswer = note.getQuizQuestionAndAnswers().getFirst();\n-        QuestionAnswerPair questionAnswerPair = new QuestionAnswerPair();\n-        questionAnswerPair.setQuestionId(quizQuestionAndAnswer.getId());\n-        quizQuestionAndAnswer.setCorrectAnswerIndex(1);\n-        questionAnswerPair.setAnswerId(0);\n-        questionsAnswerPairs.add(questionAnswerPair);\n-      }\n     }\n \n-    @Disabled\n     @Test\n     void submitAssessmentResultCheckScore() throws UnexpectedNoAccessRightException {\n       AssessmentResult assessmentResult =\n           controller.submitAssessmentResult(notebook, questionsAnswerPairs);\n \n-      assertEquals(questionsAnswerPairs.size(), assessmentResult.getTotalCount());\n+      assertEquals(1, assessmentResult.getTotalCount());\n       assertEquals(0, assessmentResult.getCorrectCount());\n     }\n \n-    @Disabled\n     @Test\n-    void submitAssessmentResultCheckScore() throws UnexpectedNoAccessRightException {\n+    void submitAssessmentResultCheckNoteIdAndTitle() throws UnexpectedNoAccessRightException {\n       AssessmentResult assessmentResult =\n           controller.submitAssessmentResult(notebook, questionsAnswerPairs);\n \n-      assertEquals(questionsAnswerPairs.size(), assessmentResult.getNoteIdAndTitles().length);\n+      assertEquals(1, assessmentResult.getNoteIdAndTitles().length);\n       NoteIdAndTitle noteIdAndTitle = assessmentResult.getNoteIdAndTitles()[0];\n       assertEquals(2, noteIdAndTitle.getId());\n       assertEquals(\"Singapore\", noteIdAndTitle.getTitle());"
    },
    {
      "author": "mission2010",
      "date": "2024-07-05 09:02:15 +0200",
      "message": "Improved backend tests of submitAssessmentResultCheckScore and submitAssessmentResultCheckScore. Disabled them. 🤨",
      "diff": "diff --git a/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java b/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\nindex 9b30c86af..270a18344 100644\n--- a/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\n+++ b/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\n@@ -15,6 +15,7 @@ import com.theokanning.openai.client.OpenAiApi;\n import java.util.*;\n import java.util.function.Consumer;\n import org.junit.jupiter.api.BeforeEach;\n+import org.junit.jupiter.api.Disabled;\n import org.junit.jupiter.api.Nested;\n import org.junit.jupiter.api.Test;\n import org.mockito.Mock;\n@@ -173,26 +174,37 @@ public class RestAssessmentControllerTests {\n       topNote = makeMe.aHeadNote(\"OnlineAssessment\").creatorAndOwner(currentUser).please();\n       notebook = topNote.getNotebook();\n \n-      makeMe.theNote(topNote).withNChildrenThat(5, NoteBuilder::hasAnApprovedQuestion).please();\n-      notebook.getNotebookSettings().setNumberOfQuestionsInAssessment(5);\n+      makeMe.theNote(topNote).withNChildrenThat(2, NoteBuilder::hasAnApprovedQuestion).please();\n+      notebook.getNotebookSettings().setNumberOfQuestionsInAssessment(2);\n       questionsAnswerPairs = new ArrayList<>();\n+\n+      for (Note note : notebook.getNotes()) {\n+        QuizQuestionAndAnswer quizQuestionAndAnswer = note.getQuizQuestionAndAnswers().getFirst();\n+        QuestionAnswerPair questionAnswerPair = new QuestionAnswerPair();\n+        questionAnswerPair.setQuestionId(quizQuestionAndAnswer.getId());\n+        quizQuestionAndAnswer.setCorrectAnswerIndex(1);\n+        questionAnswerPair.setAnswerId(0);\n+        questionsAnswerPairs.add(questionAnswerPair);\n+      }\n     }\n \n+    @Disabled\n     @Test\n     void submitAssessmentResultCheckScore() throws UnexpectedNoAccessRightException {\n       AssessmentResult assessmentResult =\n           controller.submitAssessmentResult(notebook, questionsAnswerPairs);\n \n-      assertEquals(1, assessmentResult.getTotalCount());\n+      assertEquals(questionsAnswerPairs.size(), assessmentResult.getTotalCount());\n       assertEquals(0, assessmentResult.getCorrectCount());\n     }\n \n+    @Disabled\n     @Test\n-    void submitAssessmentResultCheckNoteIdAndTitle() throws UnexpectedNoAccessRightException {\n+    void submitAssessmentResultCheckScore() throws UnexpectedNoAccessRightException {\n       AssessmentResult assessmentResult =\n           controller.submitAssessmentResult(notebook, questionsAnswerPairs);\n \n-      assertEquals(1, assessmentResult.getNoteIdAndTitles().length);\n+      assertEquals(questionsAnswerPairs.size(), assessmentResult.getNoteIdAndTitles().length);\n       NoteIdAndTitle noteIdAndTitle = assessmentResult.getNoteIdAndTitles()[0];\n       assertEquals(2, noteIdAndTitle.getId());\n       assertEquals(\"Singapore\", noteIdAndTitle.getTitle());"
    },
    {
      "author": "Arne Henrik Storm",
      "date": "2024-07-05 08:52:45 +0200",
      "message": "time waits for no man",
      "diff": "diff --git a/e2e_test/start/pageObjects/AssessmentPage.ts b/e2e_test/start/pageObjects/AssessmentPage.ts\nindex 795e53133..ee2c5966d 100644\n--- a/e2e_test/start/pageObjects/AssessmentPage.ts\n+++ b/e2e_test/start/pageObjects/AssessmentPage.ts\n@@ -19,7 +19,12 @@ const assumeQuestionSection = () => {\n       })\n     },\n     answer(answer: string) {\n-      return cy.findByText(answer).click()\n+      // eslint-disable-next-line cypress/no-unnecessary-waiting\n+      return cy.findByText(answer).click().wait(100)\n+      // This wait is an anti-pattern and should be fixed.\n+      // There is an issue now when the user clicks an answer,\n+      // the test move on before the next question appears on the screen.\n+      // We should have something else in the questions page like a status bar so we can use  cy.get() and .should() instead.\n     },\n   }\n }"
    },
    {
      "author": "Tan Yeong Sheng",
      "date": "2024-07-05 11:55:53 +0800",
      "message": "upgrade marked & vue-tsc",
      "diff": "diff --git a/frontend/package.json b/frontend/package.json\nindex 55407fa26..3e76d072e 100644\n--- a/frontend/package.json\n+++ b/frontend/package.json\n@@ -26,7 +26,7 @@\n     \"gsap\": \"^3.12.5\",\n     \"intersection-observer\": \"^0.12.2\",\n     \"lodash\": \"^4.17.21\",\n-    \"marked\": \"^13.0.1\",\n+    \"marked\": \"^13.0.2\",\n     \"mini-debounce\": \"^1.0.8\",\n     \"quill\": \"2.0.2\",\n     \"turndown\": \"^7.2.0\",\n@@ -82,6 +82,6 @@\n     \"vitest\": \"1.6.0\",\n     \"vitest-dom\": \"^0.1.1\",\n     \"vitest-fetch-mock\": \"^0.2.2\",\n-    \"vue-tsc\": \"2.0.24\"\n+    \"vue-tsc\": \"2.0.26\"\n   }\n }\ndiff --git a/pnpm-lock.yaml b/pnpm-lock.yaml\nindex 117f01445..ce459ceee 100644\n--- a/pnpm-lock.yaml\n+++ b/pnpm-lock.yaml\n@@ -136,8 +136,8 @@ importers:\n         specifier: ^4.17.21\n         version: 4.17.21\n       marked:\n-        specifier: ^13.0.1\n-        version: 13.0.1\n+        specifier: ^13.0.2\n+        version: 13.0.2\n       mini-debounce:\n         specifier: ^1.0.8\n         version: 1.0.8\n@@ -171,7 +171,7 @@ importers:\n         version: 2.8.1(@farmfe/core@1.2.6(bufferutil@4.0.8)(utf-8-validate@6.0.4))(sass-embedded@1.77.5)(sass@1.77.6)\n       '@testing-library/user-event':\n         specifier: ^14.5.2\n-        version: 14.5.2(@testing-library/dom@10.2.0)\n+        version: 14.5.2(@testing-library/dom@10.3.0)\n       '@testing-library/vue':\n         specifier: ^8.1.0\n         version: 8.1.0(@vue/compiler-sfc@3.4.31)(vue@3.4.31(typescript@5.5.3))\n@@ -276,7 +276,7 @@ importers:\n         version: 5.3.3(@types/node@20.14.9)(sass@1.77.6)(terser@5.31.1)\n       vite-plugin-checker:\n         specifier: 0.7.0\n-        version: 0.7.0(eslint@8.57.0)(optionator@0.9.4)(typescript@5.5.3)(vite@5.3.3(@types/node@20.14.9)(sass@1.77.6)(terser@5.31.1))(vue-tsc@2.0.24(typescript@5.5.3))\n+        version: 0.7.0(eslint@8.57.0)(optionator@0.9.4)(typescript@5.5.3)(vite@5.3.3(@types/node@20.14.9)(sass@1.77.6)(terser@5.31.1))(vue-tsc@2.0.26(typescript@5.5.3))\n       vite-plugin-compression:\n         specifier: ^0.5.1\n         version: 0.5.1(vite@5.3.3(@types/node@20.14.9)(sass@1.77.6)(terser@5.31.1))\n@@ -299,8 +299,8 @@ importers:\n         specifier: ^0.2.2\n         version: 0.2.2(vitest@1.6.0(@types/node@20.14.9)(jsdom@24.1.0(bufferutil@4.0.8)(utf-8-validate@6.0.4))(sass@1.77.6)(terser@5.31.1))\n       vue-tsc:\n-        specifier: 2.0.24\n-        version: 2.0.24(typescript@5.5.3)\n+        specifier: 2.0.26\n+        version: 2.0.26(typescript@5.5.3)\n \n packages:\n \n@@ -1407,8 +1407,8 @@ packages:\n     peerDependencies:\n       cypress: ^12.0.0 || ^13.0.0\n \n-  '@testing-library/dom@10.2.0':\n-    resolution: {integrity: sha512-CytIvb6tVOADRngTHGWNxH8LPgO/3hi/BdCEHOf7Qd2GvZVClhVP0Wo/QHzWhpki49Bk0b4VT6xpt3fx8HTSIw==}\n+  '@testing-library/dom@10.3.0':\n+    resolution: {integrity: sha512-pT/TYB2+IyMYkkB6lqpkzD7VFbsR0JBJtflK3cS68sCNWxmOhWwRm1XvVHlseNEorsNcxkYsb4sRDV3aNIpttg==}\n     engines: {node: '>=18'}\n \n   '@testing-library/dom@7.31.2':\n@@ -1646,20 +1646,20 @@ packages:\n   '@volar/language-core@2.3.4':\n     resolution: {integrity: sha512-wXBhY11qG6pCDAqDnbBRFIDSIwbqkWI7no+lj5+L7IlA7HRIjRP7YQLGzT0LF4lS6eHkMSsclXqy9DwYJasZTQ==}\n \n-  '@volar/language-core@2.4.0-alpha.12':\n-    resolution: {integrity: sha512-Dj9qTifcGGgzFLfMbU5dCo13kHyNuEyvPJhtWDnoVBBmgwW3GMwFmgWnNxBhjf63m5x0gux1okaxX2CLN7qSww==}\n+  '@volar/language-core@2.4.0-alpha.15':\n+    resolution: {integrity: sha512-mt8z4Fm2WxfQYoQHPcKVjLQV6PgPqyKLbkCVY2cr5RSaamqCHjhKEpsFX66aL4D/7oYguuaUw9Bx03Vt0TpIIA==}\n \n   '@volar/source-map@2.3.4':\n     resolution: {integrity: sha512-C+t63nwcblqLIVTYXaVi/+gC8NukDaDIQI72J3R7aXGvtgaVB16c+J8Iz7/VfOy7kjYv7lf5GhBny6ACw9fTGQ==}\n \n-  '@volar/source-map@2.4.0-alpha.12':\n-    resolution: {integrity: sha512-LXATFSj4D7T9sEm7FFj6iBgHjKjrdhAgRPcechVKiNCMQdr3r3GVkkeu8aM+1peaMH3LsCqoDxVZEmh2r7CHiw==}\n+  '@volar/source-map@2.4.0-alpha.15':\n+    resolution: {integrity: sha512-8Htngw5TmBY4L3ClDqBGyfLhsB8EmoEXUH1xydyEtEoK0O6NX5ur4Jw8jgvscTlwzizyl/wsN1vn0cQXVbbXYg==}\n \n   '@volar/typescript@2.3.4':\n     resolution: {integrity: sha512-acCvt7dZECyKcvO5geNybmrqOsu9u8n5XP1rfiYsOLYGPxvHRav9BVmEdRyZ3vvY6mNyQ1wLL5Hday4IShe17w==}\n \n-  '@volar/typescript@2.4.0-alpha.12':\n-    resolution: {integrity: sha512-mLg+OQauMTv/+08a7WBWJo1sev/wc8t2is0zhBZIlFU+j5mG89FM4+4089c2p/zoUFZ400Q/VNg2BPfhpZ8wSA==}\n+  '@volar/typescript@2.4.0-alpha.15':\n+    resolution: {integrity: sha512-U3StRBbDuxV6Woa4hvGS4kz3XcOzrWUKgFdEFN+ba1x3eaYg7+ytau8ul05xgA+UNGLXXsKur7fTUhDFyISk0w==}\n \n   '@vue-macros/common@1.10.4':\n     resolution: {integrity: sha512-akO6Bd6U4jP0+ZKbHq6mbYkw1coOrJpLeVmkuMlUsT5wZRi11BjauGcZHusBSzUjgCBsa1kZTyipxrxrWB54Hw==}\n@@ -1729,8 +1729,8 @@ packages:\n       typescript:\n         optional: true\n \n-  '@vue/language-core@2.0.24':\n-    resolution: {integrity: sha512-997YD6Lq/66LXr3ZOLNxDCmyn13z9NP8LU1UZn9hGCDWhzlbXAIP0hOgL3w3x4RKEaWTaaRtsHP9DzHvmduruQ==}\n+  '@vue/language-core@2.0.26':\n+    resolution: {integrity: sha512-/lt6SfQ3O1yDAhPsnLv9iSUgXd1dMHqUm/t3RctfqjuwQf1LnftZ414X3UBn6aXT4MiwXWtbNJ4Z0NZWwDWgJQ==}\n     peerDependencies:\n       typescript: '*'\n     peerDependenciesMeta:\n@@ -1846,11 +1846,6 @@ packages:\n     resolution: {integrity: sha512-MxXdReSRhGO7VlFe1bRG/oI7/mdLV9B9JJT0N8vZOhF7gFRR5l3M8W9G8JxmKV+JC5mGqJ0QvqfSOLsCPa4nUw==}\n     engines: {node: '>=0.4.0'}\n \n-  acorn@8.12.0:\n-    resolution: {integrity: sha512-RTvkC4w+KNXrM39/lWCUaG0IbRkWdCv7W/IOW9oU6SawyxulvkQy5HQPVTKxEjczcUvapcrw3cFx/60VN/NRNw==}\n-    engines: {node: '>=0.4.0'}\n-    hasBin: true\n-\n   acorn@8.12.1:\n     resolution: {integrity: sha512-tcpGyI9zbizT9JbV6oYE477V6mTlXvvi0T0G3SNIYE2apm/G5huBa1+K89VGeovbg+jycCrfhl3ADxErOuO6Jg==}\n     engines: {node: '>=0.4.0'}\n@@ -1876,10 +1871,6 @@ packages:\n   ajv@6.12.6:\n     resolution: {integrity: sha512-j3fVLgvTo527anyYyJOGTYJbG+vnnQYvE0m5mmkc1TK+nxAppkCLMIL0aZ4dblVCNoGShhm+kzE4ZUykBoMg4g==}\n \n-  ansi-colors@4.1.1:\n-    resolution: {integrity: sha512-JoX0apGbHaUJBNl6yF+p6JAFYZ666/hhCGKN5t9QFjbJQKUU/g8MNbFDbvfrgKXvI1QpZplPOnwIo99lX/AAmA==}\n-    engines: {node: '>=6'}\n-\n   ansi-colors@4.1.3:\n     resolution: {integrity: sha512-/6w/C21Pm1A7aZitlI5Ni/2J6FFQN8i1Cvz3kHABAAbw93v/NlvKdVOqz7CCWz/3iv/JplRSEEZ83XION15ovw==}\n     engines: {node: '>=6'}\n@@ -2146,8 +2137,8 @@ packages:\n     resolution: {integrity: sha512-Gmy6FhYlCY7uOElZUSbxo2UCDH8owEk996gkbrpsgGtrJLM3J7jGxl9Ic7Qwwj4ivOE5AWZWRMecDdF7hqGjFA==}\n     engines: {node: '>=10'}\n \n-  caniuse-lite@1.0.30001639:\n-    resolution: {integrity: sha512-eFHflNTBIlFwP2AIKaYuBQN/apnUoKNhBdza8ZnW/h2di4LCZ4xFqYlxUxo+LQ76KFI1PGcC1QDxMbxTZpSCAg==}\n+  caniuse-lite@1.0.30001640:\n+    resolution: {integrity: sha512-lA4VMpW0PSUrFnkmVuEKBUovSWKhj7puyCg8StBChgu298N1AtuF1sKWEvfDuimSEDbhlb/KqPKC3fs1HbuQUA==}\n \n   capital-case@1.0.4:\n     resolution: {integrity: sha512-ds37W8CytHgwnhGGTi88pcPyR15qoNkOpYwmMMfnWqqWgESapLqvDx6huFjQ5vqWSn2Z06173XNA7LtMOeUh1A==}\n@@ -2487,15 +2478,6 @@ packages:\n       supports-color:\n         optional: true\n \n-  debug@4.3.4:\n-    resolution: {integrity: sha512-PRWFHuSU3eDtQJPvnNY7Jcket1j0t5OuOsFzPPzsekD52Zl8qUfFIPEiswXqIvHWGVHOgX+7G/vCNNhehwxfkQ==}\n-    engines: {node: '>=6.0'}\n-    peerDependencies:\n-      supports-color: '*'\n-    peerDependenciesMeta:\n-      supports-color:\n-        optional: true\n-\n   debug@4.3.5:\n     resolution: {integrity: sha512-pt0bNEmneDIvdL1Xsd9oDQ/wrQRkXDT4AUWlNZNPKvW5x/jyO9VFXkJUP07vQ2upmw5PlaITaPKc31jK13V+jg==}\n     engines: {node: '>=6.0'}\n@@ -2607,8 +2589,8 @@ packages:\n     resolution: {integrity: sha512-58lmxKSA4BNyLz+HHMUzlOEpg09FV+ev6ZMe3vJihgdxzgcwZ8VoEEPmALCZG9LmqfVoNMMKpttIYTVG6uDY7A==}\n     engines: {node: '>=0.3.1'}\n \n-  diff@5.0.0:\n-    resolution: {integrity: sha512-/VTCrvm5Z0JGty/BWHljh+BAiw3IK+2j87NGMu8Nwc/f48WoDAC395uomO9ZD117ZOBaHmkX1oyLvkVM/aIT3w==}\n+  diff@5.2.0:\n+    resolution: {integrity: sha512-uIFDxqpRZGZ6ThOk84hEfqWoHx2devRFvpTZcTHur85vImfaxUbTW9Ryh4CpCuDnToOP1CEtXKIgytHBPVff5A==}\n     engines: {node: '>=0.3.1'}\n \n   dir-glob@3.0.1:\n@@ -3505,8 +3487,8 @@ packages:\n     resolution: {integrity: sha512-7PnF4oN3CvZF23ADhA5wRaYEQpJ8qygSkbtTXWBeXWXmEVRXK+1ITciHWwHhsjv1TmW0MgacIv6hEi5pX5NQdA==}\n     engines: {node: '>=10'}\n \n-  inquirer@9.3.2:\n-    resolution: {integrity: sha512-+ynEbhWKhyomnaX0n2aLIMSkgSlGB5RrWbNXnEqj6mdaIydu6y40MdBjL38SAB0JcdmOaIaMua1azdjLEr3sdw==}\n+  inquirer@9.3.4:\n+    resolution: {integrity: sha512-Hp6meNSDzp+Oc9JNUUlYsK81dxaPrrBRa7H/s3+yebCDRJe4UNKYSkEUZoIcuKJjNipBLPKsuc7BvO6tLzo/KA==}\n     engines: {node: '>=18'}\n \n   internal-slot@1.0.7:\n@@ -4011,8 +3993,8 @@ packages:\n   mailsplit@5.4.0:\n     resolution: {integrity: sha512-wnYxX5D5qymGIPYLwnp6h8n1+6P6vz/MJn5AzGjZ8pwICWssL+CCQjWBIToOVHASmATot4ktvlLo6CyLfOXWYA==}\n \n-  marked@13.0.1:\n-    resolution: {integrity: sha512-7kBohS6GrZKvCsNXZyVVXSW7/hGBHe49ng99YPkDCckSUrrG7MSFLCexsRxptzOmyW2eT5dySh4Md1V6my52fA==}\n+  marked@13.0.2:\n+    resolution: {integrity: sha512-J6CPjP8pS5sgrRqxVRvkCIkZ6MFdRIjDkwUwgJ9nL2fbmM6qGQeB2C16hi8Cc9BOzj6xXzy0jyi0iPIfnMHYzA==}\n     engines: {node: '>= 18'}\n     hasBin: true\n \n@@ -4090,10 +4072,6 @@ packages:\n   minimatch@3.1.2:\n     resolution: {integrity: sha512-J7p63hRiAjw1NDEww1W7i37+ByIrOWO5XQQAzZ3VOcL0PNybwpfmV/N05zFAzwQ9USyEcX6t3UO+K5aqBQOIHw==}\n \n-  minimatch@5.0.1:\n-    resolution: {integrity: sha512-nLDxIFRyhDblz3qMuq+SoRZED4+miJ/G+tdDrjkkkRnjAsBexeGpgjLEQ0blJy7rHhR2b93rhQY4SvyWu9v03g==}\n-    engines: {node: '>=10'}\n-\n   minimatch@5.1.6:\n     resolution: {integrity: sha512-lKwV/1brpG6mBUFHtb7NUmtABCb2WZZmm2wNiOA5hAb8VdCS4B3dtMWyvcoViccwAW/COERjXLt0zP1zXUN26g==}\n     engines: {node: '>=10'}\n@@ -4128,8 +4106,8 @@ packages:\n   mlly@1.7.1:\n     resolution: {integrity: sha512-rrVRZRELyQzrIUAVMHxP97kv+G786pHmOKzuFII8zDYahFBS7qnHh2AlYSl1GAHhaMPCz6/oHjVMcfFYgFYHgA==}\n \n-  mocha@10.5.2:\n-    resolution: {integrity: sha512-9btlN3JKCefPf+vKd/kcKz2SXxi12z6JswkGfaAF0saQvnsqLJk504ZmbxhSoENge08E9dsymozKgFMTl5PQsA==}\n+  mocha@10.6.0:\n+    resolution: {integrity: sha512-hxjt4+EEB0SA0ZDygSS015t65lJw/I2yRCS3Ae+SJ5FrbzrXgfYwJr96f0OvIXdj7h4lv/vLCrH3rkiuizFSvw==}\n     engines: {node: '>= 14.0.0'}\n     hasBin: true\n \n@@ -4481,8 +4459,8 @@ packages:\n     resolution: {integrity: sha512-udgsAY+fTnvv7kI7aaxbqwWNb0AHiB0qBO89PZKPkoTmGOgdbrHDKD+0B2X4uTfJ/FT1R09r9gTsjUjNJotuog==}\n     engines: {node: '>=0.10.0'}\n \n-  pkg-types@1.1.2:\n-    resolution: {integrity: sha512-VEGf1he2DR5yowYRl0XJhWJq5ktm9gYIsH+y8sNJpHlxch7JPDaufgrsl4vYjd9hMUY8QVjoNncKbow9I7exyA==}\n+  pkg-types@1.1.3:\n+    resolution: {integrity: sha512-+JrgthZG6m3ckicaOB74TwQ+tBWsFl3qVQg7mN8ulwSOElJ7gBhKzj2VkCPnZ4NlF6kEquYU+RIYNVAvzd54UA==}\n \n   possible-typed-array-names@1.0.0:\n     resolution: {integrity: sha512-d7Uw+eZoloe0EHDIYoe+bQ5WXnGMOpmiZFTuMWCwpjzzkL2nTjcKiAk4hh8TjnGye2TwWOk3UXucZ+3rbmBa8Q==}\n@@ -5020,9 +4998,6 @@ packages:\n     resolution: {integrity: sha512-qqWzuOjSFOuqPjFe4NOsMLafToQQwBSOEpS+FwEt3A2V3vKubTquT3vmLTQpFgMXp8AlFWFuP1qKaJZOtPpVXg==}\n     engines: {node: '>= 0.8.0'}\n \n-  serialize-javascript@6.0.0:\n-    resolution: {integrity: sha512-Qr3TosvguFt8ePWqsvRfrKyQXIiW+nGbYpy8XK24NQHE83caxWt+mIymTT19DGFbNWNLfEwsrkSmN64lVWB9ag==}\n-\n   serialize-javascript@6.0.2:\n     resolution: {integrity: sha512-Saa1xPByTTq2gdeFZYLLo+RFE35NHZkAbqZeWNd3BpzppeVisAqpDjcp8dyf6uIvEqJRd46jemmyA4iFIeVk8g==}\n \n@@ -5467,8 +5442,8 @@ packages:\n     resolution: {integrity: sha512-RAH822pAdBgcNMAfWnCBU3CFZcfZ/i1eZjwFU/dsLKumyuuP3niueg2UAukXYF0E2AAoc82ZSSf9J0WQBinzHA==}\n     engines: {node: '>=12.20'}\n \n-  type-fest@4.20.1:\n-    resolution: {integrity: sha512-R6wDsVsoS9xYOpy8vgeBlqpdOyzJ12HNfQhC/aAKWM3YoCV9TtunJzh/QpkMgeDhkoynDcw5f1y+qF9yc/HHyg==}\n+  type-fest@4.21.0:\n+    resolution: {integrity: sha512-ADn2w7hVPcK6w1I0uWnM//y1rLXZhzB9mr0a3OirzclKF1Wp6VzevUmzz/NRAWunOT6E8HrnpGY7xOfc6K57fA==}\n     engines: {node: '>=16'}\n \n   type-is@1.6.18:\n@@ -5561,8 +5536,8 @@ packages:\n     resolution: {integrity: sha512-KK8xQ1mkzZeg9inewmFVDNkg3l5LUhoq9kN6iWYB/CC9YMG8HA+c1Q8HwDe6dEX7kErrEVNVBO3fWsVq5iDgtw==}\n     engines: {node: '>=8'}\n \n-  update-browserslist-db@1.0.16:\n-    resolution: {integrity: sha512-KVbTxlBYlckhF5wgfyZXTWnMn7MMZjMu9XG8bPlliUOP9ThaF4QnhP8qrjrH7DRzHfSk0oQv1wToW+iA5GajEQ==}\n+  update-browserslist-db@1.1.0:\n+    resolution: {integrity: sha512-EdRAaAyk2cUE1wOf2DkEhzxqOQvFOoRJFNS6NeyJ01Gp2beMRpBAINjM2iDXE3KCuKhwnvHIQCJm6ThL2Z+HzQ==}\n     hasBin: true\n     peerDependencies:\n       browserslist: '>= 4.21.0'\n@@ -5789,8 +5764,8 @@ packages:\n   vscode-uri@3.0.8:\n     resolution: {integrity: sha512-AyFQ0EVmsOZOlAnxoFOGOq1SQDWAB7C6aqMGS23svWAllfOaxbuFvcT8D1i8z3Gyn8fraVeZNNmN6e9bxxXkKw==}\n \n-  vue-component-type-helpers@2.0.24:\n-    resolution: {integrity: sha512-Jr5N8QVYEcbQuMN1LRgvg61758G8HTnzUlQsAFOxx6Y6X8kmhJ7C+jOvWsQruYxi3uHhhS6BghyRlyiwO99DBg==}\n+  vue-component-type-helpers@2.0.26:\n+    resolution: {integrity: sha512-sO9qQ8oC520SW6kqlls0iqDak53gsTVSrYylajgjmkt1c0vcgjsGSy1KzlDrbEx8pm02IEYhlUkU5hCYf8rwtg==}\n \n   vue-content-loader@2.0.1:\n     resolution: {integrity: sha512-pkof4+q2xmzNEdhqelxtJejeP/vQUJtLle4/v2ueG+HURqM9Q/GIGC8GJ2bVVWeLfTDET51jqimwQdmxJTlu0g==}\n@@ -5811,8 +5786,8 @@ packages:\n   vue-template-compiler@2.7.16:\n     resolution: {integrity: sha512-AYbUWAJHLGGQM7+cNTELw+KsOG9nl2CnSv467WobS5Cv9uk3wFcnr1Etsz2sEIHEZvw1U+o9mRlEO6QbZvUPGQ==}\n \n-  vue-tsc@2.0.24:\n-    resolution: {integrity: sha512-1qi4P8L7yS78A7OJ7CDDxUIZPD6nVxoQEgX3DkRZNi1HI1qOfzOJwQlNpmwkogSVD6S/XcanbW9sktzpSxz6rA==}\n+  vue-tsc@2.0.26:\n+    resolution: {integrity: sha512-tOhuwy2bIXbMhz82ef37qeiaQHMXKQkD6mOF6CCPl3/uYtST3l6fdNyfMxipudrQTxTfXVPlgJdMENBFfC1CfQ==}\n     hasBin: true\n     peerDependencies:\n       typescript: '>=5.0.0'\n@@ -5936,8 +5911,8 @@ packages:\n   wordwrap@1.0.0:\n     resolution: {integrity: sha512-gvVzJFlPycKc5dZN4yPkP8w7Dc37BtP1yczEneOb4uq34pXZcvrtRTmWV8W+Ume+XCxKgbjM+nevkyFPMybd4Q==}\n \n-  workerpool@6.2.1:\n-    resolution: {integrity: sha512-ILEIE97kDZvF9Wb9f6h5aXK4swSlKGUcOEGiIYb2OOu/IrDU9iwj0fD//SsA6E5ibwJxpEvhullJY4Sl4GcpAw==}\n+  workerpool@6.5.1:\n+    resolution: {integrity: sha512-Fs4dNYcsdpYSAfVxhnl1L5zTksjvOJxtC5hzMNl+1t9B8hTJTdKDyZ5ju7ztgPy+ft9tBFXoOlDNiOT9WUXZlA==}\n \n   wrap-ansi@6.2.0:\n     resolution: {integrity: sha512-r6lPcBGxZXlIcymEu7InxDMhdW0KDxpLgoFLcguasxCaJ/SOIZwINatK9KY/tf+ZrlywOKU0UDj3ATXUBfxJXA==}\n@@ -5954,8 +5929,8 @@ packages:\n   wrappy@1.0.2:\n     resolution: {integrity: sha512-l4Sp/DRseor9wL6EvV2+TuQn63dMkPjZ/sp9XkghTEbV9KlPS1xUsZ3u7/IQO4wxtcFB4bgpQPRcR3QCvezPcQ==}\n \n-  ws@8.17.1:\n-    resolution: {integrity: sha512-6XQFvXTkbfUOZOKKILFG1PDK2NDQs4azKQl26T0YS5CxqWLgXajbPZ+h4gZekJyRqFU8pvnbAbbs/3TgRPy+GQ==}\n+  ws@8.18.0:\n+    resolution: {integrity: sha512-8VbfWfHLbbwu3+N6OKsOMpBdT4kXPDDB9cJk2bJ6mh9ucxdlnNvH1e+roYkKmN9Nxw2yjz7VzeO9oOz2zJ04Pw==}\n     engines: {node: '>=10.0.0'}\n     peerDependencies:\n       bufferutil: ^4.0.1\n@@ -6000,8 +5975,8 @@ packages:\n     engines: {node: '>= 14'}\n     hasBin: true\n \n-  yargs-parser@20.2.4:\n-    resolution: {integrity: sha512-WOkpgNhPTlE73h4VFAFsOnomJVaovO8VqLDzy5saChRBFQFBoMYirowyW+Q9HB4HFF4Z7VZTiG3iSzJJA29yRA==}\n+  yargs-parser@20.2.9:\n+    resolution: {integrity: sha512-y11nGElTIV+CT3Zv9t7VKl+Q3hTQoT9a1Qzezhhl6Rp21gJ/IVTW7Z3y9EWXhuUBC2Shnf+DX0antecpAwSP8w==}\n     engines: {node: '>=10'}\n \n   yargs-parser@21.1.1:\n@@ -6035,8 +6010,8 @@ packages:\n     resolution: {integrity: sha512-b4JR1PFR10y1mKjhHY9LaGo6tmrgjit7hxVIeAmyMw3jegXR4dhYqLaQF5zMXZxY7tLpMyJeLjr1C4rLmkVe8g==}\n     engines: {node: '>=12.20'}\n \n-  yoctocolors-cjs@2.1.1:\n-    resolution: {integrity: sha512-c6T13b6qYcJZvck7QbEFXrFX/Mu2KOjvAGiKHmYMUg96jxNpfP6i+psGW72BOPxOIDUJrORG+Kyu7quMX9CQBQ==}\n+  yoctocolors-cjs@2.1.2:\n+    resolution: {integrity: sha512-cYVsTjKl8b+FrnidjibDWskAv7UKOfcwaVZdp/it9n1s9fU3IkgDbhdIRKCW4JDsAlECJY0ytoVPT3sK6kideA==}\n     engines: {node: '>=18'}\n \n   yup@1.2.0:\n@@ -6345,7 +6320,7 @@ snapshots:\n       esbuild: 0.21.5\n       glob: 10.4.2\n       is-path-inside: 3.0.3\n-      mocha: 10.5.2\n+      mocha: 10.6.0\n       seedrandom: 3.0.5\n       source-map: 0.7.4\n       split: 1.0.1\n@@ -6446,7 +6421,7 @@ snapshots:\n       strip-ansi: 6.0.1\n       supports-color: 8.1.1\n       tmp: 0.2.3\n-      type-fest: 4.20.1\n+      type-fest: 4.21.0\n       util-arity: 1.1.0\n       xmlbuilder: 15.1.1\n       yaml: 2.4.5\n@@ -6789,7 +6764,7 @@ snapshots:\n     dependencies:\n       cac: 6.7.14\n       cross-spawn: 7.0.3\n-      inquirer: 9.3.2\n+      inquirer: 9.3.4\n       walkdir: 0.4.1\n \n   '@farmfe/core-darwin-arm64@1.2.6':\n@@ -6845,7 +6820,7 @@ snapshots:\n       mime-types: 2.1.35\n       open: 9.1.0\n       slashes: 3.0.12\n-      ws: 8.17.1(bufferutil@4.0.8)(utf-8-validate@6.0.4)\n+      ws: 8.18.0(bufferutil@4.0.8)(utf-8-validate@6.0.4)\n       zod: 3.23.8\n       zod-validation-error: 1.5.0(zod@3.23.8)\n     optionalDependencies:\n@@ -7081,10 +7056,10 @@ snapshots:\n   '@testing-library/cypress@10.0.2(cypress@13.13.0)':\n     dependencies:\n       '@babel/runtime': 7.24.7\n-      '@testing-library/dom': 10.2.0\n+      '@testing-library/dom': 10.3.0\n       cypress: 13.13.0\n \n-  '@testing-library/dom@10.2.0':\n+  '@testing-library/dom@10.3.0':\n     dependencies:\n       '@babel/code-frame': 7.24.7\n       '@babel/runtime': 7.24.7\n@@ -7117,9 +7092,9 @@ snapshots:\n       lz-string: 1.5.0\n       pretty-format: 27.5.1\n \n-  '@testing-library/user-event@14.5.2(@testing-library/dom@10.2.0)':\n+  '@testing-library/user-event@14.5.2(@testing-library/dom@10.3.0)':\n     dependencies:\n-      '@testing-library/dom': 10.2.0\n+      '@testing-library/dom': 10.3.0\n \n   '@testing-library/vue@8.1.0(@vue/compiler-sfc@3.4.31)(vue@3.4.31(typescript@5.5.3))':\n     dependencies:\n@@ -7391,13 +7366,13 @@ snapshots:\n     dependencies:\n       '@volar/source-map': 2.3.4\n \n-  '@volar/language-core@2.4.0-alpha.12':\n+  '@volar/language-core@2.4.0-alpha.15':\n     dependencies:\n-      '@volar/source-map': 2.4.0-alpha.12\n+      '@volar/source-map': 2.4.0-alpha.15\n \n   '@volar/source-map@2.3.4': {}\n \n-  '@volar/source-map@2.4.0-alpha.12': {}\n+  '@volar/source-map@2.4.0-alpha.15': {}\n \n   '@volar/typescript@2.3.4':\n     dependencies:\n@@ -7405,9 +7380,9 @@ snapshots:\n       path-browserify: 1.0.1\n       vscode-uri: 3.0.8\n \n-  '@volar/typescript@2.4.0-alpha.12':\n+  '@volar/typescript@2.4.0-alpha.15':\n     dependencies:\n-      '@volar/language-core': 2.4.0-alpha.12\n+      '@volar/language-core': 2.4.0-alpha.15\n       path-browserify: 1.0.1\n       vscode-uri: 3.0.8\n \n@@ -7532,9 +7507,9 @@ snapshots:\n     transitivePeerDependencies:\n       - supports-color\n \n-  '@vue/language-core@2.0.24(typescript@5.5.3)':\n+  '@vue/language-core@2.0.26(typescript@5.5.3)':\n     dependencies:\n-      '@volar/language-core': 2.4.0-alpha.12\n+      '@volar/language-core': 2.4.0-alpha.15\n       '@vue/compiler-dom': 3.4.31\n       '@vue/shared': 3.4.31\n       computeds: 0.0.1\n@@ -7572,7 +7547,7 @@ snapshots:\n   '@vue/test-utils@2.4.6':\n     dependencies:\n       js-beautify: 1.15.1\n-      vue-component-type-helpers: 2.0.24\n+      vue-component-type-helpers: 2.0.26\n \n   '@vueup/vue-quill@1.2.0(vue@3.4.31(typescript@5.5.3))':\n     dependencies:\n@@ -7673,22 +7648,20 @@ snapshots:\n \n   acorn-globals@7.0.1:\n     dependencies:\n-      acorn: 8.12.0\n+      acorn: 8.12.1\n       acorn-walk: 8.3.3\n \n   acorn-import-attributes@1.9.5(acorn@8.12.1):\n     dependencies:\n       acorn: 8.12.1\n \n-  acorn-jsx@5.3.2(acorn@8.12.0):\n+  acorn-jsx@5.3.2(acorn@8.12.1):\n     dependencies:\n-      acorn: 8.12.0\n+      acorn: 8.12.1\n \n   acorn-walk@8.3.3:\n     dependencies:\n-      acorn: 8.12.0\n-\n-  acorn@8.12.0: {}\n+      acorn: 8.12.1\n \n   acorn@8.12.1: {}\n \n@@ -7720,8 +7693,6 @@ snapshots:\n       json-schema-traverse: 0.4.1\n       uri-js: 4.4.1\n \n-  ansi-colors@4.1.1: {}\n-\n   ansi-colors@4.1.3: {}\n \n   ansi-escapes@4.3.2:\n@@ -7816,7 +7787,7 @@ snapshots:\n   autoprefixer@10.4.19(postcss@8.4.39):\n     dependencies:\n       browserslist: 4.23.1\n-      caniuse-lite: 1.0.30001639\n+      caniuse-lite: 1.0.30001640\n       fraction.js: 4.3.7\n       normalize-range: 0.1.2\n       picocolors: 1.0.1\n@@ -7911,10 +7882,10 @@ snapshots:\n \n   browserslist@4.23.1:\n     dependencies:\n-      caniuse-lite: 1.0.30001639\n+      caniuse-lite: 1.0.30001640\n       electron-to-chromium: 1.4.816\n       node-releases: 2.0.14\n-      update-browserslist-db: 1.0.16(browserslist@4.23.1)\n+      update-browserslist-db: 1.1.0(browserslist@4.23.1)\n \n   buffer-builder@0.2.0: {}\n \n@@ -7987,7 +7958,7 @@ snapshots:\n \n   camelcase@6.3.0: {}\n \n-  caniuse-lite@1.0.30001639: {}\n+  caniuse-lite@1.0.30001640: {}\n \n   capital-case@1.0.4:\n     dependencies:\n@@ -8343,12 +8314,6 @@ snapshots:\n     optionalDependencies:\n       supports-color: 8.1.1\n \n-  debug@4.3.4(supports-color@8.1.1):\n-    dependencies:\n-      ms: 2.1.2\n-    optionalDependencies:\n-      supports-color: 8.1.1\n-\n   debug@4.3.5(supports-color@8.1.1):\n     dependencies:\n       ms: 2.1.2\n@@ -8463,7 +8428,7 @@ snapshots:\n \n   diff@4.0.2: {}\n \n-  diff@5.0.0: {}\n+  diff@5.2.0: {}\n \n   dir-glob@3.0.1:\n     dependencies:\n@@ -8870,8 +8835,8 @@ snapshots:\n \n   espree@9.6.1:\n     dependencies:\n-      acorn: 8.12.0\n-      acorn-jsx: 5.3.2(acorn@8.12.0)\n+      acorn: 8.12.1\n+      acorn-jsx: 5.3.2(acorn@8.12.1)\n       eslint-visitor-keys: 3.4.3\n \n   esprima@4.0.1: {}\n@@ -9023,7 +8988,7 @@ snapshots:\n       '@types/semver': 7.5.8\n       '@types/ua-parser-js': 0.7.39\n       browserslist: 4.23.1\n-      caniuse-lite: 1.0.30001639\n+      caniuse-lite: 1.0.30001640\n       isbot: 3.8.0\n       object-path: 0.11.8\n       semver: 7.6.2\n@@ -9288,7 +9253,7 @@ snapshots:\n       fs.realpath: 1.0.0\n       inflight: 1.0.6\n       inherits: 2.0.4\n-      minimatch: 5.0.1\n+      minimatch: 5.1.6\n       once: 1.4.0\n \n   global-dirs@3.0.1:\n@@ -9352,7 +9317,7 @@ snapshots:\n       lowercase-keys: 3.0.0\n       p-cancelable: 4.0.1\n       responselike: 3.0.0\n-      type-fest: 4.20.1\n+      type-fest: 4.21.0\n \n   graceful-fs@4.2.11: {}\n \n@@ -9586,7 +9551,7 @@ snapshots:\n \n   ini@2.0.0: {}\n \n-  inquirer@9.3.2:\n+  inquirer@9.3.4:\n     dependencies:\n       '@inquirer/figures': 1.0.3\n       ansi-escapes: 4.3.2\n@@ -9599,7 +9564,7 @@ snapshots:\n       string-width: 4.2.3\n       strip-ansi: 6.0.1\n       wrap-ansi: 6.2.0\n-      yoctocolors-cjs: 2.1.1\n+      yoctocolors-cjs: 2.1.2\n \n   internal-slot@1.0.7:\n     dependencies:\n@@ -9809,7 +9774,7 @@ snapshots:\n   jsdom@21.1.0(bufferutil@4.0.8)(utf-8-validate@6.0.4):\n     dependencies:\n       abab: 2.0.6\n-      acorn: 8.12.0\n+      acorn: 8.12.1\n       acorn-globals: 7.0.1\n       cssom: 0.5.0\n       cssstyle: 2.3.0\n@@ -9832,7 +9797,7 @@ snapshots:\n       whatwg-encoding: 2.0.0\n       whatwg-mimetype: 3.0.0\n       whatwg-url: 11.0.0\n-      ws: 8.17.1(bufferutil@4.0.8)(utf-8-validate@6.0.4)\n+      ws: 8.18.0(bufferutil@4.0.8)(utf-8-validate@6.0.4)\n       xml-name-validator: 4.0.0\n     transitivePeerDependencies:\n       - bufferutil\n@@ -9860,7 +9825,7 @@ snapshots:\n       whatwg-encoding: 3.1.1\n       whatwg-mimetype: 4.0.0\n       whatwg-url: 14.0.0\n-      ws: 8.17.1(bufferutil@4.0.8)(utf-8-validate@6.0.4)\n+      ws: 8.18.0(bufferutil@4.0.8)(utf-8-validate@6.0.4)\n       xml-name-validator: 5.0.0\n     transitivePeerDependencies:\n       - bufferutil\n@@ -10037,7 +10002,7 @@ snapshots:\n   local-pkg@0.5.0:\n     dependencies:\n       mlly: 1.7.1\n-      pkg-types: 1.1.2\n+      pkg-types: 1.1.3\n \n   locate-path@5.0.0:\n     dependencies:\n@@ -10143,7 +10108,7 @@ snapshots:\n       libmime: 5.2.0\n       libqp: 2.0.1\n \n-  marked@13.0.1: {}\n+  marked@13.0.2: {}\n \n   media-typer@0.3.0: {}\n \n@@ -10190,10 +10155,6 @@ snapshots:\n     dependencies:\n       brace-expansion: 1.1.11\n \n-  minimatch@5.0.1:\n-    dependencies:\n-      brace-expansion: 2.0.1\n-\n   minimatch@5.1.6:\n     dependencies:\n       brace-expansion: 2.0.1\n@@ -10220,32 +10181,32 @@ snapshots:\n \n   mlly@1.7.1:\n     dependencies:\n-      acorn: 8.12.0\n+      acorn: 8.12.1\n       pathe: 1.1.2\n-      pkg-types: 1.1.2\n+      pkg-types: 1.1.3\n       ufo: 1.5.3\n \n-  mocha@10.5.2:\n+  mocha@10.6.0:\n     dependencies:\n-      ansi-colors: 4.1.1\n+      ansi-colors: 4.1.3\n       browser-stdout: 1.3.1\n       chokidar: 3.6.0\n-      debug: 4.3.4(supports-color@8.1.1)\n-      diff: 5.0.0\n+      debug: 4.3.5(supports-color@8.1.1)\n+      diff: 5.2.0\n       escape-string-regexp: 4.0.0\n       find-up: 5.0.0\n       glob: 8.1.0\n       he: 1.2.0\n       js-yaml: 4.1.0\n       log-symbols: 4.1.0\n-      minimatch: 5.0.1\n+      minimatch: 5.1.6\n       ms: 2.1.3\n-      serialize-javascript: 6.0.0\n+      serialize-javascript: 6.0.2\n       strip-json-comments: 3.1.1\n       supports-color: 8.1.1\n-      workerpool: 6.2.1\n+      workerpool: 6.5.1\n       yargs: 16.2.0\n-      yargs-parser: 20.2.4\n+      yargs-parser: 20.2.9\n       yargs-unparser: 2.0.0\n \n   mountebank-formatters@0.0.2:\n@@ -10593,7 +10554,7 @@ snapshots:\n \n   pify@2.3.0: {}\n \n-  pkg-types@1.1.2:\n+  pkg-types@1.1.3:\n     dependencies:\n       confbox: 0.1.7\n       mlly: 1.7.1\n@@ -11096,10 +11057,6 @@ snapshots:\n     transitivePeerDependencies:\n       - supports-color\n \n-  serialize-javascript@6.0.0:\n-    dependencies:\n-      randombytes: 2.1.0\n-\n   serialize-javascript@6.0.2:\n     dependencies:\n       randombytes: 2.1.0\n@@ -11523,7 +11480,7 @@ snapshots:\n \n   type-fest@2.19.0: {}\n \n-  type-fest@4.20.1: {}\n+  type-fest@4.21.0: {}\n \n   type-is@1.6.18:\n     dependencies:\n@@ -11548,7 +11505,7 @@ snapshots:\n   unimport@3.7.2(rollup@4.18.0):\n     dependencies:\n       '@rollup/pluginutils': 5.1.0(rollup@4.18.0)\n-      acorn: 8.12.0\n+      acorn: 8.12.1\n       escape-string-regexp: 5.0.0\n       estree-walker: 3.0.3\n       fast-glob: 3.3.2\n@@ -11556,7 +11513,7 @@ snapshots:\n       magic-string: 0.30.10\n       mlly: 1.7.1\n       pathe: 1.1.2\n-      pkg-types: 1.1.2\n+      pkg-types: 1.1.3\n       scule: 1.3.0\n       strip-literal: 2.1.0\n       unplugin: 1.11.0\n@@ -11626,14 +11583,14 @@ snapshots:\n \n   unplugin@1.11.0:\n     dependencies:\n-      acorn: 8.12.0\n+      acorn: 8.12.1\n       chokidar: 3.6.0\n       webpack-sources: 3.2.3\n       webpack-virtual-modules: 0.6.2\n \n   untildify@4.0.0: {}\n \n-  update-browserslist-db@1.0.16(browserslist@4.23.1):\n+  update-browserslist-db@1.1.0(browserslist@4.23.1):\n     dependencies:\n       browserslist: 4.23.1\n       escalade: 3.1.2\n@@ -11707,7 +11664,7 @@ snapshots:\n       - supports-color\n       - terser\n \n-  vite-plugin-checker@0.7.0(eslint@8.57.0)(optionator@0.9.4)(typescript@5.5.3)(vite@5.3.3(@types/node@20.14.9)(sass@1.77.6)(terser@5.31.1))(vue-tsc@2.0.24(typescript@5.5.3)):\n+  vite-plugin-checker@0.7.0(eslint@8.57.0)(optionator@0.9.4)(typescript@5.5.3)(vite@5.3.3(@types/node@20.14.9)(sass@1.77.6)(terser@5.31.1))(vue-tsc@2.0.26(typescript@5.5.3)):\n     dependencies:\n       '@babel/code-frame': 7.24.7\n       '@volar/typescript': 2.3.4\n@@ -11729,7 +11686,7 @@ snapshots:\n       eslint: 8.57.0\n       optionator: 0.9.4\n       typescript: 5.5.3\n-      vue-tsc: 2.0.24(typescript@5.5.3)\n+      vue-tsc: 2.0.26(typescript@5.5.3)\n \n   vite-plugin-compression@0.5.1(vite@5.3.3(@types/node@20.14.9)(sass@1.77.6)(terser@5.31.1)):\n     dependencies:\n@@ -11891,7 +11848,7 @@ snapshots:\n \n   vscode-uri@3.0.8: {}\n \n-  vue-component-type-helpers@2.0.24: {}\n+  vue-component-type-helpers@2.0.26: {}\n \n   vue-content-loader@2.0.1(vue@3.4.31(typescript@5.5.3)):\n     dependencies:\n@@ -11920,10 +11877,10 @@ snapshots:\n       de-indent: 1.0.2\n       he: 1.2.0\n \n-  vue-tsc@2.0.24(typescript@5.5.3):\n+  vue-tsc@2.0.26(typescript@5.5.3):\n     dependencies:\n-      '@volar/typescript': 2.4.0-alpha.12\n-      '@vue/language-core': 2.0.24(typescript@5.5.3)\n+      '@volar/typescript': 2.4.0-alpha.15\n+      '@vue/language-core': 2.0.26(typescript@5.5.3)\n       semver: 7.6.2\n       typescript: 5.5.3\n \n@@ -12088,7 +12045,7 @@ snapshots:\n \n   wordwrap@1.0.0: {}\n \n-  workerpool@6.2.1: {}\n+  workerpool@6.5.1: {}\n \n   wrap-ansi@6.2.0:\n     dependencies:\n@@ -12110,7 +12067,7 @@ snapshots:\n \n   wrappy@1.0.2: {}\n \n-  ws@8.17.1(bufferutil@4.0.8)(utf-8-validate@6.0.4):\n+  ws@8.18.0(bufferutil@4.0.8)(utf-8-validate@6.0.4):\n     optionalDependencies:\n       bufferutil: 4.0.8\n       utf-8-validate: 6.0.4\n@@ -12133,7 +12090,7 @@ snapshots:\n \n   yaml@2.4.5: {}\n \n-  yargs-parser@20.2.4: {}\n+  yargs-parser@20.2.9: {}\n \n   yargs-parser@21.1.1: {}\n \n@@ -12152,7 +12109,7 @@ snapshots:\n       require-directory: 2.1.1\n       string-width: 4.2.3\n       y18n: 5.0.8\n-      yargs-parser: 20.2.4\n+      yargs-parser: 20.2.9\n \n   yargs@17.7.2:\n     dependencies:\n@@ -12175,7 +12132,7 @@ snapshots:\n \n   yocto-queue@1.1.1: {}\n \n-  yoctocolors-cjs@2.1.1: {}\n+  yoctocolors-cjs@2.1.2: {}\n \n   yup@1.2.0:\n     dependencies:"
    },
    {
      "author": "Tan Yeong Sheng",
      "date": "2024-07-05 11:54:48 +0800",
      "message": "improve saltstate description source",
      "diff": "diff --git a/infra/gcp/salt/pillar/doughnut_app/init.sls b/infra/gcp/salt/pillar/doughnut_app/init.sls\nindex 3af750563..b247e03de 100644\n--- a/infra/gcp/salt/pillar/doughnut_app/init.sls\n+++ b/infra/gcp/salt/pillar/doughnut_app/init.sls\n@@ -1,4 +1,9 @@\n doughnut_app:\n+  project_id: carbon-syntax-298809\n+  bucket: dough-01\n   app_dir: /opt/doughnut_app\n   jre_version: 22.30.13-ca-jre22.0.1\n   java_home: /usr/lib/jvm/zre-22-amd64\n+  domain_name: doughnut.odd-e.com\n+  email: nerds@odd-e.com\n+  app_host_port: localhost:8081\ndiff --git a/infra/gcp/salt/states/base_os/init.sls b/infra/gcp/salt/states/base_os/init.sls\nindex dee40261f..3af36703c 100644\n--- a/infra/gcp/salt/states/base_os/init.sls\n+++ b/infra/gcp/salt/states/base_os/init.sls\n@@ -5,8 +5,8 @@\n /etc/profile.d/doughnut_env.sh:\n   file.managed:\n     - source: salt://base_os/templates/doughnut_env.sh\n-    - mode: 755\n     - template: jinja\n+    - mode: 755\n \n mysql-repo:\n   pkgrepo.managed:\ndiff --git a/infra/gcp/salt/states/base_os/templates/doughnut_env.sh b/infra/gcp/salt/states/base_os/templates/doughnut_env.sh\nindex c8c7aa447..b1b001a5f 100644\n--- a/infra/gcp/salt/states/base_os/templates/doughnut_env.sh\n+++ b/infra/gcp/salt/states/base_os/templates/doughnut_env.sh\n@@ -1,6 +1,6 @@\n #!/bin/bash\n \n-export PROJECTID=\"{{ salt['pillar.get']('doughnut_app:projectid', 'carbon-syntax-298809') }}\"\n-export BUCKET=\"{{ salt['pillar.get']('doughnut_app:bucket', 'dough-01') }}\"\n-export JAVA_HOME=\"{{ salt['pillar.get']('doughnut_app:java_home', '/usr/lib/jvm/zre-22-amd64') }}\"\n+export PROJECTID=\"{{ salt['pillar.get']('doughnut_app:project_id') }}\"\n+export BUCKET=\"{{ salt['pillar.get']('doughnut_app:bucket') }}\"\n+export JAVA_HOME=\"{{ salt['pillar.get']('doughnut_app:java_home') }}\"\n export PATH=$PATH:$JAVA_HOME/bin"
    },
    {
      "author": "Arne Henrik Storm",
      "date": "2024-07-04 21:23:02 +0200",
      "message": "linter things",
      "diff": "diff --git a/e2e_test/start/pageObjects/AssessmentPage.ts b/e2e_test/start/pageObjects/AssessmentPage.ts\nindex b967b4c55..795e53133 100644\n--- a/e2e_test/start/pageObjects/AssessmentPage.ts\n+++ b/e2e_test/start/pageObjects/AssessmentPage.ts\n@@ -19,9 +19,7 @@ const assumeQuestionSection = () => {\n       })\n     },\n     answer(answer: string) {\n-      return cy\n-        .findByText(answer)\n-        .click()\n+      return cy.findByText(answer).click()\n     },\n   }\n }"
    },
    {
      "author": "Arne Henrik Storm",
      "date": "2024-07-04 21:13:45 +0200",
      "message": "nobody likes to wait, especially even linter",
      "diff": "diff --git a/e2e_test/start/pageObjects/AssessmentPage.ts b/e2e_test/start/pageObjects/AssessmentPage.ts\nindex 5a19b0648..b967b4c55 100644\n--- a/e2e_test/start/pageObjects/AssessmentPage.ts\n+++ b/e2e_test/start/pageObjects/AssessmentPage.ts\n@@ -22,11 +22,6 @@ const assumeQuestionSection = () => {\n       return cy\n         .findByText(answer)\n         .click()\n-        .then(() => cy.wait(100))\n-      // This wait is an anti-pattern and should be fixed.\n-      // There is an issue now when the user clicks an answer,\n-      // the test move on before the next question appears on the screen.\n-      // We should have something else in the questions page like a status bar so we can use  cy.get() and .should() instead.\n     },\n   }\n }"
    },
    {
      "author": "Arne Henrik Storm",
      "date": "2024-07-04 18:10:58 +0200",
      "message": "changed test data table and added wait in a step definition",
      "diff": "diff --git a/e2e_test/features/assessment/self_assessment.feature b/e2e_test/features/assessment/self_assessment.feature\nindex 0e2567d3f..02b000c48 100644\n--- a/e2e_test/features/assessment/self_assessment.feature\n+++ b/e2e_test/features/assessment/self_assessment.feature\n@@ -18,9 +18,10 @@ Feature: New questions assessment\n       | Singapore | Where in the world is Singapore?   | Asia    | euro           | true     |\n       | Vietnam   | Most famous food of Vietnam?       | Pho     | bread          | true     |\n       | Japan     | What is the capital city of Japan? | Tokyo   | Kyoto          | true     |\n+      | Japan     | What is the largest city in the Kyushu island? | Fukuoka  | Nagasaki       | true     |\n       | Korea     | What is the capital city of Korea? | Seoul   | Busan          | true     |\n       | China     | What is the capital city of China? | Beijing | Shanghai       | true     |\n-\n+      | China     | What is the largest city of China? | Shanghai | Beijing        | true     |\n \n   Scenario: Complete an assessment with 5 approved questions\n     Given I set the number of questions per assessment of the notebook \"Countries\" to 5\n@@ -32,6 +33,8 @@ Feature: New questions assessment\n       | What is the capital city of Korea? | Busan   |\n       | What is the capital city of Japan? | Kyoto   |\n       | What is the capital city of China? | Shanghai |\n+      | What is the largest city in the Kyushu island? | Nagasaki |\n+      | What is the largest city of China? | Beijing |\n     Then I should see the score \"Yours score: 2 / 5\" at the end of assessment\n \n   Scenario: Perform an assessment with all correct answers with table view\n@@ -44,6 +47,8 @@ Feature: New questions assessment\n       | What is the capital city of Japan? | Tokyo   |\n       | What is the capital city of China? | Beijing |\n       | What is the capital city of Korea? | Seoul   |\n+      | What is the largest city in the Kyushu island? | Fukuoka  |\n+      | What is the largest city of China? | Shanghai |\n     Then I should see the score \"Yours score: 5 / 5\" at the end of assessment\n \n   Scenario: Perform an assessment with all wrong answers\n@@ -56,6 +61,8 @@ Feature: New questions assessment\n       | Most famous food of Vietnam?       | bread    |\n       | What is the capital city of Korea? | Busan    |\n       | What is the capital city of China? | Shanghai |\n+      | What is the largest city in the Kyushu island? | Nagasaki |\n+      | What is the largest city of China? | Beijing |\n     Then I should see the score \"Yours score: 0 / 2\" at the end of assessment\n     And I should see a link to the \"Singapore\" notebook\n \n@@ -66,7 +73,7 @@ Feature: New questions assessment\n   Scenario: Fail to start assessment not enough approve questions\n     Given I toggle the approval of the question \"What is the capital city of China?\" of the topic \"China\"\n     And I toggle the approval of the question \"Most famous food of Vietnam?\" of the topic \"Vietnam\"\n-    And I set the number of questions per assessment of the notebook \"Countries\" to 4\n+    And I set the number of questions per assessment of the notebook \"Countries\" to 8\n     When I start the assessment on the \"Countries\" notebook in the bazaar\n     Then I should see error message Not enough questions\n \ndiff --git a/e2e_test/start/pageObjects/AssessmentPage.ts b/e2e_test/start/pageObjects/AssessmentPage.ts\nindex 795e53133..5a19b0648 100644\n--- a/e2e_test/start/pageObjects/AssessmentPage.ts\n+++ b/e2e_test/start/pageObjects/AssessmentPage.ts\n@@ -19,7 +19,14 @@ const assumeQuestionSection = () => {\n       })\n     },\n     answer(answer: string) {\n-      return cy.findByText(answer).click()\n+      return cy\n+        .findByText(answer)\n+        .click()\n+        .then(() => cy.wait(100))\n+      // This wait is an anti-pattern and should be fixed.\n+      // There is an issue now when the user clicks an answer,\n+      // the test move on before the next question appears on the screen.\n+      // We should have something else in the questions page like a status bar so we can use  cy.get() and .should() instead.\n     },\n   }\n }"
    },
    {
      "author": "mikhail.gubenko",
      "date": "2024-07-04 18:02:42 +0200",
      "message": "fix linter 💩💩💩💩💩💩💩💩💩💩💩💩",
      "diff": "diff --git a/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java b/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java\nindex 70d0ebfa2..42ccda4c2 100644\n--- a/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java\n+++ b/backend/src/main/java/com/odde/doughnut/controllers/RestAssessmentController.java\n@@ -48,6 +48,7 @@ class RestAssessmentController {\n     currentUser.assertLoggedIn();\n     currentUser.assertReadAuthorization(notebook);\n \n-    return assessmentService.submitAssessmentResult(currentUser.getEntity(), notebook, questionsAnswerPairs);\n+    return assessmentService.submitAssessmentResult(\n+        currentUser.getEntity(), notebook, questionsAnswerPairs);\n   }\n }\ndiff --git a/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java b/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java\nindex 80b42c943..aa9b80959 100644\n--- a/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java\n+++ b/backend/src/main/java/com/odde/doughnut/services/AssessmentService.java\n@@ -10,8 +10,6 @@ import com.odde.doughnut.exceptions.ApiException;\n import com.odde.doughnut.factoryServices.ModelFactoryService;\n import com.odde.doughnut.models.randomizers.RealRandomizer;\n import com.theokanning.openai.client.OpenAiApi;\n-import org.springframework.transaction.annotation.Transactional;\n-\n import java.sql.Timestamp;\n import java.util.List;\n import java.util.Objects;"
    },
    {
      "author": "mikhail.gubenko",
      "date": "2024-07-04 17:09:48 +0200",
      "message": "fix linter 💩",
      "diff": "diff --git a/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java b/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\nindex 3219ca673..9b30c86af 100644\n--- a/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\n+++ b/backend/src/test/java/com/odde/doughnut/controllers/RestAssessmentControllerTests.java\n@@ -1,5 +1,7 @@\n package com.odde.doughnut.controllers;\n \n+import static org.junit.jupiter.api.Assertions.*;\n+\n import com.odde.doughnut.controllers.dto.AssessmentResult;\n import com.odde.doughnut.controllers.dto.NoteIdAndTitle;\n import com.odde.doughnut.controllers.dto.QuestionAnswerPair;\n@@ -12,7 +14,6 @@ import com.odde.doughnut.testability.builders.NoteBuilder;\n import com.theokanning.openai.client.OpenAiApi;\n import java.util.*;\n import java.util.function.Consumer;\n-\n import org.junit.jupiter.api.BeforeEach;\n import org.junit.jupiter.api.Nested;\n import org.junit.jupiter.api.Test;\n@@ -23,8 +24,6 @@ import org.springframework.test.context.ActiveProfiles;\n import org.springframework.transaction.annotation.Transactional;\n import org.springframework.web.server.ResponseStatusException;\n \n-import static org.junit.jupiter.api.Assertions.*;\n-\n @SpringBootTest\n @ActiveProfiles(\"test\")\n @Transactional\n@@ -53,36 +52,37 @@ public class RestAssessmentControllerTests {\n \n     @Test\n     void shouldPickRandomNotesForAssessment() throws UnexpectedNoAccessRightException {\n-        makeMe.theNote(topNote).withNChildrenThat(10, NoteBuilder::hasAnApprovedQuestion).please();\n-        notebook.getNotebookSettings().setNumberOfQuestionsInAssessment(1);\n+      makeMe.theNote(topNote).withNChildrenThat(10, NoteBuilder::hasAnApprovedQuestion).please();\n+      notebook.getNotebookSettings().setNumberOfQuestionsInAssessment(1);\n \n-        Set<Integer> questionIds = new HashSet<>();\n-        for (int i = 0; i < 3; i++) {\n-            List<QuizQuestion> assessment = controller.generateAssessmentQuestions(notebook);\n-          Integer questionId = assessment.get(0).getId();\n-          questionIds.add(questionId);\n-        }\n+      Set<Integer> questionIds = new HashSet<>();\n+      for (int i = 0; i < 3; i++) {\n+        List<QuizQuestion> assessment = controller.generateAssessmentQuestions(notebook);\n+        Integer questionId = assessment.get(0).getId();\n+        questionIds.add(questionId);\n+      }\n \n-        assertTrue(questionIds.size() > 1, \"Expected questions from different notes.\");\n+      assertTrue(questionIds.size() > 1, \"Expected questions from different notes.\");\n     }\n \n     @Test\n     void shouldPickRandomQuestionsFromTheSameNote() throws UnexpectedNoAccessRightException {\n       int numberOfQuestions = 3;\n \n-      Consumer<NoteBuilder> multipleApprovedQuestionsForNote = noteBuilder -> noteBuilder.hasApprovedQuestions(numberOfQuestions);\n+      Consumer<NoteBuilder> multipleApprovedQuestionsForNote =\n+          noteBuilder -> noteBuilder.hasApprovedQuestions(numberOfQuestions);\n \n-        makeMe.theNote(topNote).withNChildrenThat(1, multipleApprovedQuestionsForNote).please();\n-        notebook.getNotebookSettings().setNumberOfQuestionsInAssessment(1);\n+      makeMe.theNote(topNote).withNChildrenThat(1, multipleApprovedQuestionsForNote).please();\n+      notebook.getNotebookSettings().setNumberOfQuestionsInAssessment(1);\n \n-        Set<Integer> questionIds = new HashSet<>();\n-        for (int i = 0; i < 10; i++) {\n-            List<QuizQuestion> assessment = controller.generateAssessmentQuestions(notebook);\n-          Integer questionId = assessment.get(0).getId();\n-          questionIds.add(questionId);\n-        }\n+      Set<Integer> questionIds = new HashSet<>();\n+      for (int i = 0; i < 10; i++) {\n+        List<QuizQuestion> assessment = controller.generateAssessmentQuestions(notebook);\n+        Integer questionId = assessment.get(0).getId();\n+        questionIds.add(questionId);\n+      }\n \n-        assertEquals(numberOfQuestions, questionIds.size(), \"Expected questions from the same note.\");\n+      assertEquals(numberOfQuestions, questionIds.size(), \"Expected questions from the same note.\");\n     }\n   }\n "
    }
  ]
}
